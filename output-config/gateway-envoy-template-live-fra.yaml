static_resources:
  listeners:
  - name: ingress_http
    address:
      socket_address:
        address: 0.0.0.0
        port_value: 8080
    per_connection_buffer_limit_bytes: 20971520
    filter_chains:
      filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          stat_prefix: ruthenium_ingress_http
          codec_type: AUTO
          generate_request_id: true
          tracing:
            custom_tags:
            - tag: x-request-id
              request_header:
                name: x-request-id
            provider:
              name: envoy.tracers.datadog
              typed_config:
                '@type': type.googleapis.com/envoy.config.trace.v3.DatadogConfig
                collector_cluster: datadog_agent
                service_name: ruthenium
          add_user_agent: true
          access_log:
          - name: envoy.access_loggers.file
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
              path: /dev/stdout
              log_format:
                text_format_source:
                  inline_string: |
                    [n26/ruthenium] [%START_TIME(%Y-%m-%dT%H:%M:%S,%3fZ)%] [INFO] [0] [http-manager] url.path=%REQ(:PATH)% http.protocol=%PROTOCOL% http.request.bytes=%BYTES_RECEIVED% http.request.method=%REQ(:METHOD)% http.request.headers.host=%REQ(:AUTHORITY)% http.request.headers.user-agent=%REQ(USER-AGENT)% http.request.headers.x-original-path=%REQ(X-ENVOY-ORIGINAL-PATH)% http.request.headers.x-amzn-trace-id=%REQ(X-AMZN-TRACE-ID)% http.request.headers.x-forwarded-for=%REQ(X-FORWARDED-FOR)% http.request.headers.x-forwarded-port=%REQ(X-FORWARDED-PORT)% http.request.headers.x-forwarded-proto=%REQ(X-FORWARDED-PROTO)% http.request.headers.x-envoy-external-address=%REQ(X-ENVOY-EXTERNAL-ADDRESS)% http.request.headers.x-request-id=%REQ(X-REQUEST-ID)% http.response.bytes=%BYTES_SENT% http.response.status_code=%RESPONSE_CODE% downstream.tls.version=%DOWNSTREAM_TLS_VERSION% duration=%DURATION%
          route_config:
            name: local_route
            virtual_hosts:
            - name: api
              response_headers_to_add:
              - header:
                  key: x-content-type-options
                  value: nosniff
              - header:
                  key: x-frame-options
                  value: DENY
              - header:
                  key: x-xss-protection
                  value: 1; mode=block
              - header:
                  key: x-request-id
                  value: '%REQ(x-request-id)%'
              domains:
              - '*'
              routes:
              - match:
                  prefix: /api/me
                  query_parameters:
                  - name: full
                    string_match:
                      exact: "true"
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: ddc6382d-7d61-4c2f-b331-51e26cb8464d
              - match:
                  prefix: /api/transactions/p2p/internal/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                  - name: :authority
                    string_match:
                      exact: beta-api.tech26.de
                route:
                  cluster: bapi
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a27f83c84f4c69fb9c7e56c27664288fdc9f1e2a46739360ea0835842dee04ae
              - match:
                  prefix: /api/transactions/p2p/internal/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: api
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c02f2d588af022f51b4dfe69c5384fff6f8e15c0ad300301356baa2dc3fc5f57
              - match:
                  safe_regex:
                    regex: "^.*[^%23]internal[^-]*$"
                    google_re2: {}
                  headers:
                  - name: x-n26-internal
                    present_match: true
                    invert_match: true
                direct_response:
                  status: 404
              - match:
                  prefix: /api/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                  - name: x-n26-ping-secret
                    string_match:
                      exact: Vnx81QkXnw5L2AdB46WyHAdQBITznfsY
                direct_response:
                  status: 200
                  body:
                    inline_string: pong
              - match:
                  path: /api/reverification/unpaired-device
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/reverification/unpaired-device
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 462d3762ec9f0212b2d74c6f79c087f62a6e54777bd80617fbc1e9576f1c2aff
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reverification/unpaired-device
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-correct-user-data"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-correct-user-data"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/user-answer/confirm-correct-user-data
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c00cdd037fdea681899c2385513461eb6c17684f9cd8870f8df0788e8b1ced9c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm-correct-user-data"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-incorrect-user-data"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-incorrect-user-data"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/user-answer/confirm-incorrect-user-data
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1be851b8d3c0da74faa462e49a292f5be6a15760f744fd674a0ac92bbf2ecbd4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm-incorrect-user-data"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/personal-information
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8d957df4266ce81953d01d8555bbb5ea43b0562805d57b13f8662e702f7c21b0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/personal-information"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/personal-information/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1fd40f9d33c6ea36d2d4a1dfd245b0ec20bf9f3cb0956ec90ee1f4c3bd3acaa1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/personal-information/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/addresses/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ac090d88a083bed471b09a92c0f6af800591a8e2d622a18b0138640daad2596
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/addresses/{addressId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/addresses/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f141b9504e860650bcc4b52c4bd156f7becaddd94eff7fc2c7d33ba6d9fb0936
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/addresses/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 214ab853b8c9e9ed3905ed5456be3e0402fe63140bfd5bd5c6700aa5a0d79d2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/vat"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/vat"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/vat
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cbab105160e46c5fb52d73e3496767bd3d919c0e578c93e2a8d202f0c26ae58f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/vat"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/ateco"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/ateco"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4eb3b4d3d4b6b0fa72810d140df93aa7c07c3b043ce98b59834b98a0cacfcfd2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/ateco"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89c0c0e5d6b290853c7f3cbc0c10a3f81deb4aca8416456e414e243c6086653b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/tax
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8a15cb3988c5f5e433fbee1a35c3f25e8327ad53f911089bc7044b7798eb1883
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/tax"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/tax/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d841491d753fc2dc4982516fa6f49b25df1ababc887755d282e5f8bebf56341
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/tax/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f49f05b42fb88aaf507deb04c2e224d03506d8f576b5782029f303e46e4100d4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/reverification
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/reverification-process/current-flow
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fe65dbc068fb5c2548dd4898ebde1675bbac7da8e1f6d3877f77e75dd746471c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reverification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/reports
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: aether
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v1/customer-report
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f421289f2459d18a94301d8f384772e3b824b713353dbbb1de8f5463c75217ca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reports
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/fee-statement/request-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/request-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d6c40f9dde65d57e4f4822e462f27a9bd53d3292951aef879a29d851912a3792
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/fee-statement/request-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/fee-statement/export-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/export-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 617cb58e1c1147eae7346653832411ee0d6d76a378efa27f1f7c07c459228c47
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/fee-statement/export-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/fee-statement/request
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/request
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e317cd0f96e7e0632437e97f81750f3933ebd263175e36373e4d8ccc470cd740
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/request
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/fee-statement/export
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/export
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 492c388c0a68e13143ab94744f5f492c2e7b644eeecfef868de95bbdc00b5695
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/export
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/multicurrency/presentation/onboardings
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: boron
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/onboardings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 238f3bcfeb9032b2b9b67b32035688ef7a98cd1922a0d4c42da59426d9bd8c3f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/multicurrency/presentation/onboardings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/search
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: bromine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 950bbecac5ff4ee0effa0ddc016cd33d13ee34d4d3047572fea84c1695cbc30c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/search
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/chat-providers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 525ae6badac7659366d9258e11d5ca7e6612eb2b1527cc3a7af314aaaea6de83
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chat-providers
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  path: /api/chat-providers/guest
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6db13190cff97c1c9fa8d3667da610b82f6d2f3ba0fad60582ada34086a49302
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/chat-providers/guest
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  path: /api/customer-support-chats
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2b0fa1823d60f187ce3b78002c34a0c947d6619d34291c039dd8e5a40e991c0c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-support-chats
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/customer-support-chats/guest
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 46a196681bceb2ae7b95be533ef8160e89ec31323b7d4f10c8472ebe838f72a3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/customer-support-chats/guest
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/customer-support-chats/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 248856a5e4fb0072df9424eb5e12abddcd04b3afd4ed45d2da7d293e9bb2d773
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-support-chats/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=900,precision=900,backoff=0"
              - match:
                  prefix: /partners/twilio
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  prefix_rewrite: /twilio
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23efac4e1e3c322086e9aefce0718a4bde8dcbaaefe217698f112499b1640874
              - match:
                  prefix: /api/cash26/barzahlen/notifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(46\\.231\\.176\\.(209|21[0-9]|22[0-2])|80\\.82\\\
                          .206\\.(129|1[3-8][0-9]|190)|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 547cf7811d8c2ef6a1f077ecee2f41070341c5ab9cdf02472be34c24a7f1e207
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/cash26/barzahlen/notifications
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/cash26/barzahlen/notifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 547cf7811d8c2ef6a1f077ecee2f41070341c5ab9cdf02472be34c24a7f1e207
              - match:
                  prefix: /api/cash26
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4d66916c5f0d2565e715d2aba7a17bf40638e4ac1c25b1ced99c6819d6b82ee1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/cash26/check
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e30c2b0f5f23df5a6e63694cbf4ddbbe9f3d05aa3dffb04d3bb0b3f55856fcd6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/check
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/transaction/[a-zA-Z0-9-_]+/barcode"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d8c27895862e794ff464771c010e84bb9d7ce2ef3cd7d4f1da2b101b66d45865
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/transaction/{transactionId}/barcode"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/resendtan/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cash26/resendtan/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/cash26/resend-certification/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66783965dcca614d5f48eb4f5cb846f4ec2822b6a93d03121d3ed5151e984a40
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/resendtan/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b5b10317920bb8157477b0f5437a514a0c5d26133b0f60dbf290dc9d272c840
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b5b10317920bb8157477b0f5437a514a0c5d26133b0f60dbf290dc9d272c840
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/encryption/key
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 50d138ab4c93fb2c4d8d9c2cc73676c59be64e21146e8e619efecab0dc1508eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\",\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\",\"THIRD_PARTY_DEDICATED_AISP\"\
                        ,\"THIRD_PARTY_DEDICATED_PISP\",\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      route_path_match: /api/encryption/key
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=3,precision=3,backoff=0"
              - match:
                  path: /api/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 823e4fa0cb8956fb75d6bfefbac30d5c06276b7c8512003778bb0b2430763a29
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certifications
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ca59b3e9be2242c44981c07c742a992a4f7b8dab8534163ba1bc19807c1037ba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01757befdb8651fc86634f4943e98bbd05a6d5f24d8a78d23582a3e7b736103e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/[a-zA-Z0-9-_]+/status"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9dde3de4edcd4f6604cb2d7d6dce6b638f2401fec75d2d9dc1e07c31e2bd2a64
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=5,precision=5,backoff=0"
              - match:
                  path: /api/pairing/send-code
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 211090b38de7742e9a51e6ebd54e6efe68af735a525bfe80dafc64ed6edfc84f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/send-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=3600,precision=3600,backoff=0"
              - match:
                  path: /api/pairing/sms-codes
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e43f390d83c5ab32e0190ceba8915d63a06a8cca6e506530abcc2ff26fcc2894
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/sms-codes
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pairing/complete
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7093c5e11f5fd513f0dcf986a7605e66ff7c82691002ff6c964fb3c3fec4c53a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/complete
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  path: /api/repairing/send-code
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8aecb80183eeb695a377e61532f5af8be842bbdcd76cca3015f42d244843a2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/send-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/sms-codes
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: beded981be429907f4eadac25a0942a674aab5221007ed834cf90679fe76a00c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/sms-codes
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/sms-codes/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a1d694d9667106ff7bebc326995cc17b84c24d8899c4a25b5eeb34ecdfb91a1e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/sms-codes/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/card/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b32dc4452901d65b62a2feb6eec1b9284619fd3a566dc1df1919bfc9b9e8d62c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/card/{cardToken}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/code/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c87267eb67df3e157af4f04770b43e866fa5ff2b01f541c0b1a5b5ef7d7d7c50
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/code/{code}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/cards/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e26de7511bc81e3ca444ac8b912350b7d09ed71e551f7433ce7ffab796ecdd79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pairing
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e37579e93027c672a36e2dbd913c12a5d2f4bd264eea5b6c7b73061ce2078c4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  path: /api/repairing
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0dba1b8791839aab469d403f20b4b8651ebff6d05712b561a19e6827c4dbebf6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  path: /api/pins
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7196efd3b174f545d84085166ebbff4b91baeba454a94459f1ff233bbd0f8f27
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pins
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/recovery
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3c2933344ed10afd4b9b8fd10a31675612e0185cce201315c6bbd3b2fb96a841
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/recovery
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/recovery/card/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e473cb53e71f6dbf2bf0afb7f0b3346fb8d846699a85b3249d8ca10b24b72aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/recovery/card/{cardToken}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/recovery/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 46863141d6884d3543cd3bfed7fa86361f20beb29060c7a4f2a64c1338b51aa3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/recovery/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pin/validation
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eca0c6a45e5b0a75f77ef912f6a194e309a97b2ff4b837857d3bcf2ba4dae718
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/pin/validation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/accounts/resetpin
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/pin/reset
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5b1a0de3c83dba093a919e3e261c751c3bc15858f27c92088def9efd35a2573f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts/resetpin
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/accounts/setpin
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/pins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cff03e69cbf80de817ade7906385cc3bb5da42a2b5fdd239acc813a9311637d2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts/setpin
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/email-links/[a-zA-Z0-9-_]+/resend"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4c5a05d0e940e6d49a0352765941ad08e19535827b386ee67c01b90e13d03682
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/email-links/{publicId}/resend"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  safe_regex:
                    regex: "/api/email-links/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08e237dc8f0e84a0a505f407906f9bd8086707effa2513b650eb4462ede84995
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/email-links/{publicId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/repairing/recovery/email-link/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8bea19cc718f7d7798d90212719921fb064895227e27a7cc2f3baaf2ffced6b7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/recovery/email-link/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  prefix: /api/repairing/email-link/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5896cd56b7b6ed86453f6f94d9d822e2aac5fe31019fff56dc7f8da363067fa4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/email-link/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  prefix: /api/repairing/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c183b9d2b775ad24f0c0bb13c9d3b9d192f9bb1d9cbc2b7c030eb4278f8647f9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9eaecf954db922bb3021cd36cf8b18049f2ca39720f43c404a0d6c8b2dc1d168
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 97d9f6074cadeb083c84c13a61594bb90cb14be654d5be6dfa63e1f24ec59544
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 735404c5018e294d0bf490f2836eaee7cdc32e97bb5b08f12b1c6e45cce956fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/account/primary
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 399656eb918d0c3839fda8a4f0e9ef88208fd2a0dfd7668694d06096aaa112a7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/account/primary
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5006c143d1920eb17592ba09f5400aeba5debc0d8dc873e6d13169971bff1f96
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/balances
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/balances
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0bf00607ea31d598d0a7e163ec2236f1998ebb15c95a7b20a613db569868d3ba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/transfers/balances
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2d60f60b8c13b0a5f5eda1a826928f3094bedebb2b31ec824ef5600bcf4d6463
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: db2d407183d0eaf6ef3d51c31329f640d5647326ecd2f7234f4dfdf3089cbbf6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/sepa/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/sepa/journey
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b7bcb627a5997b3014bf8d2edea6bc54792c364f8a37095323fd3cabfcdfce00
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers/sepa/journey
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/transfers/iban-info/financial-relationship
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/iban-info/financial-relationship
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8f7f699ecebeba3b6b18dfcfe6f2528a9603acb7c11caac024c7f68009c15df7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers/iban-info/financial-relationship
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/local-payments/pagopa/verify
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/local-payments/pagopa/verify
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb4cb8101befeca0ac68ec4c6f32e178b0c7011782aba5ce337e36e244799d68
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/transfers/local-payments/pagopa/verify
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e7add580bbdc351ad7e41f7c6652f3e363e22ffc78aa8764c155d27ae32d9d8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ff42b8781879e6e9ce51b781998d986ea0a87ee4d8402d8528e5c5dd5284af74
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bd55426d9f08714ee58e2eecaa67ab8cf254e296e1d951b7b4e09ddaf2209fd9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f73cf78bf8c1c0c7c05500e0bb27af63bb5474297af73f268aaffe5d75d2392c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 140a6c62fd84a5c44ccf4d7918c6ebf4a9c36acfe7d6cba5f67ec9d1f5b5c77f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d94eb9585a6bc0d7fbb17d504c1d5b007d632efc09d0d7342707ac6381643160
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f0d12dc8329facc65a7e65d9c895f8e41d8de605fd25140a5652b626ca45eb22
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fa7c83277eace838134cddc65bde9752fc0fb994329c29034867f13d11d42485
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc76537fc2607cbe757a31fa7cbe0878b4b6165feda6748be9b4adeb2c714bab
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1749d81961d84af69e8666a2c128f87730ccc96f0efbb8acf481e84c688ab73e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: df277e8ad9ba39cb28f130b837cfe0ad4030e7302c2939337ac3e4e2598052d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules/dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments/spaces
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fa41106309961ca78d65e1ed53525f88227b50ed3def56d0e34fcbbf5fb7c0f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules/dashboard
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/aggregation/split-bill/limits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /aggregation/split-bill/limits
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 490eb6e9d03c7087b39a48d447e4d449147e1331a87e99d492d98d0ae14a9fc8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/split-bill/limits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/split-bill
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /split-bill
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e891535726c5b50c2816c8b56776ab73cbb689ff85751114180341d17454a264
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/split-bill
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/aggregation/split-bill/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /aggregation/split-bill/config
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a0041af95347c3c8360f45f27dfae8d41d5a9bc0c3a8237fb906e8563305bcbc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/split-bill/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/iban
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/iban-info
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e51f9200fd3f52f78d2266c8759f02568c781a68d7ff51c06271da94d67b1c17
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/iban
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc8665427c6b8746d0b556b417a34f56d92f40e68a23ba81c012b7b779caec18
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/bizum/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fa5335cefa7c36628ad182bcbe085a4ac26dc1d5da1227287f8c180ad11cdfa0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/requests-to-pay/incoming
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a7a0ba3ab27fcecae9c91cf82b6482845174fd4ccc165a43231958b011ad1087
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/requests-to-pay/incoming
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33eaab546bb2318a4635430c4c8310f113d2236702afdbd80722c0344481b93e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b21a70875e8d8b32199779cd53876eb6e9156d0317a16932197e83c9b9f18494
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/signup/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 02bc5acd8a5da0fb6878791561c946e7d3a565067c96d93fe94450bbd1c2fd40
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=90,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/signup/portability
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/portability
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9c18f6c99db83e1019d216e3af0d6d908a059174c9878b8cceb83f14f61da06d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/portability
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/signup/portability
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/portability
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4b1cce473fc53af349d0e31ff34d2221486b727d32d329c47f0f45865c913f6c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/portability
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a762fa2debd670a9b46e0aa276f3979e2dce50d6b24e2a74c9b01fb39512cb52
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=200,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/valid
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/valid
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1d9aacba01cf2538a7cdac679ad875bf0d0af94b52b15de9e224b7aae3043972
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/valid
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/bizum/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d13fa37ec064256238da0dcdde065bcc1a992a19f6fb18d2201d42581999d4fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/deactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/deactivate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9dc513f74293dc87a57cd70d6eb2cd944bc889625eca49e546a56e5daf53e937
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/deactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 119393edd19bc899e2d1fa82fc126291ebb57ff6abd68ea88653a639fc00d0fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1368158a8679fbbfcb18f7a4bb9dd5813f1b24aa34313971ee51057bd23ca128
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 59dc92579de2ddad7b57dcd17efa96824880eccc9842d7506d29c2d388fa3003
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6322f6bbe8143feb11c32e8ff4c87288db266384d2b338b54cc152cdc20bd498
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /financial-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9d5c033d280e2e4e58661a9cc65e8fa16eeb1dd5f2b8dba97fe0864f1f09b3cc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /financial-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b2cc9cf03a6026c18ca807029916c24ca682379566c620fedb4a4e4e59809b71
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/eligible-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /eligible-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e73b4ba660f80d54b82b86d1a53fae253b118ba7726b9d6d418c29ec777321ef
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/eligible-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/customercare/threshold/check
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /customercare/threshold/check
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f240d91f9c49d1a5189dd32d20aa6b414292e6a3a15ec07bf133e42a0a372032
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customercare/threshold/check
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/donations
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /donations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3afa7f25f4b0dde975ae3eb649c729cc7f92af62c5447cb31a91fc050350608b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/donations
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0bd02fca6220f92c53dd0d45da156a04ac9cf081227bd7a4ad83d3419d12e9e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/direct-debit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 051f1d5499cf9b3e44a2bb64a75687041f9ac44df88de351768a7e3b2c946948
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/direct-debit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/standing-order
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 40bd7214c665ecd5e4f62a9e4f79d26e1ad48781c1ceacfccdf680d6ae41f89d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/standing-order
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/automation-hub
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b81a82e61c7be7630c61533eca0d8bc2f092dd7e36addc7bcdd71161087c5ec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/automation-hub
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/automations/spaces-rules/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 941a75bfe8a5c48ef4e4fd85278eea141d1a96c4cd1dd9048d7b9c92692111f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/automations/spaces-rules/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/upcoming-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dd3f7248fef1058f137f9f78d28df1fc5ecb6b26698516bdeec5a2a083b9fc37
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/upcoming-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/payment-methods
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/payment-methods
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: df9e35436d49f9acdc04eea86cd98bcda34d704cf586fc32312d1f2993262fc1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/payment-methods
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/directory
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 53d22076cd9d4c535cbca4e978b6d9662c2e508059ab3e82bb5b865ebf83a235
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contacts/directory/attributes/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contacts/directory/attributes/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /contacts/directory/attributes/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9d57790cefd9e3eea5707011ed94b62579e84e9f1f7618bfdbfdb3da8813b236
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contacts/directory/attributes/{id}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/directory/sync
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory/sync
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e55c48e3e85f510821cd78fcb83ce240caafd105d9e13a332f8d8776f148807c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory/sync
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/contacts/directory/partial-sync
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory/partial-sync
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 270f2ed3156dd94ca277468d62f709ea607f6d88288201a0271f724cd1a24ab2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory/partial-sync
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=8,window=14400,precision=14400,backoff=0"
              - match:
                  prefix: /api/moneybeam
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ad30335d3047d11e346023b4f389e728be86349c6866abffc08f1903c212f211
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/moneybeam
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/aggregation/moneybeam/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7e553954718de0fe656491c72a7eca34f5fad48ecdfe7f0d9e7716ee9b92b70d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/moneybeam/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /presentation/flows/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e957fecf7f78e68e6a2188a4edad4cec0046ac07be981c99ed1152b33819c84e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/contract
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d8b922869516f9e3136bd37bd4a1b47de02b6beee66a0d7c4b4535ba65d0c4ea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f83d60085afa809b469aa7b86cfa2c7a487fb9d5e5388abbbcd6739b6a051e42
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /contracts/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7fd73e3c2924f1d41399b27c2be29b8f3fbc214c7eb716445b7cf360a7445436
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/{contractId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/contracts/download
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/contract/download
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: af8ba031d2ba54683ec337e686b66ec8dbbd090463eefedb4554d174098a760c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/contracts/download
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation/legal-documents
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts/presentation/legal-documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 62f1f3d4aa19267acc1551e09115aba88f88ec8367abfaf8bb5b846ac549da68
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation/legal-documents
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/legal-documents/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/legal-documents/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /contracts/presentation/legal-documents/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fae91cf5cbda9f624638f5a39c9303045999826ed4a7bf976f5744fc28983e8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/legal-documents/{id:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation/device-not-paired
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/flows/device-not-paired
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6bb4b03031466e9adb67e33aa13bc1f4d6df4f73ed9c8795057e48d5acdc6696
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation/device-not-paired
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/reset-pairing-and-kyc
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/flows/reset-pairing-and-kyc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 817ba0341b8d8b75665392a3c9fc45bdf846e9731410e38d79ad7b80bf1c2e08
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/reset-pairing-and-kyc
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                      google_re2: {}
                    substitution: /presentation/acceptance/\1/contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 25d3c0f13544419f69dc78f54cbb11aa39e4479fd865fb9d47fde9d89d9a78c1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/acceptance/{flowType}/contracts"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                      google_re2: {}
                    substitution: /presentation/acceptance/\1/contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b9f06b2844756a51085a419aee25b1f52bad4e9b3b4a4086556383a66b3bb46
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/acceptance/{flowType}/contracts"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/send-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/send-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/send-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e7c88764a3cdb37119dde60bc0e5b4c99d7f3c02eece0ca25ce601dcbd27440
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/send-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/confirm-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d34ab8bdad84c92f523bbef8508aab2ad077525841a05f16d5fd2f6976e5252f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/confirm-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/resend-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/resend-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/resend-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 91c46f7bca73ca78f93827129adb5f036616e6c8410eb077449c28ae0d9f8ad9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/resend-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/contract-flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/full-screen"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/contract-flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/full-screen"
                      google_re2: {}
                    substitution: /presentation/flows/\1/fullscreen
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65ae6051f31581992ce2fa6185800bed27df70a5b488282ba3e2c9bd95ee1c02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/contract-flows/{flowId:uuid}/full-screen"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/pairing/restart
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4cebd77ecfc4239be5d4504c0774ebe76c9cfd2e3fdeb967d332420cd7b62ddc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/restart
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/email
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/email
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c6c411a1dde66a6635c33ce5e9c0c37fad0f30b346863e3e8f4f2315ffa320b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/email
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/signups/validations/phone
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/phone
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f315e5df4d3cb7e6b2f054374ea377f7f5b15ce8b324d348c1e307bf2ff7ae0d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/phone
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/signups/validations/all
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/all
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 101f2aa69777d4b8129047ff2fc14ea87b4056fd44ae57847652edb92ea7ccb3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/all
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=50,window=86400,precision=86400,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=25,window=600,precision=600,backoff=0"
              - match:
                  path: /api/signups/account-purposes
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/account-purposes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9c67504c3ca8f4df4c6009a9e10224d9e33b7e4ef69b4b6342134aa34fcf419b
              - match:
                  path: /api/signups/occupations
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/occupations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3fbc869eaaa522840d9bf2e0b289c86bfe5f0c166bd393c4007bb6d2473364a3
              - match:
                  path: /api/signups/industries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/industries
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2dc6a0960408902d9c577a3070b021da637f72ccb83df9ffff3baaea7af72778
              - match:
                  path: /api/signups/regions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/regions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5a13e2c9b61d137534020a4332a0eee0624ab50af530d72a7e0884775899e046
              - match:
                  path: /api/signups/employment-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/employment-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6a701fd5b95a935a00d100567b19478f58cc67076813029ca26574f1e2dfe020
              - match:
                  path: /api/signups/income-sources
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/income-sources
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c4fc51a9871487b4c91392c6bf328c836bbedbf0da7d63c1f603c5f4e8397743
              - match:
                  path: /api/signups/income-ranges
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/income-ranges
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a338435313210ba1d8e3f4beac36068ce176ba11acdce4e6b809476012feadf6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/income-ranges
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/funds-origins
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/funds-origins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e8f23bddccad64d18746734d1129172e12eeeb1e06c7685717a556b196aeb5f8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/funds-origins
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/total-wealth
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/total-wealth
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89f7f510d0e55fb3e4b4be4ab13fae564ab98adabc4d731826320bab6ac80a08
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/total-wealth
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/determine-legal-entity
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2522beb8aeaf9b652d003fba4d949de4e39e59c67b325879b583d38f64ba3bd4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/determine-legal-entity
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/shadow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f4e18bdc9e8ec419183de40c4898b727a81788a2040dcebaead1dbdcf7b1cdff
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/shadow
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=20,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/users/shadow
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 469e0868721ceaca90266e8a1e48b292efe7a71bc28e80671526debc736b5eae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/shadow
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=20,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/users/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb2880a903bc762b9ed5639ec3e369bdb7938ff9906a5c15aca15b591f8c4f85
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 245471901540ed987224c76846d130de41897ea9ebbfda5a66915eada7343a24
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/aggregated
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 17dc89b1664a457684963f974b86319ccef12a02631980a0c7b70a68cb965596
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/aggregated
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/phone-pairing/details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 68b1e717c7bb144f63d016d60b54aa516516328a3693d97d0aa3c56cff1b0499
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/phone-pairing/details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/phone-number
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: de7890053ae8bd89372f38bcc6538e43c88e6cccfd4b2602f11409e12a191df0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/phone-number
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  prefix: /api/users/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dec38117631fa58285a059aba449b9365b38214a2eb5990bf8a2c57f11ba15a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/signup
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/addresses
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /addresses/paged
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c3b97a95d51fd1ccd5acb05cecc7ec9d69a4e6d4d7954704c294366704fa2534
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/addresses
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/addresses
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /addresses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8e6f039496bc72b7e07277333810d4a5833abdaee02b6c2ee888cc60332be16e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/addresses
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/addresses/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/v2/addresses/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /addresses/\1
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9aee6df5d76bf3caccf1aae537929aaac04b3075b27a244ed5ddfb778742640c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/addresses/{addressId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/forgot
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/forgot
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4e6f7785fc84c26d49d221bc296c9f2fa087561bf74faeb977252265efff339c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/me/password/forgot
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  prefix: /api/me/password/:validate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/validate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3cf4059b5eeece494d1d3210ce91e17f4be4f9f1be3c775de1be499e00892450
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/me/password/:validate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=10,precision=10,backoff=0"
              - match:
                  prefix: /api/me/password/change
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/update
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 53c25373b7129f5e0dea33a03861c92952649b25178e61970af68254bb8df9f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/me/password/change
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/actions/password/reset
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/reset
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: acd17f068fadac24d9b75cebbf210199900043eac601f5664038e2c548c68baf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/actions/password/reset
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=20,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/actions/downloadAppMessage/send
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 24d8a3d9339f8135158c0997a5cdf91379327634c301dae75c73355110734830
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/actions/downloadAppMessage/send
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/users/\1/emails/codes/\2/:verify
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b102e67102914377b932582ce3896cec242f3c3034d3f0b96895fa7aeca40636
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/email/validate/{userId}/{code}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=1800,precision=1800,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/users/\1/emails/codes/\2/:verify
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 838e072de1fd3181cf4b7b4c9b044afd0b407ea245286dd2edaa558f7cd5e08e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/email/validate/{userId}/{code}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=1800,precision=1800,backoff=0"
              - match:
                  prefix: /api/ps/email/resendvalidation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/resend-confirmation-email
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9e9e4df92f1f35b1f9e7cac912195789a8350d471b6480395dce50c3af13b507
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/email/resendvalidation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  prefix: /api/ref
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/waitinglists
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a5138aff72f588741431db52f4648b4915e34a464dde04a7e8de7b5ddf8fddee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/ref
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/waitinglist/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/waitinglist/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3141c094f311aa736f2a5cd11042cd02621b2c24f5f2d4dc4753dd0a1ce84ee9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/waitinglist/confirm/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/waitinglist/unsubscribe/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/waitinglist/unsubscribe/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/unsubscribe/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 85d9c875b3303962f5847e038ae518b72a56893b28cdd2ecf3efbd0190bc9671
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/waitinglist/unsubscribe/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=300,precision=300,backoff=0"
              - match:
                  path: /api/settings/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0c6d79d9b4e9f7a1bead2a78b19d3b8769053b6668408ea948354dbb43f676a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f7695755e332421204fca60c15e29ae3da7faf49cf1b52c7275bea1e516b542d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/custom
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e4a39c1c98e2c6d3ca92e93358df28637fd327b752d1535c3b9b639c1046841a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/custom
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb171fc8249be9037bafc710840f02afb6f56be3dd4bafcf853be9d7cb97c290
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66f2ab2c20da75cba695bf91625488270b6b626734e4402396786219702c1b33
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2b1664ee8786b6693f2dc7133d719d5deee8d51d24c0a3a0f32b94d8787e21ec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/countries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/countries
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f9519340f0da3e5881394f213058cb284b17148b6b532af900d910b544b4e4da
              - match:
                  path: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ab4e20959ecd1a6e118835f16d76491a3e0bf2c887a67208c178f8520f1dfec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc135bdfd801b5fec53a7479b96bfca3220205298986e2ea42ed409200e1b666
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b3cae21a50e54effe11904612399ad9d25d08d500d149f9d725dfa64db06167c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a0e275e83811c5e7ce355f95308fdd661b2c5b037e9bcf8f785d0388eef4c72b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 057b85f485ac2d834994d1e0ec95edefc19311d9c8a75d62f0b46cb1e0c5d332
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/prospects/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7e734a0ce42c998c5d85644696a0e95d7b272fbec771d7a489f24f0fdd203536
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/prospects/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 595f789933d2522288ff107b5e288ae31935d705cbb8730412e3d6a0ad9d82d4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/prospects/vatnumbers
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/vatnumbers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0e57c8813cd18059f53c4b3c35b9a16f2c2712d57d8eafa32ba6a13175f45173
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/vatnumbers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/prospects/vatnumbers/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/prospects/vatnumbers/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /prospects/vatnumbers/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 24c90ab4753e7cafacc4a327dae2f1a584d64688432f98e422a84fa47362bd6e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/prospects/vatnumbers/{country}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/users/qr-code
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cobalt
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 871b73c83241f4b667c9897466d6c099b29c13488d40dae8461005c14ed7ea8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/qr-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/credit/v1/
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5a76f3d6917949b1d22c075df6e060d766f249b9b1926183f208553a73b6905c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/credit/v1/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /consumercredit/flow/questionnaire/payload
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit/flow/questionnaire/payload
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 184d5228716ac8ef7b1acee84b939698895067e63e8d6b85e54e24901a5289c5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /consumercredit/flow/questionnaire/payload
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/hub/credit/auxmoney/webhook
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  prefix_rewrite: /hub/credit/auxmoney/webhook
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 15be14ce0820fa5824b7aeb50469064d91101730989c96ff3996394c4f744028
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e95b61b50f80588b67980fd27d8ca81492d491004265fc2397d85066e2e50e19
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e8f440c2e28e521c87c0a2f09527196992479f5f4777bcbef1ba0f42ba9c40e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 61e9248c970b85c7e4a7339498d5fa282fcef889bdc93502f4d19ca639649812
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 86c2f575a9a36ac3cf4fa48c345e8a5cb3f578937d3113556f25f30e480bc4ac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/expiring-card/[a-zA-Z0-9-_]+/reorder"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: curium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a1c9d203dc2467a3a128b7666597ae1804bfbb969879bcae54c298a70c402112
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/expiring-card/{cardId}/reorder"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/savings/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/signup
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 996f59cd28fda0299749f09b94caa25e5048553904b565453170ff72066cb480
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/signup
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/savings/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/signup
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ea78dc765106b244e71136bb49b24658011d6b7e47c791e7b85da9470984097
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/signup
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/savings/contract
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/contract
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f94f2ad14a512c20c7985c13f8b2e32fc3e686b4ef2cd8dc4a6489a66b399e6b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/contract
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8632642facc24a7b71f1db31d7f7461c1b85b47891d96be44540d96643156547
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec0a0272067e92dced33dbc6932cd6625f53b47fe28469df6a863c7a28f95ef9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3d6dc9e699694a23de70912c5fe1a078709e5c0da6d66cbc4ffe33e50e3a7136
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/settings"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/settings"
                      google_re2: {}
                    substitution: /api/cards/\1/settings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3f966698acf4d51053a7c256612dad398411e92b7351c092ce9066c3b2714190
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/settings"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/card_settings/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/card_settings/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/cards/\1/settings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9d7cac0e47f72de0f94f83f32b04c62d8401228899aa24c34e7f13fd4b896e9c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/card_settings/{cardId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/confirm-address
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c806fadaf43d4f03dc4c4e50ba3391a953758fc6694e5d953d3a87e78419dadb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/confirm-address
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cash26/stores/within_bounds
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7534dfb331f8f40f3c77434e9825426e73fa20c899950fb6bc2205690c6588d0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/stores/within_bounds
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cash26/balance
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c89e60adef797d21f8b048d33f0ebebbcd1a1ffea69682966eab2eb522052a7b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/balance
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards4spaces/[a-zA-Z0-9-_]+/space-selection"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 88b9c9939f1c950965d0bf85a345831d634f0facf227cbb2614fa24144e1b111
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards4spaces/{cardId}/space-selection"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards4spaces/[a-zA-Z0-9-_]+/card-selection"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7cd4aaff14e0afb091b964ad8f267e18a013d9c655ea424f54b183346bd6dc39
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards4spaces/{accountId}/card-selection"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cards4spaces/tncs
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7bc9cd50a921d2f58df71f8aa950e4dd678138845a98b83dd087355d41703e35
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards4spaces/tncs
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/myaccount/home/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/myaccount/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d20d08132edca6063ea8cced687f1cd35c37a6864f4ed873d33e6195c8cd214
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/myaccount/home/mobile
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/myaccount/home/web
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/myaccount/web
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a562bdc925cda40e6d2e58dba3b04f6a98c0da78d799b073a14d5e2826d4dca4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/myaccount/home/web
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/statements-presentation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/balance-statements
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 85c6170603d751c7fc2d9169d252af24916bd5e277dad477ca0af3c3981bff75
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements-presentation
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/statements-presentation/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/statements-presentation/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/balance-statements/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8099dd6adf3e9620695bb881735c1c4df107d2635dc8eb7b085bd0ca1ce2531a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/statements-presentation/{accountId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/myaccount/account-details/([a-zA-Z0-9-_]+)/mobile"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/myaccount/account-details/([a-zA-Z0-9-_]+)/mobile"
                      google_re2: {}
                    substitution: /api/presentation/myaccount/account-details/\1/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13a977bd53e094073cc648dc667eea041139f465f65252ff8069e6ce75610532
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/myaccount/account-details/{accountId}/mobile"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/v2/myaccount/home/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/presentation/myaccount/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d6b3eead54ab0728201ac2e06781aa3d85a2f48581932dc5f59c6ef60c5508b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/myaccount/home/mobile
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/checkrisk
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.6[4-9]|194\\.126\\.144\\.7[0-1]|5\\\
                          .149\\.1\\.6[4-9]|5\\.149\\.1\\.7[0-1]|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/checkrisk
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4827cdce98f31f6f43d9b428fa8735f2fe09c4606f228087966ff4367966e08
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/checkrisk
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/checkrisk
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4827cdce98f31f6f43d9b428fa8735f2fe09c4606f228087966ff4367966e08
              - match:
                  prefix: /api/v2/securetransactions/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.6[4-9]|194\\.126\\.144\\.7[0-1]|5\\\
                          .149\\.1\\.6[4-9]|5\\.149\\.1\\.7[0-1]|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/challenge
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f0a5413d77b38805df12fe3dc205ea551d7820ce4d1e2fc6b7060dd3a8b34aa1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/challenge
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f0a5413d77b38805df12fe3dc205ea551d7820ce4d1e2fc6b7060dd3a8b34aa1
              - match:
                  prefix: /api/v2/securetransactions/cancel
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.6[4-9]|194\\.126\\.144\\.7[0-1]|5\\\
                          .149\\.1\\.6[4-9]|5\\.149\\.1\\.7[0-1]|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d90741c2221f1c3aa80f0d340f679ccbd750c4a5481989048e3a50b893e793af
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/cancel
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/cancel
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d90741c2221f1c3aa80f0d340f679ccbd750c4a5481989048e3a50b893e793af
              - match:
                  prefix: /api/v2/securetransactions/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.6[4-9]|194\\.126\\.144\\.7[0-1]|5\\\
                          .149\\.1\\.6[4-9]|5\\.149\\.1\\.7[0-1]|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/ping
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eae1e5a49e55e3d561c5af8e06bb4c1f4b10da7854217e859391cf038fecfc0c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/ping
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eae1e5a49e55e3d561c5af8e06bb4c1f4b10da7854217e859391cf038fecfc0c
              - match:
                  path: /api/v2/securetransactions/transaction-notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.6[4-9]|194\\.126\\.144\\.7[0-1]|5\\\
                          .149\\.1\\.6[4-9]|5\\.149\\.1\\.7[0-1]|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/notification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9091a3d6716ac2577ea3fcb3ae8ff04a519787f01b8a66e04baaf590a47aa892
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/transaction-notification
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/securetransactions/transaction-notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9091a3d6716ac2577ea3fcb3ae8ff04a519787f01b8a66e04baaf590a47aa892
              - match:
                  path: /api/v4/credit-score/provider/tnc
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/tnc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9f683faae4807f7c6116b3af68a5fbf84c9e213f5295e255da8aa270a126fc5a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/credit-score/provider/tnc
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/overdraft/terms
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/tnc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 411dc393d7819cff65add391f0c301c1cb47ea23e828a4bc88109e503f67bb34
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/overdraft/terms
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v4/credit-score/provider/consent
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/consent
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ada09320ee4612e26a72e24429470c447c04f72ce71b23af76cf9c016ddf19be
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/credit-score/provider/consent
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/accounts
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc23d65aff56277177010cdc718137c103e87f2561100106e2aef55e18c89e9c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_AISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/consents/confirmation-of-funds
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/consents/confirmation-of-funds
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c1187bf604b5036cdc0f1811eb09681edc54baeed5d64e4ea8ead351bf757165
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3d556e07f6eca50c30b381eae0935b2360a4a8c50b8a8f3b35121836514fbcbf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_AISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94535af162b8982dd7c92210b8562a850a6afb7d89017eb0ac176e8c05d40f1a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/periodic-payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/periodic-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e105638e06a8c78237ab6bef961d506c19da3902db087a715eda23885cf2b972
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/funds-confirmations
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/funds-confirmations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f198d36ad6d5964be7871a61e363762415a33056a651ad8b768e2d8f9cd0e37e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/sandbox/alive
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/alive
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 447a3c0f84fedc26aadfc7cbbd4103c46ab59a3769b8ff92e39e4b3012f41aa8
              - match:
                  prefix: /xs2a/api/sandbox/oauth2
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/oauth2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a07a39179678ef2974b950951e646cdb7ba2d6d284a07e791edfd8a80591b416
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/accounts
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 382477d81df39771db802e12d42155b05caedb36dfb96b89384ef71988ec7fef
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/consents/confirmation-of-funds
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/consents/confirmation-of-funds
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23aec00e7f1b7fdb6cb3d9f21961f085d18ccc807de6c44a21cd524a615828ff
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 916a36a9db2fbccea743c0671ef017213df1a7d9214cf0a767b7eae439765a59
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d65125082ac388a91530e8036bb57245d150cccac7ce9963d0a2c5499ce31ecc
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/periodic-payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/periodic-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bae491aa05fa84952f19eb037be811bb372085ce2f7809d2aeaa7063e16392be
              - match:
                  prefix: /xs2a/api/sandbox/psu-interaction/confirmation-of-funds-consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/psu-interaction/confirmation-of-funds-consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 82807c3b3f769e532c7204743f8fca594180bfb403fb4142e626340532269cbf
              - match:
                  prefix: /xs2a/api/sandbox/psu-interaction
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/psu-interaction
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fe91a0f371c19bffe38ac0ae3e7b11fdd570dab3d7e9af0da0afc6dc01856ed0
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/funds-confirmations
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/funds-confirmations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0196d33c7fc789b629adb6698d3e4e5e3a2faa5f39860c0a9f24249cc1b2ce13
              - match:
                  path: /api/personal-data/user/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/user/eligibility
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 00b231b0d35a933e4e18dd7ddc7764adc8836ddc352f09aad29114f09e86de7f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/user/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/phonenumber
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0d3032cadc72a5abc8a3f711f55d4054c8873bf2f154f0558ff052213c6a17a7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/phonenumber/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber/eligibility
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 14ae74112f631bca5b3423d8f0a4eaae75bef7622d5453e98dc9d69cdc2ef61a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/personal-data/phonenumber/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 11eab1914b66291a01935aa0eb4f72bfcaf905503e75baeccd00d6ed50931bdc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/notification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c2b585ecf49aaad7288b082e271fe2d31990ffe1c003a8afe82689f5a311d597
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/notification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 39c0ce5fe0ed696c7e1b358e11924e3e42e7fb2a983f80fb7341f4da10acdf05
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 121a3c92575662bd4a8ba50f259ebf26cd3bab79012d9ad98aeac8e621e02f27
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01177dbffca4a3088015fc0b79c6e4f2906d87cc3fc49ec4254c17ad2d5fb31c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/file-upload
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ac1c20d0951f8b3f8b4e19c827ed387fe3a2484b422e676bd0d63aa19c0d842
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/file-upload
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/public/api/v1/file-upload/[a-zA-Z0-9-_]+/status"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 98ab25351bb165804bb4c3fbc901f6854e2cfe77ca0625952a694a96a086c74f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/public/api/v1/file-upload/{id}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/public/api/v1/file-upload/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4fde19688985cf85b6e8e5f2cc9297aa832b803ffa67276a6a2e61cbfad2f5c9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/public/api/v1/file-upload/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/transactions/disputable
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9a52ce663cd0e6ecf156a0cebf533ebd1f6d5b319bb7a08861661a6bc3ba5f59
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/transactions/disputable
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4fec89bb009acd28b1b230b16cf328cd25933a416d68d36888665e244741ba80
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89c8c8a7e0d6993875bf776738e4a1eb47385e23d73122a9731ad9ac2d047735
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c505e4d28f5b702708dbd2ee47e53021915e6af2fcd80663d04e90e630572ab5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/feed/widget
                route:
                  cluster: holmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0c009b3f16b926698e67dec67a1864b731137a7204d67e2b4e73c368554e49ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/feed/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/feed/
                route:
                  cluster: holmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1b76f1425c2d9c977fd5a954c2da0be5b0dfb56f51c8a310121a256601057d5b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/feed/
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=200,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/token/validate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3c470de2864a747d3214e5286fa43f3b665244cb0c8e6a923f0c0dc2e60b214d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/token/validate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/pin"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d5e1b8d3cd87fd6caf005662a6b142a632e440e89d98a30bc09d1128b625b14
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/pin"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7c73fcb3750cf35827993c41d43cf3b440dda936cb60ab84bfdefa3aeac6615c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/flags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb6181e06b2774cf0e91f1e63f90d4a089a3685cba81342df6b6ca3358def9ae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/flags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/flags/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94f1e7c5fc64975379660edb58c011ca58eaee0caa5a92e7f3b1b538c398a88b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/flags/{key}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/limits"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 521dce0ce116de3610c9495505f93269ab502f71b582bf1ef51d062bfd5891cf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/limits"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/limits/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7aca98f56190a77ed51c1642a85b6c342ee0321bf9b7a1604bdca29bff7e9881
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/limits/{key}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/[a-zA-Z0-9-_]+/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 477e349d94136f65e4c78a3d745bc855d56565fd8ce803ca09cc6fcdb4a9cb5e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/cards/name/generate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  prefix_rewrite: /api/cards/preference/embossed-name/generate
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e92410e76b0a80f3851422dea493ff3e37bf3fac70857c78bdfdfcd44a0cf813
              - match:
                  path: /api/presentation/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b2e21bed6e1389e248afb67060e683045b0cced3fa2f62796155ad77710a57bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/presentation/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/presentation/cards/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 15c530f7a77981bc51d8a0baa6c5288a9108fbc3e9f432a698ece0b4c796cf95
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/presentation/cards/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9beebfe856466d502a115e90b0886675e35c4dba933aaef6627119f2e805a7a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6a026d71c81c686effe35a4eb81982dd90f8503305a2686529cb4cb6c43923fe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/pin-secure"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c8febff3ee683efc610f729706853e2bf6b2d4c13bf7ee607cefdba5f9a2dc2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/pin-secure"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/security/cards/[a-zA-Z0-9-_]+/key-pair"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2169139f854237eb07437910f82e0abe9e5b51a9aad9a1d98ea6203d6894f08a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/security/cards/{cardId}/key-pair"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/apple/provisioning
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 487c8379fee06b385d32ecafa53587bfcc8766e0905d2517f627579ac4a79eec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/apple/provisioning
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/apple/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 424ddc27cfd8134b0e6abbaa4b8a00e0a35df301220557a7fbb074ee06a4b5ca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/apple/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/google/provisioning
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 499f57397faf06f4a59164788d619622f25580e1a1f6c1678e615e01652d0a17
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/google/provisioning
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/google/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b7c9bbc1a5369386c1e69e35063a63f7e533c39aed7876ef9a9f3459b63b81b9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/google/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/tokens
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 90ebd8d2c361dd66c2fb0333372b4011a5ba330315ef81a681dce10d5f41a34c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/terminate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8e119afb7d5de60cb87023c00279cb00d8dce49ab5b6cac2e197d2bfce42ff8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/terminate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/notifications/retention
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eba26eb3178f2d488a58e0b3c629eeea45cf65d2fcd2adcfd97034ae53937d15
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notifications/retention
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/notifications/retention
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f44de01267eee4ed0dcf8ec1a9bbd512538f14f5a6a77e1777bb8f56240c9f88
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notifications/retention
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/[a-zA-Z0-9-_]+/link-to-space"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aebf6138feccd8fa9e066dbd9b0b8d99f6b09c0fad889df9852b2d0c9ff5ef1b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/link-to-space"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/link-to-space
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f40d6703d587925a1a73a57eda65394ff89723d335f29c223c756c30090dc0e3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/link-to-space
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/spotlight
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/insurance/spotlight
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2ec3f930a20031ac42649cb96e8c012b9ee3a0857a5895bd15709c77795c081
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/spotlight
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/product/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/product/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/product/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c3e58b5873233fc3c7798fa90543a5956523e832bdb3be9f6e0981b6fe0e86ac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/product/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/order/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/order/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/order/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a3e54a3efa77143e241fb9517751ccc8d83b779ee267a1c3d3e131cb2d8d80ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/order/confirm/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/purchase/order/confirm
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/insurance/purchase/order/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cbda720f215312848bcee3483e65d4b8becf4c4cc00559bd0f0204adaa8336d4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/purchase/order/confirm
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/order/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/order/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/order/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ff68b88ecd56613352f14704471445b7d39ecbbe37ee0628892681719cc65015
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/order/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/order/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/order/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/order/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 72a382e2ef7105b8b4543c8c605fca5cafb89e6d3efbd1da7a4317da58c0dda2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/order/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb7a0648e03dfd10d7e3e6ac314c05e5a88166089eec50e3c9079180166f8c46
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 77ec4f3db5a3780186abd18a90c132a19e8c14fd326a87ab90c50acb4d412764
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2fc1d6c512c1d246b97bc5c160002fb8fd48e92d5fe606b2a68330b3a58cb7a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 62af622467ec2a10b61c9721619b0ce5ffe051b2fe61ac8db2afa9377ba17deb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/policy/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ce04d2a93a8a39eaaba3fca503b9545574350af4f2d0290fa287f1bb3c2de62
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)/cancel"
                      google_re2: {}
                    substitution: /api/presentation/insurance/policy/\1/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 21156c4ed5f4f3051ed6860b4ca7161823f6e216879af2efef7cbc77807089b1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId}/cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/download"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/download"
                      google_re2: {}
                    substitution: /api/presentation/policy/\1/download
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aff262a7923409207707ccff4d8baf703f83fc5be47a468ff4d75cd71581ec54
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId:uuid}/download"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/user/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/v1/insurance/user/products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 054dca762edf675a4811e51430d9b6e5c65727bce4dc2d2a7e5423a04b2d0410
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/user/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/repayment-plan
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: ibuprofen
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4eba2394491afeea8c59513b362454e64c25b0227edd9519fb0bae1df8efcab0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repayment-plan
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/ps/kyc/idnow/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/video/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 359c733f7e73732bb00c0ef1040da62303e8947a26c0b176870512eb16d773a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/idnow/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ps/kyc/idnow/submit
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/video/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3b21c4098800ead1dbcfed49374726a8e4dcfd8a47c40eb49883a0554c3da3a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/idnow/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=60,precision=60,backoff=0"
              - match:
                  path: /api/hub/idnow/queue
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/queue
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 80a9e81c1db166a88d31e4f36b87017269ddd12eb35176d57696e756b21d6faa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/idnow/queue
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/hub/idnow/queue/users
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/queue/users
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89a832ae48c62404ca9739c7a8556eb5328c92dfb4ab4aa602d5ee63e514b248
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/idnow/queue/users
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(62\\.128\\.13\\.228|62\\.128\\.13\\.229|213\\.95\\\
                          .145\\.([1-9]|[12][0-9]|30)|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /hub/idnow/identifications/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: db656724c6565861a8ace7693a2981359f840b32a8b48c4928e34c4cdccd925c
              - match:
                  safe_regex:
                    regex: "/api/idnow/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: db656724c6565861a8ace7693a2981359f840b32a8b48c4928e34c4cdccd925c
              - match:
                  path: /api/idnow/identification/esign
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(62\\.128\\.13\\.228|62\\.128\\.13\\.229|213\\.95\\\
                          .145\\.([1-9]|[12][0-9]|30)|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  prefix_rewrite: /hub/idnow/identification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4115cb778d8c7fc18cb19e1cebe4734bc0732c15f08d545a11518ec8cc8cc9fc
              - match:
                  path: /api/idnow/identification/esign
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4115cb778d8c7fc18cb19e1cebe4734bc0732c15f08d545a11518ec8cc8cc9fc
              - match:
                  prefix: /api/kycmaster/processes/initiate
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fca0e5741996612acb8d882db00538aa2e954d8ca92120b32f428ad5ac655365
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/submit
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4bfa5c46ec2d7afec91783eb0a8c6d391313ca21d0c3757dafbe74d696273e83
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/v2/initiate
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/v2/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7817b6d071b7b8e0ce3cec02f3acab1cf08e7bd1a8cf91e1a0806d4a3e5546be
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/v2/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/v2/submit
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/v2/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e651eabefef0bcc7ff3fe37c2879dbd0b113d6c3a1fa75f536d4757b9bc67076
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/v2/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/status
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65b6cb3940f8c3795fbb44cd699bb55884430dbae761f55750e30af7658f5197
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/routings
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/routings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bfaba82c4677540933830922938d613ae139f99b62f6f3c2fb7abd96dd58d548
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/routings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/v2/routings
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/v2/routings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c02b5fff23668fb596cca8a2f8c42cd990854c3d2f619761148531e33fe4aea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/v2/routings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/documents/store
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/documents/store
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0a10c8579d5ec9bc18ba4b95caee201d70761b4563d67efdfeb5ac2dad5211c0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/documents/store
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=30,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ca68853c0a1470a7b222edc548c16fedba8559e5679d88dc0339c46904af6c2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/signup-limit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/signup-limit
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4de304764435eb41139274dacd1db10220e753c9c9ba57de6ff60bf853d13ffa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/signup-limit
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/initialize"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/initialize"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/initialize
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 34c68c7b827e62fab0a00f6519bd4a0a0312008fe4f774e5270b494d98897229
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/initialize"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/documents/store"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/documents/store"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/documents/store
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9308c9f6d3626a75221f48735549201e3d97e091f3e3d7fd4f7a7537324747ae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/documents/store"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/submit"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/submit"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ff26f87c689e94946dffedf376f7b5e07343da7dfa752f1db4e05fb683046497
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/submit"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/user/biometric-consent"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/user/biometric-consent"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/user/biometric-consent
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0c194d3afe9ab20a6509c678830795cad1eaf780d3899fdae3b5c1a2657e7dfd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/user/biometric-consent"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/selfie-verification/
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/selfie-verification/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a76a4bc7884bc5480cb8337a6ce75102be91079e641779faefabf61ceaf2802e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/selfie-verification/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: unauthenticated
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: 3ZFi8sqNnsfScza1LZQv4
                - header:
                    key: x-n26-envoy-route-id
                    value: ed20aed11fdd521c38bebf9738e2f305875aacc107aa2703f109153f023ee641
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: shadow_user_id
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: EVwk85w8h42uZYySKy9Ym
                - header:
                    key: x-n26-envoy-route-id
                    value: 83f0cea975238e1be94e4825f85dc589fbc6d8423b4b87aabfbe227c02ed4d39
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: user_id
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: QosMH6uuVmKU4WvCwPYBm
                - header:
                    key: x-n26-envoy-route-id
                    value: 81ea7fdd1fc276eb277a7cdea7b496ec58f3922d019dc592e94dbbd3278a1c15
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  path: /v1/crypto/signup-flow/tax-id
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 91cf240227bed54ed1905373f23b8e4621bd3ffc9407aaa1c23b2fb8ac592e30
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/signup-flow/tax-id
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=10,precision=10,backoff=0"
              - match:
                  prefix: /v2/crypto/signup-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4ae4e376aea476c0b21ea1101b4cdbbdf8fcd107c0ff843f081946e48b64cec4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/signup-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=10,precision=10,backoff=0"
              - match:
                  path: /v1/crypto/portfolio/info
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 45dbb44e0c123f2487af0c5e20d90a0c5f1f2e80ea31f54d07cead8ad11beffc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/portfolio/info
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/portfolio/info
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2285f47a7aadeb624abf2a810fe1cb5f63c84a001e3ae06ee7fb0434775ceb22
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/portfolio/info
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/spotlight
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 74982c43eca16c3e98876ed8699f23e6dcd0b18ddfa3dca3e574369eea79ed21
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/spotlight
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da3677e40a180de857814e8e674fa1ac4271a66a6b298fc0f472db1d2dec8989
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d0a3134fc2657d959b1631cb84d3623f71e1a45a8c0aad58b1dae91dfefc4f4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/signup-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f06a1c89e40d144af71e8fd4088cce7e5fea62a5cb55c236bf96fa4f4b5a0536
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/signup-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=10,precision=10,backoff=0"
              - match:
                  prefix: /v1/crypto/users/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 18e4311d4de56eac14a23a3edf6f0065697489c2e3f5b40b87f8b0246e2720e9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/users/assets
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/users/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 76578d43449f12dd285743bd9266447af6ff422ac8705057522fd4b074ff6ac3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/users/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/assets/topMovers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b69678ca7879d52ed7c9d9a504b588e3cb556af8a06983b566f7d26601c6232
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/assets/topMovers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0a7879b10d90ea8391f1191e8a651d252f0a4442f1b62fec9927a4452ce248df
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v2/crypto/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6e6e687e2220e802ee826641765cc4bf4f6afbfd485fe8a3c025facd3ef08da5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/assets
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e12fb9c247fae05ba34c7fc166e23f2ef7723eb4a30489e2bb789a6abf273757
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/assets
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/offers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 073b9349a1467d95da821a3168e69bfd24e0ac553ab84be5b43bf10c016cf7a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/offers
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/offers
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8c8d893b8c479264707b68ac490653ba4137fe8e26cd12c706587c4e8eba3add
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/offers
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 163df36ab7d2f576fd9f860ce1f0bbd614b8d5c2da073aed89eb9145cd2655e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b58a410c3513e04ceebe52db7582e716e1934bb8864b1f297feae8d770233cf6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v1/crypto/cdr-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/crypto/cdr-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fe4c1d56bf6fcbaed4a2be46eef68e3608a295e121064e44d59bee809d8ca2fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/crypto/cdr-status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v1/crypto/portfolio/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/crypto/portfolio/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c850ac679c302cb6916c03ce9e0abaa9c8bd2adb80d859c83bae3b087b13c0d9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/v1/crypto/portfolio/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v3/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v3/crypto/portfolio
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 720def95d07c9cf5fbf622079f94f8b1476ceef3eee3fc3522cb7cea4d410717
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b0d21081eb18b976716016de4921b03307e6ef8ac81a2743b1d0a3f4fb522573
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/claim-steps"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/claim-steps"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1/claim-steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 99ea3ba057fcdf1069e8089dff870deb70a16d55826524f39618d511e450b61a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}/claim-steps"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/documents"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/documents"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1/documents
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e4500fe2ee49c4e1a26d777e04dee122806f9b435774f2c6d04fc722bdaeb49a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}/documents"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/transactions/request/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/legacy/moneybeam/confirm/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fabc4d8cb3f5bdb00435c915d3ff16571b5c2264ddf01789b6d6d068cee5b402
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transactions/request/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/[a-zA-Z0-9-_]+/confirmation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 00fe1c69f453cf3cbb22390ef67cf8d1f565481e983c180b98f029de32257036
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}/confirmation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2eee40c4369db725c89dcaa5d9f18839009cc4de73e5aedaeca88a931949098d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/moneybeam/limits/currencies/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/limits/currencies/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c55a52f00662bcb2442dfbbdd9249e7fd4c0822e688a2e954ef2b85d7a05fdb4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/moneybeam/limits/currencies/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/salesforce/user/contact-key
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2fd1d7fd7776ab9be87b6ee73f0f5b4050d9a6f6b9046a22cdcac05fbc0ee600
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/salesforce/user/contact-key
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/infocards/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3972272b09f7f17fa47407c440b4271291218551aeec6b754f1ecf8a12a28791
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/infocards/{infoCardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/infocard/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3c2c00fe454b84e0cdf28faf1b647c0fe11427617d746a220c1bf1ead67edb7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/v2/infocard/{infocardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  path: /api/infocards
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a44b00c237c319c0be4d75b0ca8cd8a4043043ebb90c2faad09c262bce457c3b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/infocards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/closure-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: natrium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 45cab38433f698e149ecd461fe44b0da121da4142aef8f787e088e3094232a0b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/closure-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: neodymium
                  auto_host_rewrite: true
                  timeout: 300s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f6e0d82e96430afcf3199f5fb3689a7821322578e70c311d67b8d9d6d55200c8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/garnishments/attachments
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f6e0d82e96430afcf3199f5fb3689a7821322578e70c311d67b8d9d6d55200c8
              - match:
                  prefix: /api/abbyy/v1/garnishments/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: neodymium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a93aa4b78fbe11c33aecafccbc21be2288d8d1f10855efc135e71849c3a8429c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/garnishments/documents
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a93aa4b78fbe11c33aecafccbc21be2288d8d1f10855efc135e71849c3a8429c
              - match:
                  prefix: /api/transactions/directdebit/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: neptunium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /refund-collection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 259129af08d555c8ae0125bbe1f0da84acdd653412b380325ac4eb19dd72c5b5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transactions/directdebit/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3df27db6188a62d6dc9842c001159222fb6d82c591f8351a1f459d21930d3d9d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 12210dee248ff46c3727cf42507bd177c4cb1238f10fb0b418f16d6d89941316
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e0cf64fed8c0859601a141c264074209561ab1aeff8524739f6fe07b7c06054d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/til
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8d2f1fcc68ae4e6bd8cc393d26db2d93a0a041e2746eb5c7f57007909374dcf9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/notificator/twilio/status
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(174\\.129\\.222\\.33|174\\.129\\.222\\.200|184\\\
                          .73\\.170\\.150|23\\.21\\.226\\.67|3\\.80\\.20\\.([1-9]|[1-9][0-9]|1([0-1][0-9]|2[0-7]))|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9c6ba9f93a201cbcb6568ee7d345b69b74200bafc6fcda7d4c1a3814ba894f89
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/notificator/twilio/status
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/notificator/twilio/status
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9c6ba9f93a201cbcb6568ee7d345b69b74200bafc6fcda7d4c1a3814ba894f89
              - match:
                  prefix: /api/notificator
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 449400e69b15dc34266d3df72bbbe8f8e6629f3a88eeb6a4aaa9310634003b14
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/notificator
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/notificator
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d83429d8cc7af8cf7cd0e72496f72f0b39ad87b43b9e7e09de2691cb42d103c3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/notificator
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/onboarding/hub
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 28b0bd9d765f035dc59ee7ed4f64fb778eec6786fabf89a86517211fd2147ef4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/onboarding/hub
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/onboarding/hub
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cac7c64446e335795112e0fb130747aae8ffb2a099a85c18913d27ae6921ebd5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/onboarding/hub
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/account-switching
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 134c50f30905e6bf3641299b8ac22ee94c9a53d79066c3befb0927d534a4c213
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/account-switching
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/account-switching
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b0a2c9d5460113cb6d69b5d937c7b2ccf893fbf2c2edfff8d47791a7c95cbcf4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/account-switching
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/account-switching/information
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 78bf3e5e0de58f2e4cff90671688496e9a0680fab88f54c03baf48c54e9906c6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/account-switching/information
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/product-stories
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7340c85bcb899b679487aa38d38139759dc8d92e9d126e918b68d011237d3507
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/product-stories
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b0787c30d462b3749ec19a32dfd7a95d17337495e45790475741f3e7fb456ed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/v2/features
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=1,precision=1,backoff=0"
              - match:
                  path: /api/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a34821727d7690a01e1960d082899e0fcef2192c7d4c19968372a4b62ba7cb02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/features
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/features/countries/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6e44ee95dc3bed3946c193035bc676a95df7825b0f3605f9af4adab5c5c067dc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/features/countries/{iso3CountryCode}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=200000,window=3,precision=3,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/features/[a-zA-Z0-9-_]+/countries"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b189df37a26eb992294dffe41126661d3d841c171707ecca54735178ce58b57
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/features/{featureName}/countries"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=200000,window=3,precision=3,backoff=0"
              - match:
                  path: /api/decorated/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/features
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a64a4ff476edcecc1a1553afb10235e6fbb520e3634444680edc389b23348a65
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/decorated/features
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=1,precision=1,backoff=0"
              - match:
                  path: /api/decorated/v2/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/features
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 28b010f0adab87537285181418ce5c91b0fcffcd67d95af64898186d105cef13
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/decorated/v2/features
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/decorated/features/users/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/decorated/features/users/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/internal/features/users/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65ca7e0823641448045a5cc08d94fd05c2a35bef3f65c587c090212b0123e43c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/decorated/features/users/{userId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10000,window=3,precision=3,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/decorated/internal/admin/users/([a-zA-Z0-9-_]+)/features/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/decorated/internal/admin/users/([a-zA-Z0-9-_]+)/features/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/internal/admin/users/\1/features/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3eb2f6138ce5c29ec7eb1ce42b159758322180cc39a6fcba9a3aff2c58e3f40c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/decorated/internal/admin/users/{userId}/features/{type}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10000,window=3,precision=3,backoff=0"
              - match:
                  prefix: /oauth2/token
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1340bc9797d4e9cc9846fb63cfd31212dbc5dfcd691435d44e72c3bcf1449b9e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  prefix: /oauth/token
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  prefix_rewrite: /oauth2/token
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 709de1a3a7ebb3e2bae02ae9e8f7f0eafe1b930108fb4424757754eee23a4b4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  prefix: /api/mfa/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 82d078f27bf3e47ef1ba14764dd49c00ca390822d3ae3e1d26859eeb408b2d95
              - match:
                  prefix: /oauth2/authorize
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4c2dc8f636c0a5f40c4f9939c6bdaeb9ed3a42f804c7da31a08031b6d2fc50cc
              - match:
                  prefix: /api/me/logout
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 26e199856d4fedec8408c3b5c7e2344cbbc79dde2e641193425c6a7d4d4f6ea1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/me/logout
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /authorize/generateAuthCode
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 498876271118d314f9b4cac204d1faba4bb405618a7de952b542c8eb216d44a6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"WEB_OAUTH\"\
                        ,\"FIRST_PARTY\"]}"
                      route_path_match: /authorize/generateAuthCode
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/feedback/login/[a-zA-Z0-9-_]+/[a-zA-Z0-9-_]+/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ac47963d199df48bde1ec7e25d798212198477281fc30ec9326e7a85f5839834
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/feedback/login/{loginId}/{token}/{feedback}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=9,window=3,precision=1,backoff=900"
                      action_1:
                        descriptors: "method,path-variables"
                        policy: "requests=8,window=28800,precision=28800,backoff=57600"
              - match:
                  prefix: /api/customer-data-questionnaire
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: peppermint
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/questionnaire
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 82103fffd3064a12b7faff8e0fe8657445fd55a1f52ca64639dc8492cf456a5a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-data-questionnaire
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/customer-data-questionnaire/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/customer-answers"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: peppermint
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/customer-data-questionnaire/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/customer-answers"
                      google_re2: {}
                    substitution: /api/presentation/questionnaire/\1/customer-answers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a7eb2346d4af884e194f9f957e280a45b8489cbe9af08311d61478181e9600c5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/customer-data-questionnaire/{id:uuid}/customer-answers"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/referrals/your-invites
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/your-invites
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: db26cf4f42f1ca728aea0920b7f72ffa598259652f0adc5f239a1850dc2e94b0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/your-invites
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/referrals/dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/dashboard
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 51eef86e423df7aee3d62e85e2d84996fad120cd3dd51c43e41b9822e7faabc1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/dashboard
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/referrals/combined-dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/combined-dashboard
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5313587b3f8c4710289aa4277217d0ca7d588f171ad339090d32a6eaa33a5e58
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/combined-dashboard
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/stripe
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  prefix_rewrite: /api/webhooks/stripe/events
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e015340a7bebbf6ec4cd5b05a492f599e7c7b037c70d56c8399a6b503de8df52
              - match:
                  prefix: /api/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc0b6575e4e934fcb8b564218ff6275c9d295773438cda1086277e3a39e78f8a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e22f53f1a6b68088a142a560380970ff9164f8507e3172bf3619de852d1ae1a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0d5283de2d0e000651478b4b94de80046b41073ae012fbc1d8ac1d194c1b390d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ca72b7403f3687141f7233576fa96d3064c45a19640268e76e1a1d027faa9c03
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5b51fbcedf7b7bc4c5aa8ed7bf00e2323337b2b66c8eaf3e88a9ebc42de3a0e2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cef6ed8c176ef2fd9e946dc9dc1dec1b249e68db55601d202d3bd03dace89dd8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 409cf13c03958ab6fb76ee02acdb85c6f4d1bb4f525cdee8e8bfde9e01097b8c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d423d29e068207b0cfdb4df46552285d814aa0edc72f4d8e26dba65a25d6b02c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e1e16a10aca63780a10e9f9d8ed47b7a9f32c1bb44c3e7697f2e5f15df402abd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v3/spaces/[a-zA-Z0-9-_]+/bottomsheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1f7f065bc9dbc03aea1a8a6110833b61d23691c2f9ca8b8d3489b47502a528aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v3/spaces/{spaceId}/bottomsheet"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v3/spaces/create-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 72c92897815a692b81ba780becd3a79831b370b0959376259ceb4fb380369cdc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/spaces/create-flow
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v4/spaces/create-flow/available-types
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7a2974604218aa6b2c233b3d7c117ffd1677f54ae57323e0c974a1ba8b534aba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/spaces/create-flow/available-types
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v3/spaces-overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66a13b1ada559dbc3b8d6da500a23152ead57be5365b04e0786fd73f98ef3da7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/v3/spaces-overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/financialhome
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 15cd3a52b0e299448415235154add098d736bdcfc0802e60f8534a2f69fe5e21
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/financialhome
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/financialhome/available
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 359e4b6c038f11554a8db5e8503f3ae5693fb7a2f8ed5f32c209ba77b9136e26
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financialhome/available
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/invitations/[a-zA-Z0-9-_]+/accept"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d7b4756c13dbe400558deb17a956618348d48aa713876701190e8e9095038cc4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/invitations/{invitationId}/accept"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/[a-zA-Z0-9-_]+/invitations/verify"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1340e4075ed47c49481f880323d7e09d06c4b9953b270ac9e662dc80fcf1a9eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/invitations/verify"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/[a-zA-Z0-9-_]+/invitations"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 48a95aab0467d2794ed1a33b308c0324c195b96d051dba7b9b7a9b8cb1917234
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/invitations"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/[a-zA-Z0-9-_]+/settings"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e15dd4bdc9cddcbb01c08358a9a01b15efe13d8d94756986323d8ad211ed745
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/settings"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/mobile/internal-accounts/[a-zA-Z0-9-_]+/details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 52d9770f6901b4cedd6bf572460b6801739fb5f4201758311d59a0f4bdfe5f87
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/mobile/internal-accounts/{accountId}/details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/web/internal-accounts/[a-zA-Z0-9-_]+/details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5fed68ed05ee4feedbb4bf8ef93c9e5f13ba32b5ddbac49238cf10ab524258b1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/web/internal-accounts/{accountId}/details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/mobile/internal-accounts/[a-zA-Z0-9-_]+/details/sheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b0c6b11b290a08d5f8c62bdf3473195a6e0faa2e54891dab77a5c18e505f701e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/mobile/internal-accounts/{accountId}/details/sheet"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/web/internal-accounts/[a-zA-Z0-9-_]+/details/sheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 110e62b136047a4a6f808012897b5da1da1b5fee61fb83e98c2ceb342c115e52
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/web/internal-accounts/{accountId}/details/sheet"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/internal-accounts
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b894e929e9cb2e4da72f0538eb6f8a64ad5b80e0bdacb2560542b8555d76dec3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/internal-accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 28e11cd6bb8567afd056f30899c86725caa0b0c575c71618df4df9791e745f79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/eligibility
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/create-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 96d1b91d05bc4aa246a3fa0517045b55e6f0035fb97f58bb3366d176b24d952e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/create-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/create
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 70b2b53c8881c2f8841c3b434eb590db0fd02642559f0570c39d3463650c4973
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/create
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/ps/kyc/postident
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: postidentkyc
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/identifications/kyc/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3faf6e51aa4fade12f7ba98a8315d265480aea1d00c9b2157b71e7202987e333
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/postident
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: praseodymium
                  auto_host_rewrite: true
                  timeout: 300s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 22f2dc671c997cb02af8dbd09489781425d715530bd43800ca8165ed651326c5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/authority-requests/attachments
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 22f2dc671c997cb02af8dbd09489781425d715530bd43800ca8165ed651326c5
              - match:
                  prefix: /api/abbyy/v1/authority-requests/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: praseodymium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ac1a45308913787f89d62253d62c616b8b8d86b7c995789a613d2ed54f54c5e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/authority-requests/documents
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ac1a45308913787f89d62253d62c616b8b8d86b7c995789a613d2ed54f54c5e
              - match:
                  prefix: /api/users/membership
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c9e117dfc388269238256caf1c506e326a0fe7381c42465c6cf477a6e5d719d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/current-membership
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 331e712031f8463cd2b81903ed2870eeb6b2a52bc84e7e0dba8b82e9e40ecfca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/current-membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/current-membership
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f562bc41a15b771f3eb59f08fd1932b4130b2637c829fda6051eb580a60128aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/current-membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/waitlist
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/waitlist
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ed8a71130da0ec5223f91a5e192f11af6888d599e487f99cab2b018346ba1566
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/waitlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/billing-options/update
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership/billing-term
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d01a7110751d8341e13ecfe442c90a1f938864dd7d973ef574e39693ab853b7f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/billing-options/update
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/available-memberships
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /available-memberships
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6624d2c961714c32b177d354b3a6dc628eb34aad774f900f6575f537c031202e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/available-memberships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/shipping/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /shipping/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec176a53349e8836b2559de68d0a8d3b309ee9f13812df99d62bccdf2c3527a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/shipping/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/additional
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/additional
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3171902cede34aa9050f73b68944c13409698c38e1b0f62dccb69300c5912b66
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/features/cards/additional
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/certified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/certified
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6cbaeb1cc4c198eb8ab28927493333cd40aef0ede4590513e6815d1df0febee2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards/certified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/selection
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/selection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 689c004dad076ed176f3f3f15703f5bee8c3f5ecaa27ee2270fd501cc8adf241
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards/selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a9aeb02000baa1b6822d63248620eff23d0174d86975626f25d0d35979bba6bf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b33494f8a6dfe1bcc637a385cf35d64e48f4836e29f0faf5d743ef84c848ddb1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 238db0d42b159f9c02accb5e22fb53034a7a895c0a012d96154c552919d199f3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/certified/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/certified/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9617eb4465882e6f9c7162caf99fa5cba942754998211b92b92122c411e69a8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/certified/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/users/products/:signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/:signup
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e592244d44f892196b96216d2e239df75f09a6d6ee928e9ab90380b587c8fe38
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/:signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/:upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/:upgrade
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ffabb6e4db56b4b6378cccba25287ab2d0c29cb5d71c61873bacac945c324469
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/:upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:reactivate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:reactivate"
                      google_re2: {}
                    substitution: /users/products/\1/countries/\2/:reactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 091746a5d98dc25d8b9445f1eff13586156b047e6458f2cd6ac9d63af21039a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/users/products/{productId}/countries/{country}/:reactivate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:cancel"
                      google_re2: {}
                    substitution: /users/products/\1/countries/\2/:cancel
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20cb07eb8c6a96c61e01b74d8afbaa881e192ea8543ed4c569f535888879e893
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/users/products/{productId}/countries/{country}/:cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 100c5ac15c5dd0b3f9cfa88fa0efea7854dfffc65315423c54b2eb9161200270
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\",\"NON_SCA\"\
                        ,\"SCA\"],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/confirm
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c713dd9c0a4ef4d364e3ffc4555d11ab67e88a31032d7b75973b046d58c33916
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/confirm
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/deactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/deactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cd61762325556f0004228688eeb28384a00fd78192a3eee7585bb769e9a10d78
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/deactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/reactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/reactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 72f22ff137a41bd84f16cf39e398b13535012368fbf5f40ba8cfc7078ea40061
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/reactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/paccount/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: protectedaccounts
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /paccount/overview
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ac923a567d0539d3049cc866d4b14502981e221a1d64d398cacd1553ba3c7718
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/paccount/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e280aa2c8f7e3ce58b10b4ef161c4c051c30ca27c61690cb4d9b3bbf288cd25c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94b9888c3603dcf7c1961f5ade05cb1db7a8799ad99804edcff67c82014dbe01
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: baebaacd2b014a9b6c5f2d592637f3c57aa904e1817f4f63f7d10f5eb1475cf2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d223af5f3244125dc873a625af1f4b2a5c8c23f07c9e2077d4e5e38012096edd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e2ae46f7082341925d947a63b227664db4dfd08f7da843ef8072b50731ac803
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7300b5a0444beb6b9e29ef1feb4cdc18573a808e5bf6187107910558f136c383
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 42ce11363f1e56860faa7a5547972b5f89d1989ac5010a13ed650b34d6c3a70b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 52296ef166e0a20baca338697b0bc6eb2255d06d74196d4c099fc17e54a3e7f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  path: /api/gdpr/export
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /export
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a256af7f54a4b767b3e2963b648c7fa9d57a29beec9341251897a94a97610a5e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/gdpr/export
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/gdpr/export-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /export-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f59e8716fd3cc8b2820bbcb53418e5d34eb51832818da5a8004fa0077d5497fe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/gdpr/export-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/gdpr/export/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/gdpr/export/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /export/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b87e7b160605656f641fb02dceba284d7533befa50d55b5bc0f4d54e5970fae0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/gdpr/export/{operationId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/taskrouter/error
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1a8003c83e005aee14a557117959066b5b263ec409a4d96c125078410f0adace
              - match:
                  prefix: /api/taskrouter/assignment
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc8171ecc092847a333f82bde7fa5eaf9771cffe09453b7ac86f3807af90623a
              - match:
                  prefix: /api/taskrouter/event
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9b0ffdfeb6f9415f628a9d242c27838662221f8599ad136278b33d4f9729f515
              - match:
                  prefix: /api/aggregation/moneybeam/limits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a62837a0763d6a4e96dfa9aa0c2002408a2bcda55ca440876e0f03ec6f6276c9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/moneybeam/limits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fdc1c6c0cb1a88f1692229a18db542eae28f0f12c33093922a721f7a63cf67ef
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cab8ebe476196eb547f3b1548eff0e211706fb8b7f1242e69a77b7f12b35c318
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 977bbf8dbcc736097277a24c718203fce94c5aef51672aad980b764a422459e6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v3/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2fa45701cb20cd923da9ccab9542a940602e4eba78765111bb6f248d2c8b1f4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v4/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v5/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bd1e2e5061f75bf00a1a1db16db5035089e82cd449e83a94381f08771dbbeb8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v5/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v6/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2111eaf604766969d7a93a9fb1068f08fa302f9e64b8ec25ef7b445142845814
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v6/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 18d4d131ac91ac4088296bf2aa544cc13b7a4c2c985206b9c9f3b88e02e11fbc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e8828e86f1e20ae5991bf5e0a9eb2de8a18f7bff25e99af0e476515840f83313
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13a72d5d20a84d5e18a910fb798ae7b9d223ca4053469f5210181d3c1373bf7b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c2365b321775ba5a6f12b26e9b941fc1b0a83ec3ca7f2e81908931bf7eac782f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e381449ee46dba60dba9a0911e291cb24606928f673765e38ca116f91edda56
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 343e0233f9a9ea279cd5cf8c67e514a33abf195be93ac096b856863176ad43fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 017f1f6b877c0644cf56ae5dbdd4914a7a1f21cb5af58e78c91eaeb5e403e3fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/financial-relationships/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c433844c83c8ffe934d8631792428acb08961b2dfc727edc00f5f76fdcef5120
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/financial-relationships/{relationshipId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1fae5f102a157d5b1387b646488f5f0aa2ec45b9c99d2ba746fbed09de7d17a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e7a3d16d95ead91ecd2266e815275128110d4b0ecaa039127a99b1256d09c0a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 468f37940478a58b24d4a4c1a5d940f44b1e453db7508a67815455ed1e088a5d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e4ef300947f8b7b0a4e6beb3b386db7412acbb4fdb4742d06b44b60da92458c1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f3776905a08850a247ef88aa4d75856e8aa35f14de41941d686e5798816e8735
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 32bea0e720d7548b0eb023342125075c8251c739434839f4274f63535ae2f9a9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3840a56728f05580098aad20420bdccacb0459e251229ff622fc427e3c6fddfe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cashfinder/search
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e85ee227f501bf8dcdf30dc5a2462daac6d951b415d943d36127255a16be007
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cashfinder/search
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /atmv2/_search
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 53312620f2201e425b276a06bc6039f65bbf9ec010af58a190fffd7a8456fff3
              - match:
                  prefix: /atmv2/_search
                direct_response:
                  status: 404
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1b2ed2d3630cff8cff3967cac2cfdb2aca30775aebb204536f3f4b3c14bf5590
              - match:
                  prefix: /api/inbox/threads
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/threads
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 400bcbeabf91d975dd8334a3081f86727b45acd34c801cfbc6fba1a08b840268
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/threads
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/messages
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/messages
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dd2ec61585789ceebd34769eecad00dc2c1c82091628639257406520d0395032
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/messages
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/attachments/url
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/attachments/url
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6f4e23c60b393a3aac69a0c0e5a8c9f12ab5507a3a3b4071f03dfff5193fa187
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/attachments/url
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=40,window=28800,precision=28800,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/inbox/attachments/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/inbox/attachments/([a-zA-Z0-9-_]+)/status"
                      google_re2: {}
                    substitution: /api/attachments/\1/status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 72b87cc91af012ab300f2176269c4d142575ee5741ccb4f366374dedb7360729
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/inbox/attachments/{attachmentId}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/attachments
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 54c27337f56c063160a9961f73b58ac58f2ba3deaccc96fe790c158fd5e1765b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/attachments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/insurance/questionnaire/
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance/questionnaire/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5a922ddbbde64af6527cc00a9f9d1b28af27a94dd652fb89a00ed1779b00233e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/questionnaire/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/precondition/
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /precondition/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 51817ecb8f990628c3a66b9a3d89dabc18bf154f290ab91bab5c9a0538bde1ef
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/precondition/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/contracts/reset-pairing
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts/reset-pairing
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 90d6439b0d04b9bdfed447cb701a770ea9121591273d80e16265ac62384f966c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/reset-pairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c82496ce67074f790ef75ccc3b03d8033ac7c2b3b5e4bb8d1bdc0b990ad42b57
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/upgrade
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/waitinglists
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/waitinglists
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8fd05966643ddd199e45de57087e0827466b8b7eb6ed1aa83971f8f0869ec2d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/waitinglists
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/signup/waitinglists/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/signup/waitinglists/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8daea89d27fef59a2580fa86f0fa3059cbfe87de6cf7ed86bc8971ea3913c9de
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/signup/waitinglists/confirm/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/signup/waitinglists/unsubscribe/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/signup/waitinglists/unsubscribe/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/unsubscribe/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9efdd89334838340cb124b941db20bdba94a472499fe9c56cb7718b5ecf0ef9a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/signup/waitinglists/unsubscribe/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/account-purposes
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/account-purposes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20560b65bfe7eb8be018fdafef2d05ea9519722b8f28d683d1825ea5ca9c960f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/account-purposes
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/funds-origins
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/funds-origins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2b5da1af389735384381f9721d35bc19825313408f009ac3012c88dea3937820
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/funds-origins
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/regions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/regions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8f2edd71147b5cc80d1b4b56f4b9620c6eb3a3881eef80de63291933d6569779
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/regions
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/income-ranges
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/income-ranges
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b46faaf572d2a49483aac5c2fdccb2dfc8e09e994aaf2e84ee552957fbf1559c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/income-ranges
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/income-sources
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/income-sources
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb60e18e118994b3b43ddb0e5e24401085aeae2d75020ecbe8ba29c6891d5981
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/income-sources
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/total-wealth
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/total-wealth
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b15ea048530d7c651d892cf2857eb4ee4d5b51f9e1897110b6ff7a7b0f0b078f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/total-wealth
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/industries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/industries
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 165caeb1b4a35f0d206a03dd7762e00d23804f3b0d66cc14e847a95aa38cebb5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/industries
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/employment-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/employment-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 682ea6c7a482cc8bc6dff03622fcd0c2029612426247c86d687724c86dd38721
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/employment-status
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/expected-transaction-types
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/expected-transaction-types
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 805ececb5e6043771bace9f3e56359a7acf24f2b5fe2db09a3a37e0a3efe268e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/expected-transaction-types
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/positions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/positions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20508109dcdad62ca44b047ecf0b4ae0b3496c45c4f5c449d95823e9e304ac4b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/positions
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/user-survey/results
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: silicon
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/user-survey/results
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 332fcf3a59a06d05dd652f145446aedc32e96ee8ddc8240af2e354a1ced2bbdb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/user-survey/results
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/user-survey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silicon
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/user-survey
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9f9f4521965d9ed6fc04bbee7f7b64480c2f0dbe59ba67e5748d6bfb60a41202
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/user-survey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3386d2fe0f96aba42e8fdfe8fa20346b6875f541d59d86763b4f2471279e74f2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/flow
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/instalment
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 47a4d84d2462bb3e852dd9b4b5910e989be27cef8bc82f4f2f6b1eaa6013b85b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/instalment
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dc2f81008262fde8d69686390e0231143d1d0650cc9cf84d01b461c20b3b0cf6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d24984f7afd680b7d3e61bdec136fab921ea420c4d3014aabd7e6436a4cf6a8a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/repayment-plan
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1535149cc741c5235d39e861fb941b5004f1cd0193fc97c05b881c367b2871d6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repayment-plan
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/v2/savings/fixedterms/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/v2/savings/fixedterms/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 35f5026fcf7285e1f442f7bffd0c67cdb96c54584f931817ba20926eb5758f2c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v2/savings/fixedterms/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v3/savings/fixedterms/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/v3/savings/fixedterms/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 36212e52e07bd6c0753c6d693bea501c1d9bf68020987d29561df51a626575a7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v3/savings/fixedterms/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v2/savings/overnight/flow/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/flow/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d5e7b10d2a24b0a4866bfda80fff8327f88f5904ed6f35246bad6af27b917390
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v2/savings/overnight/flow/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/flow/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/flow/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c6748555914bc2bcaa612f452a97706ac8bcacb7a8ea73fde47ef009f80d1619
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/flow/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/savings/documents/legal/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/hub/savings/raisin/proxy/app-exposed/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b42adffe8986a26cc9f52c90643de33d008a7566bbef7ee67f14f620471fc86
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/hub/savings/documents/legal/
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/documents/legal/
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/hub/savings/raisin/proxy/app-exposed/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d0e30d56d11f2534a39c47250695419be0d87f47de5e3c9e3d699a0045db9f5e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/hub/savings/documents/legal/
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/offer/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/offer/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eec3d38840af02979fe5f19ed72681a5e897847bb38188544a55f3dd5d8a0672
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/offer/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/accounts/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/accounts/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8fbc7a017a82b785f450d64e05e637de78278b9ec4997b73eb66f54550097ba7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/accounts/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/v2/accounts/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/v2/accounts/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13de6378d3c67988d5948b680b62a9704b1e92bfa92018f660bd9b2e8247abae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/v2/accounts/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/fixedterms/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/fixedterms/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 69dbcaa3a6edfdeaa350cfb60b33d21b1f77454a733f2641c6af5ae4c8fa5ead
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/savings/fixedterms/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/accounts
                direct_response:
                  status: 200
                  body:
                    inline_string: "{\"totalBalance\":0,\"canOpenMore\":false,\"accounts\"\
                      :[],\"pendingAccounts\":[]}"
                response_headers_to_add:
                - header:
                    key: Content-Type
                    value: application/json;charset=UTF-8
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 61439e5646fc4f298e85a9f74d90c277400fa43fe335b9cfd6fe22fde3f02503
              - match:
                  safe_regex:
                    regex: "/api/kyc/face-detection-data/[a-zA-Z0-9-_]+"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stibium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65c13edee80801d5e8940bc2177746244a32860d7be5c5008fb60acf9a2b1dd8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/kyc/face-detection-data/{platform}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/login
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bcdb8f809164a5ed8904dc75d84918cf1a8e10f7b1b9085bfa321eeb1a6c18e4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/login
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/version
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v1/version
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4bb08357fddf24194796f44eda5cfda51d4e77a1c8ce6b1abdce814ce5fe488c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/version
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/version/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5f31525f3ae5ddd114335e95a5d02aa9479e426f93f1fbac85bc9d76093ea3ea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/version/mobile
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=50,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/explore/stories/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore/stories/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 37c1b7087977cc896bb25c3b9de3d388cdabf55fc844e36098c10f7f08016a2e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/explore/stories/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/explore_detail
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore_detail
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 06c5b48cd8e5667f6e6b367fa11719dd6ad3fe86f5196013a5fbddd5ed0d887f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/explore_detail
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/partner-benefits/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /partner-benefits/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a1f66a09d85d1de3b0be6753d7f572feb8b0ee1860983f4f1fdbe65c81c17713
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/partner-benefits/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/membership-benefits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-benefits
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 490202d84d2063dd30a93cf3e954c30d7c5b3e48a839a4737dc51638ae74c70a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-benefits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/membership-benefits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/membership-benefits
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2539d58319350861e22861d18e438830674e0c799d6ab13dcf700f0811e4f83f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/membership-benefits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ac40f2cd953d08d074ac4074c151ff775e06abb13149a665961ba172392c869
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 838a09363c384c9904924579a1ca51aa275246827305b7935bca34f98b524bf2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/web/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /web/membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb92f59ae8cfb18e6688ce0244f4a4d75955f31956d817adafd6197aae537dc1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/web/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/premium-upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /premium-upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 58a3674ca8336e7da5069d8075d17a194c4735b84fd4de170944992d2fe44b4b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/premium-upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/atm-policy
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /atm-policy
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2fcf610172481e2629b85a6c114e4b73f1b1e098677a64cbf74b64fd2ce3f604
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/atm-policy
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/survey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /survey
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eabbb71b0ed859805e2ba5e32061f325b9ebfebfe583de3178bca54ffe69be97
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/survey
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/marketing-carousel
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /marketing-carousel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ed480627cc79e818280af479397afdcc399ad9fcb9114cb551e27258941cd83
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/marketing-carousel
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/activation-trigger
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /activation-trigger
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 206a957500c47016627f02c79caa3e717a6ab72169eb7f4902df113df6cd4df4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/activation-trigger
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance-claim-detail
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance-claim-detail
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 64b7ec87b1d41b7c12a4785a35dc17dec0dce1588d1c5f701da849dd2cc489a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance-claim-detail
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance-products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance-products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e2c3bd010bcae45107e16d07bbb7cd0c1b2329fa7d874e86153f2eb5377dae62
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance-products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/extra-card/upgrade-trigger
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /extra-card/upgrade-trigger
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cd393004c2fee55963b42a814c2f22203fcd37c34a5696c052ccb3dcaa370a7c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/extra-card/upgrade-trigger
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/extra-card
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /extra-card
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 30fbe9a6b605dc8b2bfcced4086cda5440f2c728ce044ac15518f5d6bdff5782
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/extra-card
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/eligibility/trial
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /eligibility/trial
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a697fc6db5d13e6c468c763ca04ecab78970ab8c7398f7253b810149ef2b5c62
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/eligibility/trial
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/membership-payment
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-payment
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 807591a174053afb78d80078bb8fdb3605c7c3ce8c2d3e806aa188614d41135e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-payment
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/explore
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 76abc7e09a4c478df59a502e443f201f6a40ad65b4a56c05b5eba49e406c5629
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/explore
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/product-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/product-selection
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 06160200d49f6e8246968c44b3e67189159625dd255cd76739dfb2cd08d2b643
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/product-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/product-selection/review
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /product-selection/review
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8ff5f7288fccd25d2da489e324f5fc6d138026d6b756482d0c8671225310c2e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/product-selection/review
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/product-selection/billing-faq
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /product-selection/billing-faq
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 224c988c39ba15722828beef8f1f13a159bcb9fa2635c6cfdea610d25a470aa5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/product-selection/billing-faq
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/v2/product-selection/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/product-selection/preferences
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65a220bbb6a2b67608869c6fb65efe814408f842ee2900ceeae0d29a5e448fd1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/product-selection/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c8ca2f32d9ed78814b3bf8af00b59fc3e970517557a0bdea7fc6cf3c56ad1e1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/billing-options/edit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/edit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a72949bbcd0261c608d546c38193443061f43509743b1e759b702347663ecf7c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/edit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/revert
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 57143e09e7b71f39e681f1348544f903f880f7849c244848c75f853e7eae4d36
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/revert
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2d41b5aab860496214f5dfc404c5b06d9cbf471147d835589aade534707ddb80
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/payment-faq
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/payment-faq
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01131072c47a6a724b9f8d37ad0bb40bc9a42b5ea64e14e0c8ddd551a57ec226
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/payment-faq
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/campaign/redeem
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaign/redeem
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc41236d39170baa90f922cd01e6db45f5b914d22c602126e0eff91e382b6842
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/campaign/redeem
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/campaign/redeem/feedback
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaign/redeem/feedback
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 537ba178da156e0d7eb12ab013bf7279d778bf025606e67b1ba1ba045146effb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/campaign/redeem/feedback
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-modify
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-modify
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5dca057a9b46fe2e902112fb79bd7ee1329cde8061729574cd61a677e2d06b55
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-modify
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ad61dafc351d5f2d540dc94db28e8e55106d9cf709d0260845d9af1b4bc10f9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/signup
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2399ef8900bf6ada069a2aa74007f942bfe5a0157b7011d0d2a86b7f49b0ec7f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection/update
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/update
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: adc5889a8c7f34e501bd882bf76fb827263c8606056b7afcfab4d8653e08c104
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/update
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/campaigns-landings/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/campaigns-landings/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /campaigns-landings/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eec249b3aebdeacf4c2dd6e081a3f953e1093fec19092bead6424712e975c0a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/campaigns-landings/{contextId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /seasonal-cashback/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33be97859cec1a89a014555cefd58d03eed09a8190aeb9e222f469862528b407
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/seasonal-cashback/{campaignId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)/activate"
                      google_re2: {}
                    substitution: /seasonal-cashback/\1/activate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 11fc1889a900a0ef1219241bc03410cb54edfd9281683aaccec1158dcaac5fe7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/seasonal-cashback/{campaignId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/fee-statement/available-intervals
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/available-intervals
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a8c80f04a9bb82d642629fe2348c2d8029c2f311c490e5316c51ce88cae08067
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/available-intervals
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/app-icons
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /app-icons
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5b97b2afa645d2390be596ae22a782d0b4e3cc9a31a27802f2d3a50183c2259
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/app-icons
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/tax/flow/country/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08720fcdfd5001d6a36c5ad976ffeb8a30b412c0221304ba191203760c3d6150
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/flow/country/{taxCountry}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/country/([a-zA-Z0-9-_]+)/tax-id"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/country/([a-zA-Z0-9-_]+)/tax-id"
                      google_re2: {}
                    substitution: /api/presentation/tax/country/\1/tax-id
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c58eaf4851531deca60f228a5e437a5c444751263be2575f24c9d26215641263
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/country/{taxCountry}/tax-id"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)/tax-id/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)/tax-id/confirm"
                      google_re2: {}
                    substitution: /api/presentation/tax/flow/country/\1/tax-id/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 062dfebcb201d73a2b11dee428808bbf5204d22dfbf3abf1ac8230086d40be6a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/flow/country/{taxCountry}/tax-id/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/openbanking/bank-authorization
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /bank-authorization
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a5e432a772f16b95fba68fb0416e9b0952b3abd681e5276cab9bae9fea12043b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/terms-conditions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /terms-conditions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 27238ef27bb672656bc89e309d9b7622e388638b4e70f0fa4f03092133e1f8e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/recovery-authorization
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /recovery-authorization
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 88bbdfd50736c68e313ccc5748e8f2451aa82443ff517cc43dd8d22e6c1042d1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/alias-verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /alias-verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 618941d8664ff4c87249bce5f269f7387e89cad72b78ebc5053eb08c740a1bcf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/certifications
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 48af123d491ebea5bb7b3e20398fbae78f5b54d720e1999754d1004bc27f3486
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/certifications
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 606eab661908743a70210a8c61b3b5fe288310de194bd53225803f1b7ebbb9ec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/account-linking
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/account-linking
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66c7464b3c97c5e578a17895d29bb9e0f74f1b5937d93824df8fde9797ce3300
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/account-linking
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/account-linking
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f91a3dff58f341bd4030e746c4eaa2a1c9bd0624660505ae2824436b44b68711
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/sepa
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/sepa
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 73d20a856158bdf0da2cb5621a480c47146e498ce8a352eb3c6daeee3f0b5e9f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/standingorders
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/standingorders
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 41d51745f4698f6acea700df890e0f0ee9150da28795705df52543d257a4094d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/standingorders
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/standingorders
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8e14425b0bed2dbce5efbc8e5a2a04a8ce7f03cedc71dd3e3ced5d07ce035e6e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc1894ef0ce4c5fb62a0582475ce3eec0e571b9926793fbb42211ed3d3d65802
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/v3/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/v3/spaces
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5ba91f40f293cfbf024e7396f02dc5c392d03eaaac1cac68bda6f4c9a7d16f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/directdebit/reprocessed
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tps
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 46d68c8465a1476325f1527e6e35d3126aa22807a71ff989d289006eb6c0d711
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/directdebit/reprocessed
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/transactions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/transactions
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 78628a7d12214f70ae3f147f0425db44c62f8589d6db3f6a2cfdc9c587f473e2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      route_path_match: /api/smrt/transactions
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/categories
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/categories
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a4c7da01c5cb60cf7b26cd2974167b2df0d635e0ceba059bb58baa98edcaff6e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/categories
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/statistics/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/statistics/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 255a45c7cdf3d2080341af78e3de6a5b65f36ac8b7a8c3edf968f71cc7f4485a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/statistics/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/reports/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/reports/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7b03058927c05499f72258726ca2eec3cd1719d6283a06f94db166f892883f76
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/reports/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/transferwise/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/statuses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b59a9bd197d8d850356a0634e7f02b9f1a179c29c7c27e590bff2b01f25399d1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/transferwise/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/transferwise/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/statuses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4b9433c5c623fff3b7aae2fab1bc66f201795a171b152d44e9c5f35f3cee4ab1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transferwise/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/transferwise/user
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1ab8c8a7cf3070dad6975cc1ed0e49cde912ce78f674f436f3ac968ffcb56289
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transferwise/user
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/transferwise/transactions/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/v2/transferwise/transactions/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /transactions/\1/details
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6046f02f0d33a4f7cf127aa4687646ec0d0c3bda1c6eafd31ea4d772a02a5778
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/transferwise/transactions/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/transferwise/transactions/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/transferwise/transactions/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /transactions/\1
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b3ad478a18332977e6c66db235f753c961492c3dddd65e18d241a49c10438ca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/transferwise/transactions/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)/fieldsets/([a-zA-Z0-9-_]+)/validation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)/fieldsets/([a-zA-Z0-9-_]+)/validation"
                      google_re2: {}
                    substitution: /countries/\1/currencies/\2/fieldsets/\3/validation
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 206c9c903566af047482902e54eaf5ecb9251c0518be82900dd7db055dc9169a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/hub/transferwise/countries/{country}/currencies/{currency}/fieldsets/{fieldset}/validation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /countries/\1/currencies/\2
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 84a94f9023882d1e1afe0d95b7095366abc002328a4982497b0295f7a9d6a3d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/hub/transferwise/countries/{country}/currencies/{currency}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/transferwise/countries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /countries
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8534bd75dfc083bd9022e111169b59e33c7d3df535b16bdd0b324afa35ac8385
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/transferwise/countries
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/translations
                route:
                  cluster: babel
                  auto_host_rewrite: true
                  prefix_rewrite: /translations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e64a5b1f359c7a0794e0bdb1d220ffcd080ea9d310161b3a24f944f492d3014d
              - match:
                  prefix: /api/v2/translations
                route:
                  cluster: babel
                  auto_host_rewrite: true
                  prefix_rewrite: /v2/translations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8aeac9b05b929e501a3b9ea753e5e767de33927bcd7b5d245f0564d774c3cf8a
              - match:
                  prefix: /api/referrals/code
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /referral-codes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b58769d806beb8f8f8be2926bcc7f72dae3354a788c7db403e7ad241eab573d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/referrals/code
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/referrals
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /referrals
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 11a3e48745105daa5292f8755d2c3099e9dc862fcc266052d6417d51b8a6d59e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/coupons/validate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /codes/validate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ecac0a545775e996deb03450e921a6f537558e523a0f5636bbed056023a8ee02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/coupons/validate
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/campaigns
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaigns
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f66ebf5055466df30d4238af3a95eb8ddcf73dbd3d133a91fcb101f4da551cb3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/coupons/campaigns
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/:consume
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/coupons
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6e94b14bfd75a37fa37d7a2922f5f6caa6f45171a861e6bdc366d3b49c17fb44
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/coupons/:consume
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/users/external
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/coupons/external
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b1c946c600e4422e48f4e93bd78a3e619eca846f62171f5868e4f9610bea2f67
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/coupons/users/external
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/spaces/[a-zA-Z0-9-_]+/lock"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce5bd6a8e2aa134db08ebf82c2a1b066a26c92a8dbf6032d609d9a4537236cf4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/spaces/{spaceId}/lock"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/spaces/[a-zA-Z0-9-_]+/unlock"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d2a38dcf02a298855292bc3399b510afedecd6a50938dc1c3c5d0085398f945
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/spaces/{spaceId}/unlock"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/spaces/[a-zA-Z0-9-_]+/externalId"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fda61632b9895f06f5c7abfff3c439d57a2c5e810c34c5258e48867f98a79181
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/spaces/{spaceId}/externalId"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces/terms/upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f1e80220a60cfa3f5d46a05e9c30666c193c2337c220196b382437a8dc3dd609
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/spaces/terms/upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/spaces
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0dd12ec3e9ff05182274224bcd69271f0c74a3247d36d3396d17f011a08bdd31
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e694418bcd33d50d065db06656408d0a877c0deb4e6ca3af2a820484736c1af6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/v2/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/[a-zA-Z0-9-_]+/transactions/[a-zA-Z0-9-_]+/category"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9110005469cf2e5427cbb319813122717b6ef685c0da2b3d924707ad3ea01bec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/category"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/[a-zA-Z0-9-_]+/transactions/[a-zA-Z0-9-_]+/tags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 64be28bac26f4ce0e4248e96dbd0b7416b0e9032d36927554b09497e02f33008
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/[a-zA-Z0-9-_]+/transactions/[a-zA-Z0-9-_]+/tags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4c4becd18a71c4a14a0c91a1024ce2a7f393996a5ab78e07d0fbdd789ac7e825
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/[a-zA-Z0-9-_]+/transactions/[a-zA-Z0-9-_]+/tags/delete"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 408eaf67586c0aeca5efcb378d736945c1724e4ea047076053c210900e364ebe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags/delete"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/per-account/\1/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 47b0e583b6492ca1f75b31ce32275cfa40d393dbcc7e416c50b1c87a7deed809
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/per-account/{accountId}/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 49b3bc56dd7c715d185df10db0a924089ca55e9963a16e5ea173cc1eb31b8656
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/per-account/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 300bd64dec4b28e3f1c2d58bad05af6374895ca325c171b16f1b9687504c99d3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/per-account/{accountId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/balance-statements
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 489072cade6a7c21a24adcc133f0a95c3665c97934f0310f3e9df7cc18a1c704
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/balance-statements
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/average-annual-balance/statement/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/average-annual-balance/statement/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /average-annual-balance/statement/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6598640560f91d04f9196298585168e8ff67474910013513a223cc3716d128f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/average-annual-balance/statement/{year}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/statements/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/statements/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eddcf4d827a9fb633b71bec3a521f0b2a16fc6289075f1caf46694b3a42408c9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/statements/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/statements
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2433bbaa2e34847def71db2881d56f31db28fe86791f926933f9cffb6bd597e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /
                  headers:
                  - name: :authority
                    string_match:
                      exact: beta-api.tech26.de
                route:
                  cluster: bapi
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0fabb913255c8e01684039b97f835708c85b7163c6211a25f52dca01fc2b115f
              - match:
                  prefix: /
                route:
                  cluster: api
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6b64fc8b3b6a5d894591232b46cd5f227a60bbd0ab70bd02278b84afe80a33e8
          http_filters:
          - name: envoy.filters.http.health_check
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.health_check.v3.HealthCheck
              pass_through_mode: false
              headers:
              - name: :path
                string_match:
                  exact: /management/health
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  -- remove auth headers coming from downstream
                  request_handle:headers():remove("x-n26-userid")
                  request_handle:headers():remove("x-n26-scopes")
                  request_handle:headers():remove("x-session-id")

                  local authserver = require "authserver"
                  local os = require "os"
                  local metrics = require "metrics"
                  if (not pcall(authserver.run_authentication, request_handle, os, metrics)) then
                    request_handle:respond({ [":status"] = "403" }, "")
                  end

                  local cerium = require "cerium"
                  cerium.validate_pin(request_handle)
                end
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  local metadata = request_handle:metadata()
                  local routePathMatch = metadata and metadata:get("route_path_match")

                  if (routePathMatch ~= nil) then
                    request_handle:headers():add("x-n26-path-match", routePathMatch)
                  end
                end
          - name: envoy.filters.http.ratelimit
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.ratelimit.v3.RateLimit
              domain: ruthenium
              stage: 0
              timeout: 0.3s
              failure_mode_deny: false
              rate_limit_service:
                grpc_service:
                  envoy_grpc:
                    cluster_name: vanadium
                    authority: vanadium.service.consul
                transport_api_version: V3
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  local decorator = require "decorator"
                  local metrics = require "metrics"

                  decorator.decorate_request(metrics, request_handle)
                end
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  -- remove headers coming from downstream
                  request_handle:headers():remove("x-open-banking-secret")
                  request_handle:headers():remove("x-prod-sec-secret")
                  request_handle:headers():remove("x-n26-path-match")
                end
          - name: envoy.filters.http.router
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              start_child_span: true
    traffic_direction: OUTBOUND
  clusters:
  - name: adrenaline
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: adrenaline
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: adrenaline.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: adrenaline.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: aether
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: aether
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: aether.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: aether.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: api
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: api
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: api.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: api.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: babel
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: babel
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: babel.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: babel.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: bapi
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: bapi
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: bapi.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: bapi.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: barium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: barium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: barium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: barium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: boron
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: boron
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: boron.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: boron.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: bromine
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: bromine
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: bromine.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: bromine.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: caesium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: caesium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: caesium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: caesium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: caffeine
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: caffeine
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: caffeine.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: caffeine.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cerium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cerium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cerium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cerium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: charizard
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: charizard
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: charizard.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: charizard.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: chronoton
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: chronoton
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: chronoton.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: chronoton.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cmd
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cmd
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cmd.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cmd.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cobalt
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cobalt
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cobalt.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cobalt.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: consumercredit
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: consumercredit
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: consumercredit.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: consumercredit.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: curium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: curium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: curium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: curium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: datadog_agent
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: datadog_agent
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: "${DD_AGENT_HOST}"
                port_value: 8126
    dns_refresh_rate: 5s
  - name: datadog_agent_http_proxy
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: datadog_agent_http_proxy
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: "${DD_AGENT_PROXY_HOST}"
                port_value: 5001
    dns_refresh_rate: 5s
  - name: diamond
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: diamond
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: diamond.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: diamond.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: diglett
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: diglett
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: diglett.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: diglett.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: ditto
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ditto
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: ditto.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: ditto.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: dubnium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: dubnium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: dubnium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: dubnium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: einsteinium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: einsteinium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: einsteinium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: einsteinium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: flerovium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: flerovium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: flerovium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: flerovium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: fluorium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: fluorium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: fluorium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: fluorium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: gadolinium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: gadolinium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: gadolinium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: gadolinium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hassium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hassium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hassium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hassium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: holmium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: holmium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: holmium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: holmium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hydrargyrum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hydrargyrum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hydrargyrum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hydrargyrum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hyperalloy
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hyperalloy
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hyperalloy.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hyperalloy.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: ibuprofen
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ibuprofen
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: ibuprofen.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: ibuprofen.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: idnow
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: idnow
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: idnow.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: idnow.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: kalium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: kalium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: kalium.service.consul
                port_value: 443
    per_connection_buffer_limit_bytes: 20971520
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: kalium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: kerosene
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: kerosene
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: kerosene.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: kerosene.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: magneton
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: magneton
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: magneton.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: magneton.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: methanol
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: methanol
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: methanol.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: methanol.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: molybdenum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: molybdenum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: molybdenum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: molybdenum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: moscovium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: moscovium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: moscovium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: moscovium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: natrium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: natrium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: natrium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: natrium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: neodymium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: neodymium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: neodymium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: neodymium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: neptunium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: neptunium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: neptunium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: neptunium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: nihonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: nihonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: nihonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: nihonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: notificator
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: notificator
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: notificator.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: notificator.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: onboardium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: onboardium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: onboardium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: onboardium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: osmium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: osmium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: osmium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: osmium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: oxygenium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: oxygenium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: oxygenium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: oxygenium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: peppermint
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: peppermint
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: peppermint.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: peppermint.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: pikachu
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: pikachu
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: pikachu.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: pikachu.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: platinum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: platinum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: platinum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: platinum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: plutonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: plutonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: plutonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: plutonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: polonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: polonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: polonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: polonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: postidentkyc
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: postidentkyc
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: postidentkyc.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: postidentkyc.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: praseodymium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: praseodymium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: praseodymium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: praseodymium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: product
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: product
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: product.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: product.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: protectedaccounts
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: protectedaccounts
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: protectedaccounts.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: protectedaccounts.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: psyduck
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: psyduck
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: psyduck.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: psyduck.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: radon
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: radon
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: radon.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: radon.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: rubidium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: rubidium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: rubidium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: rubidium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: rutherfordium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: rutherfordium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: rutherfordium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: rutherfordium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: samarium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: samarium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: samarium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: samarium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: scandium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: scandium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: scandium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: scandium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: silane
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: silane
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: silane.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: silane.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: silicon
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: silicon
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: silicon.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: silicon.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: snorlax
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: snorlax
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: snorlax.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: snorlax.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: stannum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: stannum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: stannum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: stannum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: stibium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: stibium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: stibium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: stibium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: sulfur
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: sulfur
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: sulfur.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: sulfur.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: tantalum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: tantalum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: tantalum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: tantalum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: taxadiene
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: taxadiene
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: taxadiene.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: taxadiene.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: technetium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: technetium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: technetium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: technetium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: tps
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: tps
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: tps.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: tps.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: transactor
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: transactor
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: transactor.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: transactor.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: transferwise
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: transferwise
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: transferwise.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: transferwise.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: uranium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: uranium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: uranium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: uranium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: vanadium
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: vanadium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: vanadium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: vanadium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: wolframium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: wolframium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: wolframium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: wolframium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: zincum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: zincum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: zincum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: zincum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: zirconium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: zirconium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: zirconium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: zirconium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
admin:
  access_log:
    name: envoy.access_loggers.file
    typed_config:
      '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
      path: /dev/null
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 8001
stats_sinks:
  name: envoy.stat_sinks.dog_statsd
  typed_config:
    '@type': type.googleapis.com/envoy.config.metrics.v3.DogStatsdSink
    address:
      socket_address:
        address: "${DD_AGENT_HOST}"
        port_value: 8125
        protocol: udp
stats_config:
  stats_matcher:
    exclusion_list:
      patterns:
      - prefix: cluster.datadog_agent.
  stats_tags:
  - tag_name: group
    fixed_value: ruthenium
  - tag_name: service
    fixed_value: ruthenium
  - tag_name: component
    fixed_value: service
  use_all_default_tags: true
layered_runtime:
  layers:
  - name: static_layer
    static_layer:
      re2.max_program_size.error_level: 200
stats_flush_interval: 5s
