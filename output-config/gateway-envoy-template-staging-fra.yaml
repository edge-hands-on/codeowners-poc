static_resources:
  listeners:
  - name: ingress_http
    address:
      socket_address:
        address: 0.0.0.0
        port_value: 8080
    per_connection_buffer_limit_bytes: 20971520
    filter_chains:
      filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          stat_prefix: ruthenium_ingress_http
          codec_type: AUTO
          generate_request_id: true
          tracing:
            custom_tags:
            - tag: x-request-id
              request_header:
                name: x-request-id
            provider:
              name: envoy.tracers.datadog
              typed_config:
                '@type': type.googleapis.com/envoy.config.trace.v3.DatadogConfig
                collector_cluster: datadog_agent
                service_name: ruthenium
          add_user_agent: true
          access_log:
          - name: envoy.access_loggers.file
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
              path: /dev/stdout
              log_format:
                text_format_source:
                  inline_string: |
                    [n26/ruthenium] [%START_TIME(%Y-%m-%dT%H:%M:%S,%3fZ)%] [INFO] [0] [http-manager] url.path=%REQ(:PATH)% http.protocol=%PROTOCOL% http.request.bytes=%BYTES_RECEIVED% http.request.method=%REQ(:METHOD)% http.request.headers.host=%REQ(:AUTHORITY)% http.request.headers.user-agent=%REQ(USER-AGENT)% http.request.headers.x-original-path=%REQ(X-ENVOY-ORIGINAL-PATH)% http.request.headers.x-amzn-trace-id=%REQ(X-AMZN-TRACE-ID)% http.request.headers.x-forwarded-for=%REQ(X-FORWARDED-FOR)% http.request.headers.x-forwarded-port=%REQ(X-FORWARDED-PORT)% http.request.headers.x-forwarded-proto=%REQ(X-FORWARDED-PROTO)% http.request.headers.x-envoy-external-address=%REQ(X-ENVOY-EXTERNAL-ADDRESS)% http.request.headers.x-request-id=%REQ(X-REQUEST-ID)% http.response.bytes=%BYTES_SENT% http.response.status_code=%RESPONSE_CODE% downstream.tls.version=%DOWNSTREAM_TLS_VERSION% duration=%DURATION%
          route_config:
            name: local_route
            virtual_hosts:
            - name: api
              response_headers_to_add:
              - header:
                  key: x-content-type-options
                  value: nosniff
              - header:
                  key: x-frame-options
                  value: DENY
              - header:
                  key: x-xss-protection
                  value: 1; mode=block
              - header:
                  key: x-request-id
                  value: '%REQ(x-request-id)%'
              domains:
              - '*'
              routes:
              - match:
                  prefix: /api/me
                  query_parameters:
                  - name: full
                    string_match:
                      exact: "true"
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: ddc6382d-7d61-4c2f-b331-51e26cb8464d
              - match:
                  prefix: /api/transactions/p2p/internal/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: api
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fbcd960aed6c09d66b96118447ff0fbf82e49a70925770b66f792939d6543c4e
              - match:
                  safe_regex:
                    regex: "^.*[^%23]internal[^-]*$"
                    google_re2: {}
                  headers:
                  - name: x-n26-internal
                    present_match: true
                    invert_match: true
                direct_response:
                  status: 404
              - match:
                  prefix: /api/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                  - name: x-n26-ping-secret
                    string_match:
                      exact: Vnx81QkXnw5L2AdB46WyHAdQBITznfsY
                direct_response:
                  status: 200
                  body:
                    inline_string: pong
              - match:
                  path: /api/reverification/unpaired-device
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/reverification/unpaired-device
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0cc0dc80b954e4d494334baa42e2d1440c8500fd0fcb82ef58b29ae2a07525a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reverification/unpaired-device
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-correct-user-data"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-correct-user-data"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/user-answer/confirm-correct-user-data
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 904cda191cc4e9cfcc9adc207f4f3d39a3a37c5c1d6984163d2dbb89910330c2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm-correct-user-data"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-incorrect-user-data"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-incorrect-user-data"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/user-answer/confirm-incorrect-user-data
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2dc323ec58c444c894079af17e09c7fe75dda8b8be64654c40cececf1e66852a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm-incorrect-user-data"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/personal-information
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 872e2b18c3e2571622863b9d2dee9a6c41e2a7e9636ba8c98dbaacc4decb8c02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/personal-information"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/personal-information/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e42a237ae605ca71180951026de2c3af7fc4c358fef92a62d1a754002a1753d2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/personal-information/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/addresses/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01a7a1491c012321a488c869753c777ecd41f3c65a6bbc8de805524c0d8d5fd9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/addresses/{addressId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/addresses/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e9ea1a8bf6cb04ce0dbbbe2ce79a68ef103359515e76810feff891efc200ed35
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/addresses/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4f0c842c1970a9887eed69078ee8e78d25ec8d26b635dfb37dfba3f1e51227e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/vat"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/vat"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/vat
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3e16fdf821767f8fa6c5f89784ece87dae892ab36d69fbfdab09ce372075ec02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/vat"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/ateco"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/ateco"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8e51d175925740737bc4674d56c09c0a7705c3de421c6a41cac73b440245a2a9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/ateco"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d506ae86f7fa864411fb9301ef63702a16424603702f3bffdd0494b0a6363643
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/tax
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3214c74ea666805748b411234b5ad68ca58723348eae37ad370e794e377c5510
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/tax"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/tax/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8cfff6ce23390e13c0ae173213481b8ba5b63c8525f86350c7b706ecdbe9923b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/tax/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e8249c0cfa0e16f63bba7b08d0281278c0de194b5c241ad410aafaa35ee28186
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/reverification
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/reverification-process/current-flow
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4a0b16d49bacac2fb9412e012bed12558f55f841904d15aad6b7a8bb6a110d7c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reverification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/reports
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: aether
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v1/customer-report
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2255ebff176a998906b8b7ca3b68b329ff7194f84f261200eda3c51b5528342d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reports
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/fee-statement/request-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/request-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cf23822729b2724309bad16a9a9e1ecd6fd1b48b4856c143b52c71fcf37bd5cb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/fee-statement/request-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/fee-statement/export-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/export-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f9a3e37350dada3aeb5c58e39ce1b7ef255e43d9099290efecd087642ff86b3c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/fee-statement/export-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/fee-statement/request
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/request
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a85ebbbbe94e18e5bae0bde9c067642a4e99131f10cf7cbbfb079b2ee77eee9f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/request
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/fee-statement/export
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/export
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da1c50500fd1e5ac41a0f9318df41b3049dae005dc950e86847213cf9ada392c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/export
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/multicurrency/presentation/onboardings
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: boron
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/onboardings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc6f11897680ac4492753ed7f52e09a4cb7dff2cc6f3f09195c6d601baf3563d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/multicurrency/presentation/onboardings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/search
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: bromine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c964dd0815fb63791874c1f4182cb4712fc0b8eece39d95f87b405b2ce8430bf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/search
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/chat-providers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5095f6de498dc5cf13fc8117d2b204838a01255fcf704356675e13b99205f6e6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chat-providers
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/chat-providers/guest
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 540644b784e0f6371a9fc8c7c0ecb34a1a2ea990ee3de7f17a4602d678a6f500
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/chat-providers/guest
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/customer-support-chats
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aad67cf81217f589eb31575a67bdad3abcabbac87bd66a8fe2aa6bf14eb803a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-support-chats
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/customer-support-chats/guest
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 19fd905cde41fcc9b14356924a07c8c1961a3ca11b3d44964c15f614402c8f9c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/customer-support-chats/guest
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/customer-support-chats/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 266d5aedbd335238b2efdf153706e278fdea40ec1923bdfa85ed250a3b1d9dd5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-support-chats/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=100,window=60,precision=60,backoff=0"
              - match:
                  prefix: /partners/twilio
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  prefix_rewrite: /twilio
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4dcb1efaf8fb4b344989447704778d983381a42dc5461c2bd1e58324f332649e
              - match:
                  prefix: /api/cash26/barzahlen/notifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(46\\.231\\.176\\.(209|21[0-9]|22[0-2])|80\\.82\\\
                          .206\\.(129|1[3-8][0-9]|190)|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b47db33261965f0e2882e5bdcd8b9f5a5f766eeab9086fbb8df272cf2a6e36f6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/cash26/barzahlen/notifications
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/cash26/barzahlen/notifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b47db33261965f0e2882e5bdcd8b9f5a5f766eeab9086fbb8df272cf2a6e36f6
              - match:
                  prefix: /api/cash26
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: edbde44701258514643c45a53a4c9fbdfc302e02eba8cb49dc43484c59f7961a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/cash26/check
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6dc9928b5e50f020a59609c029246b58d96359fceca7da62044092217d78a1b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/check
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/transaction/([a-zA-Z0-9-_]+)/barcode"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 49e5abb115c596eac383186199a2c4284a885dfc9f1aaadf9bf62d2b0dffdfdf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/transaction/{transactionId}/barcode"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/resendtan/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cash26/resendtan/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/cash26/resend-certification/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 405772647aacc9433bd04d9ace41ee16abdcec4309be382f1af03048f143cb8c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/resendtan/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0cada74f510c95f4f3ad84d85baf02747dc9ef7bb12ec6b26bb22b1e14cc1b49
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0cada74f510c95f4f3ad84d85baf02747dc9ef7bb12ec6b26bb22b1e14cc1b49
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/encryption/key
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c358181c85f9379923f1da209ec675fc0585065a7c7cf5bd6b914af5f7eecfb6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\",\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\",\"THIRD_PARTY_DEDICATED_AISP\"\
                        ,\"THIRD_PARTY_DEDICATED_PISP\",\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      route_path_match: /api/encryption/key
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  path: /api/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0e56717d337c9bc099e38b597417cef481a4498b707193d59394ab1f921c335d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certifications
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5b37155f12b2d53b53c8c88307ac9fabb2809f64f735f247ff7211d95fbf2ef9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cdade0405c1476786b13ffcccf10e195067769c8fb974fc22eef6a39b742967b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 86f9382a6dafb8885594b5a7f8dfff8b8fa0ba8ecb5455f595f1f2597e5c3efb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=5,precision=5,backoff=0"
              - match:
                  path: /api/pairing/send-code
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 52fc86a0ed490786e0d78d98467c8f373c023436ab30e8cfee239942cbe44b61
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/send-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=3600,precision=3600,backoff=0"
              - match:
                  path: /api/pairing/sms-codes
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7664d228922f8513ba3388ee4e1b6ef0ed1e58d3dc0f9afbcd2c7a5503a619d9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/sms-codes
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pairing/complete
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89f4bb7972f1bddf14afb6d499f53c47cab0c9b18bb537a0f417e91fa2d2bd95
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/complete
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/repairing/send-code
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 40b24ea6887121304539deeed2e8a22474f7470909fae27b3eeddda5c568d906
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/send-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/sms-codes
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bca1a700a7bd3c847ee70c7e13f1b6ff8a21b7fd613acbe9cb0d99fe66b263d3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/sms-codes
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/sms-codes/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3c6497451fc1b0ecd33fd9156a1d8ae188fa06f1a440900f4d78ee79a4de2073
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/sms-codes/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/card/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d1df6d6c8621941d80785556621794febd6b38e30352b25aa2a1dfd934abd497
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/card/{cardToken}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/code/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7f26ed0df11b79cd5c553c1bf3d22157ae75ac8276d8ff7239c34726f8483f10
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/code/{code}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/cards/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 58551f73f3854b75bafc03c4c61958e0fe7da252d8958ebabcf7d4b9e87cd10f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pairing
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 84589336e205c60b8c1e05f207e62e27fcd049619e30cda3714180dc896b4a59
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/repairing
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ef7b150a1d93c8a31f7dfaa7ba33eff9488598b6126541f1201373ea2e06cf4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/pins
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 81c222da3bb57ef5af01ca2bb82cfb3f5a489a0ce7e0d9e718c4e4b01825f554
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pins
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/recovery
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a3686ea50d79b799ea9574a72735f1492b7f91194438b5b0797447c551b64665
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/recovery
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/recovery/card/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 31f9371ad8047473d78216d127ad85eb37a5a45c5f078ff7e68a8ce41bd03369
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/recovery/card/{cardToken}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/recovery/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 823d1a1303a66410b1d58b3ed3e017664cd03635895ef27c527a06c99ee79e9e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/recovery/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pin/validation
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3bd85a53fbb86437c5e901d1480b3cd672bd64e378796ab0cc141943e4542d79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/pin/validation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/accounts/resetpin
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/pin/reset
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 76cbbf8c171e8b2e77511e82da92685e60fd7f3bd352094f57c54758616682f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts/resetpin
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/accounts/setpin
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/pins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bf19ae8158c3c9f3ce7b91257d8adde2050b3203005bce468d219457794a97b0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts/setpin
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/email-links/([a-zA-Z0-9-_]+)/resend"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c030f048ddc52330fc3e8e22c85a513b6f9e9860593373301792299ca7ddb323
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/email-links/{publicId}/resend"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  safe_regex:
                    regex: "/api/email-links/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1a7a5c6e2a2d48752879eb7ead55a668b67e1af937af47832057406214683598
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/email-links/{publicId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/repairing/recovery/email-link/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c4ce83200e620cfa5ca112b3f0e6a83efc8741ba67b8ac5f909dee17fa6b32a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/recovery/email-link/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  prefix: /api/repairing/email-link/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dfbacdc4a060c04eb1b8e98f2603757964f24f32ff35195cf541a351ed578b27
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/email-link/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  prefix: /api/repairing/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94906bca225ca52bfa9ed2902ad13882b4c20ce584e8b513186a108fc0912b0f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2272acc7ad3d2db3c7bbaf4d12c6c5eeb8a7004366ac26f9b15cc77f1ced765b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 26532e2b1c9177a1643a7a544f114ea854bad9047c7738719cd9c4ff4f282405
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ee48f9b10cf4c3aa198251a1f657f331b8e7e8416b9f0f12a799c39465582131
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/account/primary
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c221439036f4446cf1e9abada6c07a6538e99761a31d492589550c471957844e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/account/primary
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a8e5760d300f161e14b51d2423459ec73d4c8b20c53f976e202a9ddb0ed5bfe9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/balances
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/balances
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e6c4f0d3ba8db18be58c1a2d6530abeffa100b00f613af94b19a63de82bffd0a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/transfers/balances
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 21d734853ac7da9833b398682fde57cfde1d9e810d8e3f8883e72b285851235c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f8651e5698ca00831b696101416f6cc7fbbe4d86ab198a6cb007fb8a852bc311
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/sepa/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/sepa/journey
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: afd380200a7d0aa098c9852658c1b7d0e5d1fc1802f83212445c7dce523226ad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers/sepa/journey
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/transfers/iban-info/financial-relationship
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/iban-info/financial-relationship
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eef3dd3c462f3d1f9e56440e92d980df92367e0c52e0b88e0520a0ed3a8e2c09
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers/iban-info/financial-relationship
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/local-payments/pagopa/verify
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/local-payments/pagopa/verify
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c733b92ce2c1aea7c11f3545a8ba6aa801f9d4e804a5834e7c16a67a2c27186
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/transfers/local-payments/pagopa/verify
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: afe1d128bd2188b264027c9b0213a8a374dba65f22ab64227c525631177b79c7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 97b4a9fdf279bef1b27eda7bffa219531c7ae19a2eced5d712c5001bd272d3d8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aae7995911515636b604b8c8f3f4beef638d5e3110f186d1bd459fc85269debb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9d1b095be02481fe0b757ec160d4157072a13a3ca03890b95987580938c07279
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8d403b295f2312df4a50c119be25137257f53599a4e374edb7d5895fed512929
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec111669a906d05d5317282f95a8763fb6abb7f3cad686005987e51753f96cde
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: acdb5d3e96ecdc501fe1632d35c5b2830be6038bd91ea582b17726ef075055f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f0f636c095cb7381f47a553793a7a333562857cd9c450d15935e09d41567e94e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7e1e32e23328083881f3e2ece345877fc498748f6955033dab8f988cf16a9e59
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b57341e7fe91fef42b876c10b53828f55fa95b2b390f2cbf0247cc5cdc1854bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 969650a80413aecf5cf0d64acef84d612ed2322a8f154c004b04f0ee2b592e7b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules/dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments/spaces
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33c7e4e835fe343204c2ae14c70b54a5122424a4bdff6642f436b244c2b092f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules/dashboard
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/aggregation/split-bill/limits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /aggregation/split-bill/limits
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4ceb040cf7ec3b7de28768d5adbecff747f281c709ad1e2cb25f17393a75d9b9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/split-bill/limits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/split-bill
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /split-bill
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d1cb8a2f81fd334ab0a060d38873713e5ca9a1d4c4bc247865cf4fb21836b61b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/split-bill
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/aggregation/split-bill/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /aggregation/split-bill/config
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 03b3eea59fe320c9872b69e47e39d44f150b4ebb47ee2992469c9affeb6d3d04
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/split-bill/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/iban
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/iban-info
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 861ce7a42a9a7ceff557b39d508f131c6db7be5dcd40f4f6f55d73971a13adbf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/iban
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e47bb1de62e329bdca8f91c342ab3b61f7b551d9158b8dc581d665a464b1822e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/bizum/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 12fc154c663bac07ad5ff08fca357a2c386a9a416ab5d540f98a9263fb61885f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/payments/verified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3af3d826fb2deafdf8ee9adc879f69feee74549366320e7c19f41d3751451914
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/payments/verified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/requests-to-pay/incoming
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f70e84f50cc4cd180df1b0a64ddb43c5649a43d275b83a7223ccbb5f3db6526b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/requests-to-pay/incoming
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3679e4fc6202dad790a921b1c625e919242272ce8f73ae050d8c243b3d6949d0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 05951ef72225608efff5af2dfdbbf96c4bed807e802b5a7d9c09ae5180c08adf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming/verified
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9fb33d28319b746cf7b0a801d4b8bc88a061d45ed175d38173b40cf05f946e28
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming/verified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/signup/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 44bc09009d92d5be410f7a70209ebc1aaf2bbd438c9b9b6f76b2189c2fb67c4c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=90,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/signup/portability
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/portability
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2daea95416a0a6ef8b31fe79bf93d4bbb79891b2e6e81222e5b73d7ea732aa4f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/portability
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/signup/portability
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/portability
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8954f46457bf2731db3f558bd5cb455b446783d9455d80d88585fdbfa40bfcb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/portability
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c2d86dd68d6ddb5daa87e63c54e4755362b2e286a922cb0a33af2f1e554072ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=200,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/valid
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/valid
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc2faa17c8916d6940376c0f7e1f9b440872aa72c1445e27f598dfcfdfbddec6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/valid
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/bizum/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3c2d5cee54b839e71c47650739addadea6048e544ab5272ae8dccc2d8dd6707
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/deactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/deactivate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 10871c9c0b451c241e032f8ab92ab02b768ec5154f128c200af764fc9cc9cc09
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/deactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2548f7fc025c1fc3d9a211308d87cdb4002180878ffeda9b7ccc557ae5385a4c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c1b92e14c18b36de9ec411acf7f339d346def55c3aade624cf1a807ba688e43
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 142e7c53e98614fac164b583b49e30037e985494ced271edcc0f90f243fb068e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 51e58b145135be97783d36c41b9916f6fece339298da8a04bce03cc932ef896b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /financial-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 17dd739ff4ae298a720cd353d18d71df49698a7c4f184a610f8a5eaed0b3a1af
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /financial-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b9e0d1535ba9de94e6c293669fde913bdd3803473889ceb3cc05313c4111a6cb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/eligible-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /eligible-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8d5e1294c65fb50e1d62692f205903e8e04e5fb894c84f4975613c20e119018a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/eligible-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/customercare/threshold/check
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /customercare/threshold/check
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e37d3a3b73e2b358c3dabd9c83cfd7187dcd008c625eb81e4224235c01ef16b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customercare/threshold/check
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/donations
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /donations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e5b9893dc54a6798aea0215fca062a2172d7de65553b45ead23248ae926bf67e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/donations
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d0ec50f2f8e609ea5c22700ba5ad18009d06486faf58544885ee11171e87d7aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/direct-debit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c30bc172e79bd2747083d61035798340df0a590af53d0faf932e4f528b442558
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/direct-debit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/standing-order
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8c5dd28c300c76b579e9a5cfb081b661d0e0b3bbdf5fab22eff980a61b93137f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/standing-order
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/automation-hub
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cf215fe5cade55f4a74aab35802b76866d3d57430f7814d45ad0ce78eb55303b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/automation-hub
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/automations/spaces-rules/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ddcb40ca3c932313f6a843f92be58f9c9a508470de177bb39311e715daa421bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/automations/spaces-rules/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/upcoming-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fe36bee8a19004306b3d4dc5e68a43cdb7cff5aa867dc0742d054438851097be
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/upcoming-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/payment-methods
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/payment-methods
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 16ae1b622933959b9936f99bae6fcf5af0757ab0e2353623440325cccc44cacd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/payment-methods
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/directory
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b52163c199ad4ce5e2bc4e2b76de829d142cd698ae71bd27d2fe3f5b79bcd175
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contacts/directory/attributes/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contacts/directory/attributes/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /contacts/directory/attributes/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b324625a10a3b65cb90a5a84cb903a5b3f55c1dde23d14984fc62935bfbb521
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contacts/directory/attributes/{id}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/directory/sync
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory/sync
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c4f2d65d2d1f74f05beeb59bac972cfaa5b16bf8311eda9fd92fb2f503dfe911
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory/sync
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/contacts/directory/partial-sync
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory/partial-sync
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1cae5a848dc8db098bdb7a1cf19237679c8e9ba289098779082ec06872e9aaa5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory/partial-sync
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=99,window=14400,precision=14400,backoff=0"
              - match:
                  prefix: /api/moneybeam
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 036539b44ea41a73d2fd00701dbc536beb105ad5e5a6b8186d7b1afb404f3d11
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/moneybeam
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/([a-zA-Z0-9-_]+)/cancellation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a59d34767d6df31f2b9c719d6a193d4c21de03976e1aeb4399a48c87b888c98a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}/cancellation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/aggregation/moneybeam/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9bc4d3a756bc6b45a7e09cbaa50b5171d7d9906c9ecdce93390562582ec934bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/moneybeam/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/moneybeam/send
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c98c885ae92dbb17812d30c82e05a6ae206a828e6005cc8c386a54d9854b8d0f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/moneybeam/send
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/moneybeam/send/verified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/moneybeam/send
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8dc0497a27503cfc86cf888599b5126cd0786ad52256829d9aa81939d48d67aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/moneybeam/send/verified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/transfer/inner/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfer/internal/config
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cea814fc032f78aa20fecd9f049dba5b056714683aecf0dc21c62bfa3c9293c9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfer/inner/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/transfer/inner/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfer/internal/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c874906cfdee535ee54098429213d56413312125a01762f7e7ad3cbf85cf6442
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfer/inner/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/ideal/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ebb6864de7e66d0809298cc2aae9e522806678111eaf90bccebe8206907db48
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/ideal/payments
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-useraccount-legalentity
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-useraccount-legalentity
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/ideal/payments/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4a2f350002968b09b24eff211b243b11d5fb735a831cf97259d13d004a49575
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/ideal/payments/{paymentId:uuid}/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/ideal/payments/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6913bf8c672ee406416a9fed5ed55b6045813e98041b3f7c9bb74acc6e306dbb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/ideal/payments/{paymentId:uuid}/cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /presentation/flows/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 767ee7ddff290a9aaf80746f36f2f9633786c62dbf1ec8186102dcdbb43bed6b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/contract
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 32920512d2cfe2c833489e157446129643f501988142e93716de3936f7addde9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 135b7508221c6e35ae0943a01669f089b28243f0403c6af2068bf3453e2a4b93
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /contracts/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a8905dd7c4853cb282706774e65121ff9a3d6ee70a23ee7c1f546625db22f47
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/{contractId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/contracts/download
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/contract/download
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2ac5b70d136c1b8fbf8c5f0821d40274439febcb922f35c36ae28b50c17ea550
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/contracts/download
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation/legal-documents
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts/presentation/legal-documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce9c170ea0756ef1b770a84ebac6f6699660c65a19837266c3285fdca486c4bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation/legal-documents
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/legal-documents/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/legal-documents/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /contracts/presentation/legal-documents/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: acc1857acf80c398eb25a38d2531fa1f2ed74af5935ec829c3ca74087c762cdc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/legal-documents/{id:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation/device-not-paired
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/flows/device-not-paired
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d08f45e8c5dc00874fd9ad5cb9e413cbd846af5018eea334c4ea7c495a943dc9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation/device-not-paired
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/reset-pairing-and-kyc
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/flows/reset-pairing-and-kyc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33d7bd0ddd196e7ca3475a9dfaad1f4a9d592307a681952841fc3ed8b0113481
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/reset-pairing-and-kyc
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                      google_re2: {}
                    substitution: /presentation/acceptance/\1/contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b6c45419749057fe8e79cb6e846b7faed03c8cd83937c4553a6567f89d90f058
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/acceptance/{flowType}/contracts"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                      google_re2: {}
                    substitution: /presentation/acceptance/\1/contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a7835b1124b58e80c027bbea356dac359df18ddea5f0939dee8caafb05fffbe7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/acceptance/{flowType}/contracts"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/send-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/send-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/send-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8ae1489ec73efea2e12bdc3cdb5578b2d2c960700e07d0309a332c7aba825b6e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/send-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/confirm-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: df22b1fdbad294a32dec517afc0a86db35e6f609b243c6b032a8ae9fc1fe18c1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/confirm-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/resend-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/resend-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/resend-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 208364d94ef3acf1a3ddb9d3b7eb7242cfde847447ee05a95f67f6a07b57b0b5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/resend-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/contract-flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/full-screen"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/contract-flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/full-screen"
                      google_re2: {}
                    substitution: /presentation/flows/\1/fullscreen
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65ea8b8f8a35ca8027376115b1c0da2ac6f7960800926b28ce2d753fadf2238b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/contract-flows/{flowId:uuid}/full-screen"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/pairing/restart
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 16cfaf4f36eb92ff9bfbf03ea4e3f48d75c0903a163c7231feec30805c4f16df
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/restart
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/email
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/email
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ea5de7fd9b17c6d3adef2e80fc1fc99a17b182518dead2dc1045396358788b6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/email
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/phone
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/phone
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e9ea9a2227e1d8d378bcb95ba0dc225678b6fd86e05ff1d4330297a28898c19e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/phone
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/all
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/all
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 990e0c72bcd898d206a8f97711ca46179a01848ba547f22157a594c0bd102209
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/all
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/v2
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9f697493135cc0d3b1830a8226f1713547324da4599c4184474f0ff25e248210
              - match:
                  path: /api/signups/account-purposes
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/account-purposes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cfad896af2869bab095586d1fe9cfe392e92488d7918a6643d3698a8cbd68a4e
              - match:
                  path: /api/signups/occupations
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/occupations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ed4d196bf3149318c40f8d6e3d122ebd98720d1866253126807015ea9d9dd74a
              - match:
                  path: /api/signups/industries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/industries
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: efe4de8e955657257dc1b635c4a15bec4f85c228408ad12d7273217a965f9d1e
              - match:
                  path: /api/signups/regions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/regions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3bdfa10de96121d4b7bbaf15f35e1d88ec0bd60f1a9f5098bb262b7e9664f0c0
              - match:
                  path: /api/signups/employment-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/employment-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 55085fbbd78a7098e066f9ac9a4b1bf7e3312da319f00c1ff0472ce2b9dcb8e3
              - match:
                  path: /api/signups/income-sources
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/income-sources
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 972488f122f4ac5a0329f8f672cf5dad11b166d1d7185d44aa6053c225b20312
              - match:
                  path: /api/signups/income-ranges
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/income-ranges
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1772eee6408a6a6bd77bc5398a27de81ef12356ba8f2ad2cad98373cd6baa0eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/income-ranges
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/funds-origins
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/funds-origins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ac9599fa91524d39efb4fad5c3d409b1204cab03e4f4ddfb03db10f4f5c1a61
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/funds-origins
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/total-wealth
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/total-wealth
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5fc80990745e17d1a2c86a1cc48372e74888f706ffc28978ea3fda2e697541d4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/total-wealth
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/determine-legal-entity
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 664b445187c0d3075af9329802961d4b6f987f1bf322a8a3392e3760e2c5e0e1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/determine-legal-entity
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/resend-user-confirmation-email
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e50c6e75fea5137a41410898b6d1d6cd2542fefa30abfad845699bd4982e6da
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/resend-user-confirmation-email
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/shadow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b87db8420e526e8a5d1e3915a603823c188a23261da2dd04352a17e54a789439
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/shadow
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/shadow
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 90d237253da1f31ed6b54e2ab8068dfcf56a23760e94208242202c45ebba7d18
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/shadow
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7b9009646c6b153483671b932688ed77097d8f6960dea39e2775697fdb95013e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 707463ba54a7d94dc4f7f07484cf082c715d34a9d007c0cec0c623ee03bcca87
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/aggregated
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8fee72f568af3c8c655240b9e3a1772fa6213f1c6dcdc8f8936678a13e666393
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/aggregated
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/phone-pairing/details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b83dbe894a4457e28a40f5d6f1386dc5d4b55688c6f0405211b6bb0dd3ffe14e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/phone-pairing/details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/phone-number
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 16a291d44d79a404a850a1026405c42267419ff848a1a3d7f4dd62b3a92fd9b1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/phone-number
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1904b8813b7b8b9b52090f9a87cb6df8ba5b77d0002493e0f4248d943f62f402
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/signup
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/addresses
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /addresses/paged
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: be1f1a3b86bfbcfae016792595d8871a7fb412242efd9dba9e4bf4daeb5307fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/addresses
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/addresses
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /addresses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0eb469ab00881456c37523a5379e69aad1c85c8739e33dda4616ebb7b255edac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/addresses
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/addresses/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/v2/addresses/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /addresses/\1
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e45441be7618c263d1ee3ee1288b095037f2aef85c77e3c0f40df8c8839a661
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/addresses/{addressId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/forgot
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/forgot
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e469df570f1c26df2090aea0c616ffff80ccc2e55aedb8349409b5d8b7a8629
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/me/password/forgot
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/:validate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/validate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bc6b5eb04863b38b813b61ff8e5e0c61fb42cc1517d398e746b260755ebe8cea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/me/password/:validate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/change
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/update
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9a8eb0fe3f4ef5dc1b4999a677f96a1946fdc52aa4b3ddb0980910c28a4c54dd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/me/password/change
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/password/reset
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/reset
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 490a76f296d1617f373efc611c8f61204077aa5fb901bc2850250caa6dbf91eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/actions/password/reset
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=20,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/actions/downloadAppMessage/send
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d8b16fbe7c0ac3f928c9ad7d0ade3c21ca40e60cd780bdd49cebb520d162bd9e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/actions/downloadAppMessage/send
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/users/\1/emails/codes/\2/:verify
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 54690d415ba905773712245f2708fca3bceb6e26cf97332e0880b48f7633f8b3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/email/validate/{userId}/{code}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/users/\1/emails/codes/\2/:verify
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6b40c07c9811b87469800bbd3a987e143e5db027dec01201a982dc10f92e4432
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/email/validate/{userId}/{code}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ps/email/resendvalidation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/resend-confirmation-email
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a4bb3da8c803294b7a4e63beb82d2f930120dbf63428beb82df069b2e999c284
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/email/resendvalidation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ref
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/waitinglists
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 30757d3f03cb0ef082f9dad7c37d99c82e0294d71cca1be213981ada5e1e4a4e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/ref
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/waitinglist/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/waitinglist/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e19ea8dcbbc2ffee55f5edb617eb8a78f773dff89ee5e708aa0bdee2a4b2d570
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/waitinglist/confirm/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/waitinglist/unsubscribe/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/waitinglist/unsubscribe/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/unsubscribe/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d0bcfa57c74fc43b8c15202cac3bff84daa68ef8e86a782d653b3c1e7d181867
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/waitinglist/unsubscribe/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 184d8f1399a387372441f33462c1c3f4d4fd2896c1a4f1c2103144f9f8b80e02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce261bd1d17292be529e195fb3fadf4c9dc047881980e771f48a8294d3527f6e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/custom
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f3d773da2e96507e64cbd0142ccc5d232eaf5376db904604df44ef6b5fdf4a78
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/custom
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ea7652ee5b718e8776f048fddf7ac40f5082b91220e34a8df9fdf7004b0e9307
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c77a3a50aa8fb3deebae5ed997d26526b09499de751b4dd8d14b5f1a8837052b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ce8212e52540b5af5bcd62a3b744b54a1a59e3bb6291103c6f58980278f8a15
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/countries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/countries
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b4ed15904d9cef99c129eec6b76835c6343697d6a0a6a58c6fb24c6b4d84bc4
              - match:
                  path: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6e634ef54c688344d65f59805ee4b1b7b5baa731938b21533d298562ba2989d5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a12b963c70582fd8f72c9eb7d004f3eb4e47ac2b6958f7d966537c7f7adce5e6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4ce089e2b62363a773b89acc731a7eeb33db827dd6b4e7c9d0406088418e954e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9f54cacbff14165476593009d43f6322adc73e7c7918809b4553523b4f0b3ffc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f30fa7d18043a3d850f3249f102c6e3b9aabe860228f094ab1e5b69a4a178c25
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/prospects/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 033070d8644cdf0f008d8822b83898c125a5739ead87e45f8020bc17dc8a9191
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/prospects/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b1ad53c44e14f042f1b30888e4c43fbb2bea34df304b391eca907f253ec5cfe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/prospects/vatnumbers
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/vatnumbers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dbcd0de8508df512982337a74cc2fe966deb0ae484a0c7f5d910ed97adfd40bb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/vatnumbers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/prospects/vatnumbers/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/prospects/vatnumbers/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /prospects/vatnumbers/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e027400875c580c874c06622e7b9978021804fd9a484c8cd29dd4053a3766213
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/prospects/vatnumbers/{country}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/qr-code
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cobalt
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 93a43f64aada1c9cd09bc9d5eaa344f7f36d95e64c328ddfb98faf6e079ef019
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/qr-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/credit/v1/
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f29e5a382568c201d915c6a64e6b740bf533f2483bba92bf7d6115254bb8f8a0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/credit/v1/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /consumercredit/test-resources/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  prefix_rewrite: /test-resources/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f70aaf7ffeb6c54a127e21d1b9ea5baf85e8bc00f07144456b7582e74b30ef54
              - match:
                  path: /consumercredit/flow/questionnaire/payload
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit/flow/questionnaire/payload
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aac8c4c5c40c8241a00cfc2e276fb9bb7a3c86c29ded55908dc8b2feb3562096
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /consumercredit/flow/questionnaire/payload
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/hub/credit/auxmoney/webhook
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  prefix_rewrite: /hub/credit/auxmoney/webhook
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d4e335b7cc0c709371da33507d9d9fec172527b31d8f038f78d0a52bfe5c6779
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 839e5af8983601eea8e5767c4087c0c3d124980e25e05d40a614ce455c956554
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 078342720d516c34d3a1d18ad7aeb62f8ff09482c5be703341256fcf705d5fdd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 531e759aa29bbfbd1900010bbdb0f0f92ec776d21bdff70ade93eb5914faeed9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 65dbbfacda76b1604a6ac1058341a2002e9421e9bc4ac888c028056050841487
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/expiring-card/([a-zA-Z0-9-_]+)/reorder"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: curium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d3db72cb74f92dc7d964a7fc92d12b0f8d46d6696737dad38c0ae21e9de26091
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/expiring-card/{cardId}/reorder"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/savings/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/signup
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: df3f3e6dfb671b36c7030f9c22a45199105e917691e9aeca734653bb36ad12f9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/signup
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/savings/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/signup
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 670021817d60b8fc8dbf375c62876b9c978b4b67a9f53029585de2da78b4233b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/signup
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/savings/contract
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/contract
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: efc704d68c2776705a1fe9744305b602b7b7478321dfa2e2627fc7b3cbe037a3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/contract
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0397e89bcef06b0591bcbec524243b7dc2b312543756d53712eb4d82a2e43ca4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8da80836acfefc990c4d998cdae64d1a55e48684fd33b5ffa55eb1b7a4db23b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1f1692fbac67b8377e1bd7926c3f1ec707cece4c34e430af9139801f8a30e6aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/settings"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/settings"
                      google_re2: {}
                    substitution: /api/cards/\1/settings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9cbb8040f0100e21af3e951eafe16206304fbe907edb629dceafc6cd80584fa9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/settings"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/card_settings/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/card_settings/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/cards/\1/settings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3c136506c5c04d3264ed2cf4decf60e52f70669a7e795b15fa9525bb068ef13a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/card_settings/{cardId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/confirm-address
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08066c5c15cd8de58d3e6ea0a5f94ba2a6d48b7c2e66d1eb38bf5d36d8ed00ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/confirm-address
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cash26/stores/within_bounds
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4c6f29020ad5b3fe1f72b356835ce4c95d64fedb345e8cc97dda702cf79f038e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/stores/within_bounds
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cash26/balance
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f466ec3f0cea7037d9809c4b2e03835baef45eea77a9ceaf2757a8e752834cd2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/balance
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards4spaces/([a-zA-Z0-9-_]+)/space-selection"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 49b353461ab6f323f208c86078220a87f070ae987cdf3baa2921555c2562ca04
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards4spaces/{cardId}/space-selection"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards4spaces/([a-zA-Z0-9-_]+)/card-selection"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 589ce631b23d52fafec16f6b4d27d64024b028ecb2fe2131c41c5d8c74db5e87
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards4spaces/{accountId}/card-selection"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/cards/([a-zA-Z0-9-_]+)/flags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8cbbc0cf20ef289ae813de86d7884b378eb786dfcda419ac01121539cbfc4838
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/cards/{cardId}/flags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cards4spaces/tncs
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c7fd42f47549288ee91b91a2a1a574deb4be4cec775129409a60b5afc3bf914
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards4spaces/tncs
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 07b497a4efba0ef790d9267d4925544ec8a01375753ca51a28e46f51b95bf475
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/set"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66de1ee1172390fb9ff805469008a5731da014f341923e20b12e145c63396afa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/set"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/set/secured"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/set/secured"
                      google_re2: {}
                    substitution: /api/cards/\1/limits/monthly-limit/set
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eba7db757cf861619b269c476245e885760d1093ecc960e13960dfe705c4de3c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/set/secured"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/disable"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 063d62be4d8ca141b5f8ef73de079e3c5a7afb2d78e78eb759a2bc1997e1aaf8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/disable"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/disable/secured"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/disable/secured"
                      google_re2: {}
                    substitution: /api/cards/\1/limits/monthly-limit/disable
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0da5f8a17f47508051d92c9c2e7b6c192025f2d3d55622ff8a9b6cc4f2816ab4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/disable/secured"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/myaccount/home/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/myaccount/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 42f73eda4d2c0aa57fd80e79fd9b198e3113148777dee810561116eb0d3e8121
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/myaccount/home/mobile
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/myaccount/home/web
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/myaccount/web
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c8f1b481d4dee46aaa5688fb62f7e0cee8b15001bfc11e696d204f49be82e5b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/myaccount/home/web
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/statements-presentation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/balance-statements
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ee5b0280b50d3c0f2ffb78f025a718cf668c4ac721b1fdcbf14534a19b7dce67
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements-presentation
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/statements-presentation/web
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/balance-statements/web
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ab919950d13d6f08821cb4f935c0d3463bc7dcfbce340d48721b2ae32a68cf64
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements-presentation/web
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/statements-presentation/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/statements-presentation/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/balance-statements/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d063cca41402669bdc9bbb535b776a0338702ad08cb139212aa228c72e2e011f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/statements-presentation/{accountId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/myaccount/account-details/([a-zA-Z0-9-_]+)/mobile"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/myaccount/account-details/([a-zA-Z0-9-_]+)/mobile"
                      google_re2: {}
                    substitution: /api/presentation/myaccount/account-details/\1/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a5e144b84061bb5eee6f35a4ef34442a84c6e09e59f4f7267d4d83ed350dda3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/myaccount/account-details/{accountId}/mobile"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/v2/myaccount/home/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/presentation/myaccount/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 34493c2a83a50c0e83a8cb639ce88940ca6a0a07a5d774f8b2d190f750c79bc3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/myaccount/home/mobile
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/checkrisk
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.8[0-7]|5\\.149\\.1\\.8[0-7]|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/checkrisk
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc8f33623d6ea1edb02cdba61ea499b818317782301da380ad72939513680cf4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/checkrisk
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/checkrisk
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cc8f33623d6ea1edb02cdba61ea499b818317782301da380ad72939513680cf4
              - match:
                  prefix: /api/v2/securetransactions/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.8[0-7]|5\\.149\\.1\\.8[0-7]|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/challenge
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8c937f5852fc64ac599eeeff8b5a6afc85ca7d1c8328c91bec89b7c259ccf325
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/challenge
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8c937f5852fc64ac599eeeff8b5a6afc85ca7d1c8328c91bec89b7c259ccf325
              - match:
                  prefix: /api/v2/securetransactions/cancel
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.8[0-7]|5\\.149\\.1\\.8[0-7]|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bdee6460d83000b089d9613bbd9f46863cd4afad752154a44275c15fff0ab755
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/cancel
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/cancel
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bdee6460d83000b089d9613bbd9f46863cd4afad752154a44275c15fff0ab755
              - match:
                  prefix: /api/v2/securetransactions/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.8[0-7]|5\\.149\\.1\\.8[0-7]|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/ping
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ffe667f737bc5d910bed5f5fec75894336d777b723408bf8646f0ed3f5b43b94
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/ping
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ffe667f737bc5d910bed5f5fec75894336d777b723408bf8646f0ed3f5b43b94
              - match:
                  path: /api/v2/securetransactions/transaction-notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(194\\.126\\.144\\.8[0-7]|5\\.149\\.1\\.8[0-7]|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/notification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33ff209529875bec3300b8cfea2a321e511f180172d0a1c78068bfde8ae9f8fc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/transaction-notification
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/securetransactions/transaction-notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33ff209529875bec3300b8cfea2a321e511f180172d0a1c78068bfde8ae9f8fc
              - match:
                  path: /api/v4/credit-score/provider/tnc
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/tnc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: de3df2b18cb0be7aa2476605680f973533f947bf9128e34ef24f5611607b1d97
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/credit-score/provider/tnc
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/overdraft/terms
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/tnc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3f987751680acfcd391bf545f098ee4d5d49284aca3b9a999861ec21cad186e0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/overdraft/terms
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v4/credit-score/provider/consent
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/consent
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8a97307281aca6b650d5bd9336a6f0ba36907eb5a4383cfa6febb16d70647850
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/credit-score/provider/consent
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/accounts
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0e65ac2c10f66f82e5e07c93caa755aa3342f4682bfcaf9bef8caabefb5ff76e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_AISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/consents/confirmation-of-funds
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/consents/confirmation-of-funds
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c84759ad9f23be2ba94c91ae3dc135f1f74e4b77185bb4a3ffd0108179ae413f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b5cd985788343ca358d739bde5f8625f65267fea8b1c286608f58d425b08ae5f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_AISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ae355026efe963ae330a948774b0cc9ad428d32cbde664b98d77fa37b201b42
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/periodic-payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/periodic-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b94a73bc8861cb18c2baccf8822807f13aab67c7a942d6aa54b43befc15126c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/funds-confirmations
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/funds-confirmations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ead9d566732793c6f4a902819ff88385c98c5bf8c230216dc04be258be0260e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/sandbox/alive
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/alive
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 156e79f8f5e464127442c83b883dfe4aacef1c43f3051b9f4b7d9feace20b71b
              - match:
                  prefix: /xs2a/api/sandbox/oauth2
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/oauth2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 73c6a0e6cd57d1505e8754b2895163a6df14fc3268f8be5c1d7297017e87a748
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/accounts
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7beebadf749c5576e1970b46085924891c5196d435f09a52da72f7b1d96573de
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/consents/confirmation-of-funds
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/consents/confirmation-of-funds
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 06d8b5015190910b232bc170d47714927f74ac23672666ac768a3834fdc52091
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2832a0ce72ce8728892a68f681d77b8714e294afdea8460332c5c46a0ed6790
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dd15d70369a1dae9df8428430a351a9da753c147f352b125c603eccf3760c78a
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/periodic-payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/periodic-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b68cd960691773ab70a1bb4e9e56f44be20dca135d2a6fa5088a15ff8304fbd4
              - match:
                  prefix: /xs2a/api/sandbox/psu-interaction/confirmation-of-funds-consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/psu-interaction/confirmation-of-funds-consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 99848e0151f9aab0b0e844cafc0817f16a14150a38e3ea0ee8db7d9777608809
              - match:
                  prefix: /xs2a/api/sandbox/psu-interaction
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/psu-interaction
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4cdb54cf13e947706cf9b83571aec1da96693951ced6f25b91dbd1ad112cdc81
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/funds-confirmations
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/funds-confirmations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a1a792f2c23a83051cb0df0adbb55a3aa513e04fe46b2ed2e6839b5d1266abff
              - match:
                  path: /api/personal-data/user/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/user/eligibility
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 527450b56488f657436d019b2e928fa665c6c211f92a446335501f2c99340706
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/user/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/phonenumber
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2f2a4b6e5c91f6b12cb5ed73d0a2ef8b5f7cdb9e02f90c6ed09251f1add51b8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/phonenumber/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber/eligibility
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8708aceb2c3b1c13439983fd1a75327cea2f6dcc76244f836ba2d6f569d83c6d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/personal-data/phonenumber/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e23f37cc122e2af99e5ba627308520734506c2945278f5850fe520a92f2b812
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/notification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 21263ba5c45683d791c4f9ce07a04f9c46e89d3bc24b6610db5feb0536dc4fd2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/notification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/email-address/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/email-address/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb4f179a734f7288bb32cd0a45b4ec5b193cfe3f028428ae4fcf1d475a742b2d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/email-address/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/email-address/verification/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bf1fbf10fc9af9c65a97b1e13c07b552757b2fc1b723e8bb5292ee6398d3908
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/personal-data/email-address/verification/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)/cancel"
                      google_re2: {}
                    substitution: /api/email-address/verification/\1/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b7fd218b27ff2816bcf5029b01ea70d6ad8292a141d7d774ace5d823a2f74bb0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/personal-data/email-address/verification/{verificationId}/cancel"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 82b6ed34e17b4acd31f815cb427daea382f01e17e65896cf5dbbb519e806d4aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23aff9e56d5130a5bde520a680198a296410bc490e3626fd786454976f8f93ab
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c167c77b81c8960a647c767490731901522abc107bb401edd1220b07ec52c04a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/file-upload
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 342003cf5a0c31c13ecba0eb11abd65461214d17050e4de463bc51aaff6d1267
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/file-upload
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/public/api/v1/file-upload/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 921f7eae65165261bb31aec4304f0fcd40b3fb97c4d9e8dcfb06c013b8a44d08
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/public/api/v1/file-upload/{id}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/public/api/v1/file-upload/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 88e6eb6b01c04c3f75f007a3b2a73626cf24583403aeb444daaa2e2010975f2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/public/api/v1/file-upload/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/transactions/disputable
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 919fbbbb5f603e6a852812e4f30b01f9097e620552975831ba8d5b9639fba50f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/transactions/disputable
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6348bfb8078e106d2557ffd2d7c2f99c6e7e2ae66c4b69bbf7355d0581bd796a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d0d9eb2bfbc7724b12d4ffe40af94424c2be8775f1b813df00f1d341975dadea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 605c5f4f569fed89fd09d2834c552823f5034d08f9dc5aa52df29b1215c32a21
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/feed/widget
                route:
                  cluster: holmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0af0aeb5c11a649c89b740a7f776b5242245d89f47ed9438caab79ae69811491
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/feed/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/feed/
                route:
                  cluster: holmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ff316b3450bffd8e5155471b84265c9c5bad94d6df1033b12aa9aa10505c7c32
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/feed/
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=200,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/token/validate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bc42226aee6cef84d59d24e1ba33d66c2208cf8289320ccbda8fb987a60a1cda
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/token/validate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/pin"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9c4800d9718f1d3f01ba35b9a1bd828bea258c450cbe58ecd312a3fae4e8d543
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/pin"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d470f526f66fed46d64ac40b30367bc282073fecea256ccd1ceb30ef1ff6764
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/flags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 50ed61dfa88ddc0ae263a662dcd9bc8071f8059519aa9594385df5c8e71d44a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/flags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/flags/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9a92e46ae25986c6e4125df013df17b23894f0c329655ae2a8336e72d254786d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/flags/{key}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a7233eb9f1b1be5f32d06fad9146363f7e85b8d79518b3332111291305728b1d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/limits"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f268897fdfe2becd37990c05c318b7e60c872fa4a219db25c3fbf5ab9f6d7788
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/limits/{key}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 51eeab674ad0b50363a46cb863051f566c983dfe2eb07e2de853fad5f7a3f408
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/cards/name/generate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  prefix_rewrite: /api/cards/preference/embossed-name/generate
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 63fd1ca167ed79e2a8c7feafbae1873e00b4eba540d769452ddbf7088caa5e08
              - match:
                  path: /api/presentation/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a067118f9b726485dc6df27dab445f8e2f73762521caa367671a2d16774c6f2b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/presentation/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/presentation/cards/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce63db69cfcb0637f84e4427a3d34fe207de9537d3f3957c8920731bb859cfed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/presentation/cards/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b3313ff0180d576fc085e3999b82f30009b51e6fb34b1da27d1ec48650c03375
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 27f47325c3366333b8d77f6886ebaf89963e69cdf6780430d4712c54c59cc5b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/pin-secure"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ad7759fbb693f63b9fa85bdd48af56617eaf811260d6f46d089b3bfeb13a2871
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/pin-secure"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/security/cards/([a-zA-Z0-9-_]+)/key-pair"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a739ac57ee3d830d57b0f6cf00c90cbf758bec503363e4bcb5441a25fc511f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/security/cards/{cardId}/key-pair"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/apple/provisioning
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f109d5d4fd10d51ca4080b7aaeee54578aa757e9a4d2eabbb709cbe693e9c835
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/apple/provisioning
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/apple/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a4924d5cf99ad0947251ff63e48a74a7ce427221e281faabb572bcf371e79579
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/apple/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/google/provisioning
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 53b9143b2c0757a6385cdd9274d812e98d0c6b23df796ddf5be3fef1c3d563b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/google/provisioning
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/google/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9019e191325f8a262a49941518e68f82671432f1059b39eb92dd65a77207a8c3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/google/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/tokens/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 443487c7bf7b86448f600cfafa951bffea0a63a59156a79252ba69326d34b83b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/tokens/{tokenId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/tokens/([a-zA-Z0-9-_]+)/terminate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce29e126c6d090d54d8d69f1fa8f9cd551e56a67d7f35790989fdf83b004ff3f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/tokens/{tokenId}/terminate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/tokens/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1fe5ea031ac092946799b9943063265969bbc99221e7c5cdf47d316b3d446085
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/tokens/{tokenId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/tokens
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 63ae894e9a20998a28d9726881378300bd6358525b07effd1bd287d61c273493
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/terminate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9579f537b1e590f09efb54a70e96ea3eda069f2879cc1778d6aa9f7976ea55a1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/terminate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/notifications/retention
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0797112821e5742c377ea65a8cbcfb2b2f7d64eb1cbea8f1332abe33803e94b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notifications/retention
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/notifications/retention
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bc0289187362d6d68981653642f132f0b52c838a32bc4fdc76717db13b17e6db
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notifications/retention
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/link-to-space"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8309a990e3a5650c6de7d6910f61538cf499b39a9d1d87853ea40ff6c33e7f8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/link-to-space"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/link-to-space
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 657dcbd07ad3dfd00ab6b7f20f77e60819a295c68c9c433da7d4df0052301c98
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/link-to-space
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/spotlight
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/insurance/spotlight
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 866b1a43329a23739b899971842bab3f8fc3aab47a20549b980fca75143ccf0d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/spotlight
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/product/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/product/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/product/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 22ac6b8ad1fe1fa9a9a0c6b0038f0bb7e56eb01267e61baeb2486afb5c4f0694
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/product/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/order/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/order/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/order/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1cde020859e289e316c98279f27245efa63ed48a7989b65770941484d97ecccf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/order/confirm/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/purchase/order/confirm
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/insurance/purchase/order/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 800795004bcb0821da6ddf1309d458897a734c9181769d3babadd3414a4b5d79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/purchase/order/confirm
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/order/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/order/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/order/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5edfbca27d634d00a17af72c7c10d3ba7c1e52cc790fa105f948514a8575268c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/order/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/order/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/order/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/order/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d0c02313fb207eb8d9986ab8768dcb8b46e3319a26c533d90535502e27e7bb5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/order/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e827a5362ae9be39eb2c7c5780824857995eb7ca2bcf62dfbc8892ae1422050b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b6a1ad9bce1d4725796e508bcbf58cea69777e71affe5551305c716af8f442d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2cc0b6519425149a8298d87d75af6f470eb8a8160db7a29cd98945fabfa2cfdc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: daf789d5875dceaa0f8af7ee24427a5268d40822f25d2b5081d771a8a69ab495
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/policy/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a888683ca347ea59529c68b573e61c80adcf1d61c422fb3a7b232cab1ac9759f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)/cancel"
                      google_re2: {}
                    substitution: /api/presentation/insurance/policy/\1/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c834ea8aa5ce706e35242f0575db16b682d397832edc22fb397ed4b177b46c13
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId}/cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/download"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/download"
                      google_re2: {}
                    substitution: /api/presentation/policy/\1/download
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 95508ecbdefc98ca78e27a52b90bd084ee75dd1410bd00e821628c3b596b60fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId:uuid}/download"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/user/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/v1/insurance/user/products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94e0a7b48419ef12e441cd844ed7daf6922cfce330cfe5aa07050d68d4b34d15
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/user/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/repayment-plan
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: ibuprofen
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 614a61994c3802a7015c81b6fe2f205b60ca4e6caa81bd2934bd41ad23788a23
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repayment-plan
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/ps/kyc/idnow/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/video/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 18e0b0da3e87d98673a33cb53cca58bb90b288fa4d9afd6b8be564a1d4c31d21
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/idnow/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ps/kyc/idnow/submit
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/video/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a21d42c8e8197584468c15cc33d5222fd78b674e2b52f4f22df50b8b2be53dc4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/idnow/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=60,precision=60,backoff=0"
              - match:
                  path: /api/hub/idnow/queue
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/queue
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d627de9a37ccdf7c0fe0de4eb65a50831edbfd6977850314f847e8eb5693f16c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/idnow/queue
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/hub/idnow/queue/users
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/queue/users
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13c939e3f2349efd747cdaf3bfa2d565ea33138d068cc0021fac0ae11cc886da
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/idnow/queue/users
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(52\\.30\\.27\\.5|52\\.48\\.216\\.0|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /hub/idnow/identifications/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 54c02247ad28a9f59c3caec3b7b0a6a1d14732d056573de4f4ad9ede630d4466
              - match:
                  safe_regex:
                    regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 54c02247ad28a9f59c3caec3b7b0a6a1d14732d056573de4f4ad9ede630d4466
              - match:
                  path: /api/idnow/identification/esign
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(52\\.30\\.27\\.5|52\\.48\\.216\\.0|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  prefix_rewrite: /hub/idnow/identification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ddea18cccb4bd6ab7be57200c5b7b33252f775f78dbc59542100bb0824e22a8
              - match:
                  path: /api/idnow/identification/esign
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ddea18cccb4bd6ab7be57200c5b7b33252f775f78dbc59542100bb0824e22a8
              - match:
                  prefix: /api/kycmaster/processes/initiate
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 283f05d3bcce0d65fbedbd35ecbe75011a4dea619d41745a1c8ba7dd9be79964
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/submit
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 46606897fcfb977a21424d58a891058e4c41d88fcf1f9dff870248fa919ca0fa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/v2/initiate
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/v2/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0f14e1c27c58ddd37151eb7bd4ed7db14ead0854e99a125856a52376b7d4170c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/v2/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/v2/submit
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/v2/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: efdf3efdec6b5c9fb1ec6d476cef5f2f0d2fffa869596dffb5e26dffbfd19a0e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/v2/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/status
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6b8fd6128042c5461a79a897d4b96452827a52520fe08e2cab81ff6563db867a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/routings
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/routings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7348207d4f913755b751eb67ad75e52bd7b7fabf0281c19f803690b937911a2b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/routings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/v2/routings
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/v2/routings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c7eae2a68cd098417b7f977c875abbe1964fe28382d58dec532991bf0f888718
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/v2/routings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/documents/store
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/documents/store
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01bff01f9efdeee08ab066074be23e0f29d764e3aeb45cbe64a11d4a959209ca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/documents/store
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=30,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b051824d6d07d3d742d4913e13829da911309edf9943b463266f4c48fba6655f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/signup-limit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/signup-limit
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: db19bbe11cc53bd96c3f17d9ab930aadd2633bbbea098517a8febe1c18407b34
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/signup-limit
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/initialize"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/initialize"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/initialize
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8caff3fade29703c1c9e3f917a94c884865896964af88d9ef7f277ccd91caf8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/initialize"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/documents/store"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/documents/store"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/documents/store
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c484fce6ebdd2c434a75a926b106b319a9666869b5000544a801507dbd241d2d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/documents/store"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/submit"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/submit"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ed5c95cfd9a1bb8d250b0cc01b5b8ea50b1b8c6120cb71c27473e1d2f338569
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/submit"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/user/biometric-consent"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/user/biometric-consent"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/user/biometric-consent
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c317de2f5a81c4760d14dc2c0fabe193d60b9c6caedc8f5a4d4e240dae8c6d6d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/user/biometric-consent"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/selfie-verification/
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/selfie-verification/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 31a3cb30c0471f67e51430dd9374231a26753fee547a7bb8c15a068a31b4f62e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/selfie-verification/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: unauthenticated
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: Tck4QTHY9vJsugP2rfXd1
                - header:
                    key: x-n26-envoy-route-id
                    value: d0b8ed91b3ad7f61bf22f166d8ddfbb5f37616ce77eea029a1af3fcf7244d3d5
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: shadow_user_id
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: PmdLTDD45EYSyMqeLqrLB
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b49c896602b19b510e6a38b7f1d5d04f10860a1744da5484e280e30d08ab218
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: user_id
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: 9aXaNyYeMLspt4QBE7jxd
                - header:
                    key: x-n26-envoy-route-id
                    value: bf164c0196db233d29156af5a11f2d260d12cb27046fdaab4d368ad658736854
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  path: /v1/crypto/signup-flow/tax-id
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5f6be0a3463885a53b0b6e005617abb7cb9373b3b3d71de67ab3631d66ae4f94
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/signup-flow/tax-id
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /v2/crypto/signup-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 28b269269ed16f01b7d07d34efb56f773f2e9f9470cc7dc080392b37a139980e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/signup-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  path: /v1/crypto/portfolio/info
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d2d57e05945dda84513e0837390fa1ff52f5f0c92c47807dc8643049bd4476a6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/portfolio/info
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/portfolio/info
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4b915121934b5da5e2943e22b363a414cba0654a929e2ebe0c08284b00994446
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/portfolio/info
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/spotlight
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 079171b0bc9c096bdce93994b46537e9bbbd3d42905254e93681f332eaea40b5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/spotlight
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4607eeed32dde7835718e90e64cc12621456f65ac14b122cafe4f5c9c18817b9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c90f17360fcbe47cd4bd2861f20278caf5d2f6bffbf0ad9410da0fc9f016fbad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/signup-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 86f69511f6797496878e28f33e6c093bc118341d6f2cf8353ab260e405f96ba1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/signup-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /v1/crypto/users/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dfc095f1277a6f362131fdb806110edba722fdf10c7649f47d690117889e373b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/users/assets
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/users/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b09da56c27b85bc55a398f7faab6d7b14c7d625d89a8e0ab7175745d00d3a826
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/users/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/assets/topMovers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f7fbc59c6bf2ef108d95fec37f70e515936d10edde2623e38e0be0267fe4fdbd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/assets/topMovers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bb6eed5bc18ec0df3073efef018e37adb0ea17ce18eedc0d88ebd17b090db7d9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v2/crypto/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 95b3ba2279a68514e644f7ba69cf728315ea302190217a82e0f181d04fe84c20
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/assets
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a8f9d47b19bf0c3f7f4c2ef35554494d954a94f017a9e3d42193587d81c98068
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/assets
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/offers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 56b60e9bda8fe911a97d8f6bcdf4492ae7c97b189b1e25cd96ef56fbb7ae9823
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/offers
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/offers
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 638cc44e98b128377e4a2b5ffe96d6507776ebac399f274b0fed87a892095755
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/offers
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b653966012ac84fd19ef41fdc58f3f345e5ec05ee0920b0b5323e82e4d8dc87
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6639b049a3355eac856042cc8dc20e7d9e83948307a6fbfb568c9da5e433f115
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v1/crypto/cdr-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/crypto/cdr-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 12a6f8dc657d617ecd9b6b7d0b1d6237fdf1c921160c118215b4908489607932
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/crypto/cdr-status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v1/crypto/portfolio/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/crypto/portfolio/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: df1ddc97311891f8b32c6f24e0ede92597f9e1a1d60b7df7fbd8c4376b3e05a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/v1/crypto/portfolio/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v3/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v3/crypto/portfolio
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5a3023ecea9fe74ce26096ab0479b2dadf91fd9e74b205b86182863165a66164
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f16ad5551858598fb05e5db34cd623f489bf67226a82bc262a4a842de5734ff1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/claim-steps"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/claim-steps"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1/claim-steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 616e2098bd40e6484a5a36bf55d58523c42626c203a6c2a94c1bd42afc74d2cf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}/claim-steps"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/documents"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/documents"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1/documents
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 50a28b324b3704f1f9d29c93819ca5469c71b1a0546d5beec77c4cf68bb5c614
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}/documents"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/iban-migration/steps
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: miglitol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6f37f7fda5c1d5284e14e86d6ce8d3c8be6e4e15120121d1c37c006c69dd674b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/iban-migration/steps
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/iban-migration/confirmation
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: miglitol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/confirmation/steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e6cc689a6ac73d11fc46c61f462a4c57742eacd0aac6fa14b660d47ea5359649
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/iban-migration/confirmation
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/iban-migration/address-review
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: miglitol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/address-review
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 304a29b37819c98fbef5ce8b776facb99bbbda15a91fc7648f481138009465f6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/iban-migration/address-review
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transactions/request/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/legacy/moneybeam/confirm/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 29a9e19a6c78a2c9c02455adce431366d99ba2ad307451858f515c1536d45b1b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transactions/request/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/([a-zA-Z0-9-_]+)/confirmation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 00b7a63e256bffef3148eb7667e6127540952093aa3e24fff3eff5364093651d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}/confirmation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b00655e8ab1e8f20e34df6b003fd5f25f30b3f9b8cd864cfaa281db4e21cbdd4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/moneybeam/limits/currencies/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/limits/currencies/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c6da3f75fe5be39239c7bfce9146274a911c18b17b0d07eb4a0502c04ef6448e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/moneybeam/limits/currencies/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/salesforce/user/contact-key
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 672820d2e28ddcc1034e3def0c4331d4b128678440ca88ba8bdd19553d67a4aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/salesforce/user/contact-key
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/infocards/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fda058d1fc4f57596b5049904d1a7dca78f378d1d92fe7e47af9144b9ee557b9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/infocards/{infoCardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/infocard/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 85614cbee0c5e107d1808455f88dd137954288685cc90081b7948a1d8e7bdac2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/v2/infocard/{infocardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  path: /api/infocards
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a5b52e7065c548b9630420f1549547591be914149e430ecd3bfcf90454ae650c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/infocards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/closure-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: natrium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec637e3d2ecbd5d605dc2c5028465d24502794df64b936fe7f724c2c322b9586
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/closure-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: neodymium
                  auto_host_rewrite: true
                  timeout: 300s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f45d73dad8ee30561c3a00682743e14433a430938537f2c05e05285ffc48918a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/garnishments/attachments
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f45d73dad8ee30561c3a00682743e14433a430938537f2c05e05285ffc48918a
              - match:
                  prefix: /api/abbyy/v1/garnishments/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: neodymium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4d9d5260bbc3eef478b54b33cd96d1726e58d7b371a5988a31cd481bd6497e36
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/garnishments/documents
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4d9d5260bbc3eef478b54b33cd96d1726e58d7b371a5988a31cd481bd6497e36
              - match:
                  prefix: /api/transactions/directdebit/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: neptunium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /refund-collection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: feb520d6372253db0c80073b3fbab901bd526dccb0496ed4bccbe8919b9e2432
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transactions/directdebit/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 09a019c6f3b6e1337dcf9faeb600441cbba0b996e3dd21cfe9c42e4b6f446221
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4dcf8bf576a9c8d461e74f4635d66f5e5846ddb4ca0a6e2b23a5677b35708af9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a82f0b7a9c81d636683ab2ce1f8c52c7f17f8178bf0ef0ff844ed443ea35396c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/til
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e157049291674eef6b9a07ad8582bb7acc2c2046a408743a8621b048f025c6fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/notificator/twilio/status
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(174\\.129\\.222\\.33|174\\.129\\.222\\.200|184\\\
                          .73\\.170\\.150|23\\.21\\.226\\.67|3\\.80\\.20\\.([1-9]|[1-9][0-9]|1([0-1][0-9]|2[0-7]))|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20b3f407b45befc5912369440e009334608a3f4f597180a2caf3e31c79a8488d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/notificator/twilio/status
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/notificator/twilio/status
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20b3f407b45befc5912369440e009334608a3f4f597180a2caf3e31c79a8488d
              - match:
                  prefix: /api/notificator
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 05faa019e32da41a69551e640a3a33ecc72768e8ccc58c528d82b0a8ad59547c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/notificator
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/notificator
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b63f46a8e594b6b5c28131a1029bafb34f83ad3d0e6468a50a4d4e5a72379dd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/notificator
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/notificator/presentation/inbox
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/notificator/notification-inbox
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e576923720ee2443b5203f5790d808f1b3ed30d8bfbbeb25b12e6c5d4a8fd75
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notificator/presentation/inbox
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/onboarding/hub
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9724509cac967649a491178b6d49b70a92ad1f0977877352614a5a30a9a64215
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/onboarding/hub
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/onboarding/hub
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 552b67f6bcbc0afe5b554e37325a75577a8ec786db95fbf70dfddf2635ee6e1f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/onboarding/hub
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/account-switching
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 76f27c9f2dd9c6852dca39c5d61092482386ac9893982746012ff63e1277a021
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/account-switching
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/account-switching
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8eccea6d49976ed6063ba9b0440567f7822656ba3da0baaeeb47ae74135c3be8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/account-switching
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/account-switching/information
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a88ab6d41258af9506c0f19acc4cd773297c276b43557dd263247f933e549da7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/account-switching/information
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/product-stories
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6126092136e7a2c43af134ffc916e635a7d207b30a09d10ae5448359cbf84035
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/product-stories
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 830d5846a0b449d63e458c5d8c5ce67a5fd0b91199ee3f4e0899518ec2409ffd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/v2/features
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2e1a914bc668604cc8cab8d418573197d41d965bece963e06a4337779b642bb1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/features
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/features/countries/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a3648240eaf7a2c1981945bc9fc4737464a89f234ccc05e0dcd4f64eba9472a1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/features/countries/{iso3CountryCode}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/features/([a-zA-Z0-9-_]+)/countries"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d8792751d3712d738c9bd09ab512c309c62c95c38ed5c8bb33027fc25ffa69c6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/features/{featureName}/countries"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  path: /api/decorated/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/features
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cf7f66e27a93349cc2cbf1dbb90411ed998131ad75c420e7251250049b376601
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/decorated/features
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/decorated/v2/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/features
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20e7fd2afee23758e87d6e8a246ef15df1ecb8aa87c3250a6c948de828dd1fca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/decorated/v2/features
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/decorated/features/users/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/decorated/features/users/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/internal/features/users/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a6ff83df01127cad942680d1639d8fa08caaf4631c1ba53837b7253fe33cceb4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/decorated/features/users/{userId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/decorated/internal/admin/users/([a-zA-Z0-9-_]+)/features/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/decorated/internal/admin/users/([a-zA-Z0-9-_]+)/features/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/internal/admin/users/\1/features/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0123525ba062b8433dd3a322746cfa0c9c9a4273309821ff55345217e7903c0e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/decorated/internal/admin/users/{userId}/features/{type}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /oauth2/token
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 453e60ad942c2a9c0ff6113561396de9c4f3f749d6d1bf0c803719e53da72ada
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  prefix: /oauth/token
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  prefix_rewrite: /oauth2/token
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 803f6cb4d8b75421dd4022e96c194d4fbaad853c6a1263a0736cc8c4693ce103
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  prefix: /api/mfa/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e3cdfd3acbf51a9c168b69f7b6ec5749f48c5a6a7dbbe7ede70c08ecebbf560
              - match:
                  prefix: /oauth2/authorize
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 56689909ddb926e36c2cf076c5b8298d5da88a651d1b0776e3482f23ae4a5706
              - match:
                  prefix: /api/me/logout
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a8b61e1dd5f302701d6c7358b75b358dcc4229dd439840a9dcfcf2ed19e3b13a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/me/logout
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  prefix: /authorize/generateAuthCode
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c695407f342c00b362ef1978b9cefb7f5a47ec8af5c446148a274f55b618742c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"WEB_OAUTH\"\
                        ,\"FIRST_PARTY\"]}"
                      route_path_match: /authorize/generateAuthCode
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/feedback/login/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e84c67417ffac9ea639cd74b453dd019cf1512ad5ed443191c773b39fc9296cf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/feedback/login/{loginId}/{token}/{feedback}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=9,window=3,precision=1,backoff=900"
                      action_1:
                        descriptors: "method,path-variables"
                        policy: "requests=8,window=28800,precision=28800,backoff=57600"
              - match:
                  prefix: /api/customer-data-questionnaire
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: peppermint
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/questionnaire
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a32fc77ecb887795a97be2d2740b870578cf52aaed92a87365885a31f86c7150
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-data-questionnaire
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/customer-data-questionnaire/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/customer-answers"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: peppermint
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/customer-data-questionnaire/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/customer-answers"
                      google_re2: {}
                    substitution: /api/presentation/questionnaire/\1/customer-answers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8bc42d75da9d93948f83934ed14a23b7b35ebd93462c3f43add24c05da54473f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/customer-data-questionnaire/{id:uuid}/customer-answers"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/referrals/your-invites
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/your-invites
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a9ef49a52164c0abf002039a5b2fff4b2003e83ba3d1a60b96a6f32a1b423c75
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/your-invites
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/referrals/dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/dashboard
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2665245c062892c7cc1f4105c891725da231b47194bf0a749b7c0f2d569b7eed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/dashboard
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/referrals/combined-dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/combined-dashboard
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d76a0ce2569ad3c6cc7a89377bac8a7f2173fc87329758a0e264d1bf759bb354
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/combined-dashboard
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/stripe
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  prefix_rewrite: /api/webhooks/stripe/events
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc0725696c3c09732133fc2d2051fbf887956b09b6c006bd6491449cb6035443
              - match:
                  prefix: /api/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bf40ca16e663fd858417a84a9d14935957badb68dd411138799863335b8c35a9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a21cf962ae5af402e4212900718f7a619b1f4be3f922bb2d3a0987b83eeffc3a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8ea07119255c8f4e1ee1fdccb7654b4ab3da804c35cf0c9d802ae6d670056496
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce51ee614d7b59a2b73522ea49b569b58696a2b87602a803415d4c0415ea6dbd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8a4649f0ff96ddcc3ee69b39e8c8daf697eee74b6a1e3b481d206b9c2ef300c6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9227de4b063e485df8512d96581addbaed8c459f5e89b430323dce1f985e6a11
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 272ddb52fd8a7d2309de7180416daed7786405f7c1a47117609a13e506e94901
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b7f28c297d878a28c567d904aceb1328d85bd75b39b2f88131901e874241295
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8d6fbbee6a852a6f0b3c3c27e3e941291af6c27edc7aca697ce27e8d1605f6fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v3/spaces/([a-zA-Z0-9-_]+)/bottomsheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 73bab8e15de66f1c2d63b5173007f3865fd041d4b04788529d7223c7889cd6ba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v3/spaces/{spaceId}/bottomsheet"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v3/spaces/create-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 84d45726368babe075552ac91c12fa1c0b13eac5d64bc8ecc94a1cdb18b1031d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/spaces/create-flow
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v4/spaces/create-flow/available-types
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c16f092722aeae4f28652b239d4ead30da1bf9b3e684b92030738e53667b13b6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/spaces/create-flow/available-types
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v3/spaces-overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 170b7db29df4e611d6aef822409529456416745a6f3cec8520455fd2e35fa3b6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/v3/spaces-overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/financialhome
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 650a6597eca6ce9157b5d34a698892540c49d9045bd55d4bc1386b30bf80e6d5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/financialhome
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/financialhome/available
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 18ad8b2f9e87c6b3c87749c4f31d70d4cbe7db1b5b44fb165b643945b8aa9cad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financialhome/available
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/invitations/([a-zA-Z0-9-_]+)/accept"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 657ec9b807dae45b4b4f12007b4a3efe2b8c6b2cb7a546b2c4d2c775abd45a01
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/invitations/{invitationId}/accept"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/([a-zA-Z0-9-_]+)/invitations/verify"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e4ac562337f2021a9b4479bd37b78aebc9bb799c63d3246605dab9f99c185cf7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/invitations/verify"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/([a-zA-Z0-9-_]+)/invitations"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0e1444a0eb4ee90a4f34d10f554da5ac6fe138e9b35e5ab6d111bfc9c9d0a6cb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/invitations"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/([a-zA-Z0-9-_]+)/settings"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c695ee2d8135ecf011a85531419c44a4aba6a6b2c1287fb43d53dd11ca897fa4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/settings"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/mobile/internal-accounts/([a-zA-Z0-9-_]+)/details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 793e9736959ad59c478aed392269db39336f15c30fad446ee13e465e19344a70
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/mobile/internal-accounts/{accountId}/details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/web/internal-accounts/([a-zA-Z0-9-_]+)/details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 30d773e8a558e6f6ffff16e0913d540ed8719bb20c9b6fab6ac95e34b72abd68
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/web/internal-accounts/{accountId}/details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/mobile/internal-accounts/([a-zA-Z0-9-_]+)/details/sheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 80ed3c06ac7339c41ff2cb04c99124fce712d5906ab39e16c27f30ecbd8b77e2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/mobile/internal-accounts/{accountId}/details/sheet"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/web/internal-accounts/([a-zA-Z0-9-_]+)/details/sheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 946540ae59a94f61c3053488b171a46656970d3ae5a8fc567ad1946b8ab112a0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/web/internal-accounts/{accountId}/details/sheet"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/internal-accounts
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f389f196c65308dfc97706f453976fa505bab1142ca768c5bc286970c27a5e98
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/internal-accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0c40a13bf9878773aa5d36e56faf6d23ffdd8b86035d141912bbff2fdc0f5694
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/eligibility
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/create-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b1ddc5c270ce2a04980e44ffd5be740763ddf681e4f7b2439e31be3ea6f09238
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/create-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/create
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 79322ee33b4f0c065b23aa271da39cafb1578a33564840046439a72564f5816c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/create
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/ps/kyc/postident
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: postidentkyc
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/identifications/kyc/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 800de8f4bc007a34a99bfd1e5cb6356f1fcc537d5163224f864987ff69e7e7b7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/postident
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: praseodymium
                  auto_host_rewrite: true
                  timeout: 300s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1a76f562115caba9d1e9228aad9fb34c5c8fe531ada639dad18acea8615cfbf2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/authority-requests/attachments
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1a76f562115caba9d1e9228aad9fb34c5c8fe531ada639dad18acea8615cfbf2
              - match:
                  prefix: /api/abbyy/v1/authority-requests/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: praseodymium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13dbdc325e2a75beb9877c0b84530b9293e0b8608ce93ec28586d8b6cbcb7aac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/authority-requests/documents
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13dbdc325e2a75beb9877c0b84530b9293e0b8608ce93ec28586d8b6cbcb7aac
              - match:
                  prefix: /api/users/membership
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ff48cc2b4b5c5b47c6178ff110ba2041ccf1fda89c990f8b81c6d0bc1fea5426
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/current-membership
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 46b90433e1664c3c02f13b16a07b83375cd22be2dbcc8d44e2b0fed1baedabeb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/current-membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/current-membership
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b15215b5bf5b89c1cd28a9ed1d9832273b825c86d7c8215529509e9bbdcc22de
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/current-membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/waitlist
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/waitlist
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ec182c597e0a7dbeafca3e585fa874ffa5a65a97d739df667c7815f67659acd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/waitlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/billing-options/update
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership/billing-term
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d310b263c6cde98c27260b7b802ec737a769a8756f227191b4498efe85bfa63c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/billing-options/update
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/available-memberships
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /available-memberships
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1d130a4b254868cf18a372406e8f7917d42338970be275acbd9066eefe02aa0e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/available-memberships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/shipping/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /shipping/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 991056693c611eadaf920b53e1a89db52fc87d04639d63c53d7f58d314848ee6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/shipping/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/additional
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/additional
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce6fe6656f2b54c8dd73a03434a4aafbcd6810a4d1df91cffc551335659fb614
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/features/cards/additional
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/certified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/certified
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a85625df6d67b2da48ecef3fa3c99d9c928af9d562538d7848848ccd2e04fa45
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards/certified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/selection
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/selection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08e2a7214db5a2f087fb5f6cc4e2f1682ed566827ad738c5fffa92b9d306fb43
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards/selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f6832da77a1776a218a660bc2703bb134c7fe75438738eb29751c616513bcd62
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f62987e7c6f3faa83bf439e267ef31928f45e26668a9075c158cfa85f8fbff48
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 95c243f0731e2de7ef1fc26f7670c13cf7479f2e20875fd9c71e28193e8fbd79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/certified/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/certified/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f99c162adef399c22176d6a00b1889bd71060c9c4e5700e32ee92d9419166894
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/certified/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/users/products/:signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/:signup
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5ea57295ba4517064cfcb04d3fdb365f39e23768c540958a9b51122b1b79a18
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/:signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/:upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/:upgrade
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7867116fc58b9b7fbbe90634193ca63df8b96cca22acb5936e7c087aca2c34b5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/:upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:reactivate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:reactivate"
                      google_re2: {}
                    substitution: /users/products/\1/countries/\2/:reactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9584ede1c0c2a7f71b1aa584870b7c2809fc5e1559854164de039af6dfbe001d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/users/products/{productId}/countries/{country}/:reactivate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:cancel"
                      google_re2: {}
                    substitution: /users/products/\1/countries/\2/:cancel
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 10b1e0bd481792c43feb3904f7db22fb83113216addeb615c1e2c5c31734df8d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/users/products/{productId}/countries/{country}/:cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 669517eaa3e60801d3905623e53a9eed50591ec377287cc8ad95dc1c4d9c83ad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\",\"NON_SCA\"\
                        ,\"SCA\"],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/confirm
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0931290980021574c3688b046c637ddfbb0438f2f7a110e36e0f15433e5df1cf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/confirm
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/deactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/deactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 303e35cef3a4f8f811bb326b26944ce90782c270e3ccff7e0951daa2814bfd14
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/deactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/reactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/reactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 235a903c3bc459af1ea800c5d1513fdbb70505fb2b680e99bc50e8a96a9a3fc6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/reactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/paccount/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: protectedaccounts
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /paccount/overview
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2832a723feb9253acfd08fc880fa4950e56a60ff506808b7fea34a135872259c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/paccount/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a40c3b8ce9dc44e454e668b20e7b33ef4c278bbd7a3f6df502c3a826cbf0d372
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 207f7a2a8ffca3e94c22de51f8ddca15a8fa9db78cc9330c78b2ae6ef371cc55
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4107f6ccdf83dc6b37c15096da7863cd8576719d5e3d1c6724174ba432befb52
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0d5b3db948f0949e1488b679f93cc0f9c2816036f318ceaff50fb5335e111ec6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9718c7e090461e1d97de37b1eb0e04534a9c748aec59483c7e20c9ac82d84e86
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c1753786c3a79a5dc20f93303e847196f181d3ecd1baca7b43b8a044fb4b6b32
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 373d4893fc674b8909cc5053fea3b569f5c169a8c4b23b96457f6ea4a8490fb0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4dc1bf61bf27451bc4f6289565953d5a7a38bdd92880e94599b48728dc3546e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  path: /api/gdpr/export
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /export
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eebf8423e37149469cd599de2d9a73524f372b29c6abe93e9be8d26de0c30ab1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/gdpr/export
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/gdpr/export-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /export-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 11e0477ad6cf52d64e1f45ec2bbaf3e3d53b6b7bbe9849fffaa79d2e91a10432
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/gdpr/export-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/gdpr/export/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/gdpr/export/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /export/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dd968b276dc37ee4185b196b8817856c5e483f72add8579c8df22f666f9e4ee2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/gdpr/export/{operationId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/taskrouter/error
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ec6977a65d1f10b4838bf1c58b40715ff9fdb7bd61e43229c4371416431d28a
              - match:
                  prefix: /api/taskrouter/assignment
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 05793b1d746ef260dccaad51898bfdd41f6cb2e76cde434b65a42495754d00d0
              - match:
                  prefix: /api/taskrouter/event
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b6bdc9152d8a500b1f86664011b430f4b2a4b5f84f1d9502940b0c7fa8eab64f
              - match:
                  prefix: /api/aggregation/moneybeam/limits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb2fca904716da76b2f625a2a6671a9bd14e61dfdd7de915d5d8c2f05218cb27
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/moneybeam/limits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9bdd9e25c3f66dab59ee0b250eb3eaed260e82abced260720e0c438107701970
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f84567f261bf1ac6e0488fe2d93807d3fc5c98e0bcaed5cb124ee52cc585cb54
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c888cb789b139706e55daa57d1012fffbb26195f620b9774795146fc9497cc81
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v3/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c34608d0ea05494c12312c980eb14702d98883620fba446af27ddc2685c840e0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v4/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v5/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 43b36ca0bf8a0b6073d4522ee96c7f293c5f372e7a3776c170ebcd2bdc57056a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v5/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v6/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a769e4391fa02f8efa1bc347c07c4ba08b520bc8f133586814fa88deed3d6610
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v6/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13794d014a22ad672a0de9f556617f25b6943224f9d940b7a56f1e688e2655db
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 50689d82ea6bf2c37f6665b69f624592211196e7a2921864c688b1e39c0b224a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ac7fd80de95c8623bf2faadbfbdedbabeb7f7b15fcb4db826308b2e067b8feeb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4be8d3cc5053d8a06ae68c79ad839636fb9d2efa8d6cb31ad1f0eebbf507333
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1b163391e6d4dd1976b4224798ed50878cb30474263f8e9c7a47dc3f7c946541
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec9f8d3ec000167faa816549eb147a1feb6f9a507fb11f33034a2e3797689ed9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20409655184bd922457b265ab326855e78bf102003844579de2c6f0d2fb399ca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/financial-relationships/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 15fa9ac36bac3dacd48584854dee8f9df26e7d094d9859defd1da9fb373eb403
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/financial-relationships/{relationshipId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 11e17a9c76c21f8f2ef75db0d3d3365019112c908114ed485912840f4c4094a6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b2037c56d5107b5940fbd2288ce413c01163b87d7c8f383b1f60459817601a60
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fa23a993078087778d755d37eda9767678ac24edc9994836121737442fb2314f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c19317a9446d8372c382ac7a1c1f79b17d83cb4d698fe547fe4228f88ac5642e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3870b5ccef4503888e6571607800300e966a40f7bdb599ad9fd791450d80ad0b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d0e12eb39717792c35d43a570c69e54bf8169da440fabe28dc745d2f10f257ad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3c4a115f4559b6f26b0ee680509afcad0e5d5b2ebc43b870c56b2dd722dc8ad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cashfinder/search
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 295526b0bac59f9308829dd38dce2c9a4cdf61cdcb91531818c47e96a8819467
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cashfinder/search
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /atmv2/_search
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6912145c6b72519fc1641b153ff6cfb16bc5c6db4c44c5ec04c3baed44903e0d
              - match:
                  prefix: /atmv2/_search
                direct_response:
                  status: 404
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f1f9262439498182388f313cb2585f6a96ba47c6eee8cc9366e24751dba9e5bc
              - match:
                  prefix: /api/inbox/threads
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/threads
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0f78fc5c34bac4945b37a2bf979ab2d0d15d690e0484598465edc7c12e84c592
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/threads
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/messages
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/messages
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3bc3c051af79f64b7bbd36457f7f9f4128a703bbfdd058443d87122769d9cdf5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/messages
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/attachments/url
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/attachments/url
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cdf4924c18bc2f464d472231b2babaaf2865d60a3fc1baa9eae522327b293669
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/attachments/url
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=40,window=28800,precision=28800,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/inbox/attachments/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/inbox/attachments/([a-zA-Z0-9-_]+)/status"
                      google_re2: {}
                    substitution: /api/attachments/\1/status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 267d41d605d3722adbf46055bd6f869245a9c957cdcbabe49bb1c15578b9a7eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/inbox/attachments/{attachmentId}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/attachments
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7733924af596d33172ccab7a1f727159c244335d4ab2092c3882816e1f32aa63
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/attachments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/insurance/questionnaire/
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance/questionnaire/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3ab440f913912c193b079194f9538c57c3cb2cf14a9b4887dfb37967efc63b82
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/questionnaire/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/precondition/
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /precondition/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7e32bfa0a518b55eb5bdbab71f2c98d826fbc8a4411cf8952e2a9c238daa17bb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/precondition/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/contracts/reset-pairing
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts/reset-pairing
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4859c19d6609e0c46b75196b2d0475e3a593acee9645d3efe0b45baf0a418d32
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/reset-pairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 53b8336557ddf7c04d924c38790f7ec1fe17c797fdd8f806e6a00e40cf191b4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/upgrade
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/waitinglists
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/waitinglists
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7cec37c1ee0c60e2da3ede6f5649406a023a45d5597bb1a1d5feb3dcea7b163b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/waitinglists
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/signup/waitinglists/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/signup/waitinglists/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9bd7d3d21e4877e1ec575466f249be434402e74bdf5b7c2b2f5f2075835e1287
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/signup/waitinglists/confirm/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/signup/waitinglists/unsubscribe/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/signup/waitinglists/unsubscribe/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/unsubscribe/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 151388598194c8bae6a88f9db796ce1ebcdb0a996a338b9df95548c0332af6de
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/signup/waitinglists/unsubscribe/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/account-purposes
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/account-purposes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f4d18f1386eb6a8585c73dbbe13f5664f0105671ac6c662e1d938189cc5813cd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/account-purposes
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/funds-origins
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/funds-origins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 06bc8d32032aab2f60eefc30f5c8a2b6d495495ab69e4d11148f9ab67d9ba5b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/funds-origins
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/regions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/regions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cf9400d7706987a6c053779c7e8272ef4c92ce23ab53329e400562912e322fdc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/regions
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/income-ranges
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/income-ranges
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 391ed9b1ac77217e0e5d615f3bdceb5be7cce629b15f6fc85f471a52614c15b8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/income-ranges
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/income-sources
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/income-sources
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d30b91ccc36d5103faefc94b732330fc1cba986ebb8e8d67f47dbec896d72b7d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/income-sources
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/total-wealth
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/total-wealth
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 15d9e7f9bdbc8b81e2bc0a19d698193800ba09056dc5c88aaa72bed751aab371
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/total-wealth
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/industries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/industries
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 136a390db49900dc8c77f34d3a8d7bad833a3ef052b7aab24f63ff20fb8d9e6f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/industries
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/employment-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/employment-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d54ea2b1e0db174bd36cf072ce7fdf664dffd726a09f5efe74863eaeb7f166d5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/employment-status
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/expected-transaction-types
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/expected-transaction-types
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 83d701d9f6202abe30f84037100021985bb2e5b626b627b33e191038e7980575
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/expected-transaction-types
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/positions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/positions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 36088bb55801c43351eff2bc6b2b7918bf5c4ac803552f0b1a7cefb32ba98525
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/positions
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/user-survey/results
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: silicon
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/user-survey/results
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5aa811c098bdbca7c5d0880cbc60e9b66cda03972ec40ca3afde339cc5abc860
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/user-survey/results
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/user-survey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silicon
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/user-survey
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0302a79a715e5fcc379dd730f3b5dc27eb9de8f074f09e8c9c60036030732c02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/user-survey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 96ef40091cb36193fb88cc36735f564abc664746212d69a0e99e3cca9e399562
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/flow
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/instalment
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6cba8315335770e762b8945c03f4b4293032d42e273ef6d25e903308e5f471dc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/instalment
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7b79f5569c05b897376fcc00b463f9c2fc6a525c17aab3243614f098b51fb892
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c8ebcc4f09da2a7e2921f3d0ddb6f3ca1632e28473df1f3025190a1baae25070
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/repayment-plan
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 24b8a836ae07dced0ad7d5ebf337be21257d91e3896a3b98f4e5074eaa0d3920
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repayment-plan
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/cardordering/card-type-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f367e06be073c281c5248a2ee55f6c00eeeb9a370c641e7273ebc76591097d32
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering/card-type-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cardordering
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8d71bfdef8d351a3f61da85fe98c477576eb0576d8530812e776dd46493a0349
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cardordering/card-order-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f11b145a7183fa0ec995861aea29a685229197648a6787c8907328a65d961009
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering/card-order-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-useraccount-legalentity
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-useraccount-legalentity
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cardordering/wallet-eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f3c05f1a93229fed306e6f83a3c69c849cb06544bd25b8fd915b54c6df56be0f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering/wallet-eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v2/savings/fixedterms/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/v2/savings/fixedterms/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f836602887134fb8eb99cc270aeda6fa12198c9b3f83e55e256d9f18ac9f3210
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v2/savings/fixedterms/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v3/savings/fixedterms/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/v3/savings/fixedterms/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23a14d7bdec90e071edc4337a8538ac7625ccbe18f1c4e081994c80b4c4fd1c1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v3/savings/fixedterms/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v2/savings/overnight/flow/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/flow/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4bae94beaa6dcd7ab26900ad9698558eb1e2670dc540113cdc050d43550d931c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v2/savings/overnight/flow/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/flow/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/flow/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b5b813348592bc8196eca4a1b2706eb7dacbc2ee5f3a23d28b9cd8b645ada088
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/flow/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/savings/documents/legal/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/hub/savings/raisin/proxy/app-exposed/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a102756876ceb099e5f6d1401522096f7696967f1787f5dcbc4192d46bb27794
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/hub/savings/documents/legal/
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/documents/legal/
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/hub/savings/raisin/proxy/app-exposed/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3d7d5ddc6c0ed5b94a1965bb3c64d7f6253308b5d47c2942224977992d38555e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/hub/savings/documents/legal/
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/offer/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/offer/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e51131ddff989602bb804c2e1b78f2e0801e276dddf131c3e38f78d70628478a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/offer/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/accounts/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/accounts/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ff5197d10884ce248ed59e8afd8f3dffc301357bc998be4eef35fda9c986603
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/accounts/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/v2/accounts/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/v2/accounts/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7cb973e31f3a770430d18e690a448927b421b64c43ebe1c2134e24720fd5bf3f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/v2/accounts/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/fixedterms/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/fixedterms/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 26bf11a9d55331e2ca6f103a525fc3b7142129de86f52b2573c12b90b3356fd2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/savings/fixedterms/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/accounts
                direct_response:
                  status: 200
                  body:
                    inline_string: "{\"totalBalance\":0,\"canOpenMore\":false,\"accounts\"\
                      :[],\"pendingAccounts\":[]}"
                response_headers_to_add:
                - header:
                    key: Content-Type
                    value: application/json;charset=UTF-8
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2ec0599ab06581210e9a798ced7521cd38b845cc34a52d632d8d01122163aa25
              - match:
                  safe_regex:
                    regex: "/api/kyc/face-detection-data/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stibium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1a6dd7a04fc3c85a052e89195e266be41e7a683a2257583cccded7007daf51b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/kyc/face-detection-data/{platform}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/login
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c1654cfa6e993ada5d8b4eb51e6360a75fcb1ffb6c3779b6fe27bf8a916ddd3f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/login
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/version
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v1/version
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 014751e0aed2634d7339ba870c14b8d3a249f74d36ff8a544d183bce76fc07ac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/version
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/version/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 549fb60c48935e30ba1d3281943166d4780cff06f4de5e40eaedb0dda77e4f2e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/version/mobile
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=50,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/explore/stories/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore/stories/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a6334b38fbb4adcaa3e4fdedcae36ab669d5d6e53cec5afd388e3e865aa2a090
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/explore/stories/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/explore_detail
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore_detail
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d9836a9b79848333d3dc2ad1abedd55eecd2b9c1e67c3e1553437d0cc4daea6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/explore_detail
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/partner-benefits/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /partner-benefits/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4b7f5388f4ef9697d2266714bdf26fe193788002b15067380a28241f1d773222
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/partner-benefits/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/membership-benefits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-benefits
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ea83f9ec993cd14ae282b0e8f6d90a0a929a68872616c7876aca0ba0e06f27f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-benefits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/membership-benefits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/membership-benefits
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 48a33f6f1b37798dc7a6490a7aeaf6775cc8bda53258fafee5cb8c52e8413f23
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/membership-benefits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bf7170a0b6363ac39a5706773b8f449a8582d08c6a2cf2f35ef30f6784b45a1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3113228cdc1e4e35c4e692c1394db4fc59d293f6ee2e13f8091a0d6db10bbccc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/web/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /web/membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 76027fb994ecebfcf3326f352db4bd413cf9c2a2de03fe554fe31ed02c1476b8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/web/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/premium-upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /premium-upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bff06972124ed8ced17126639c8b05d63bb7006a43abab2c22719f0c89821645
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/premium-upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/atm-policy
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /atm-policy
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2b996002512920ee673d63c31f742168ec72d1ce7a550cdc21fa6552c044f11
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/atm-policy
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/survey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /survey
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7650e044b9493ba2231227c3475e485a3f1a2cf07d5f28c574d411fdbef56192
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/survey
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/marketing-carousel
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /marketing-carousel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a5a7a2f14b62c2cbd7397c6044ab9a2e0f08b18dc8f44a8956151c48d8a95b28
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/marketing-carousel
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/activation-trigger
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /activation-trigger
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5b30231671653017cd15ff45d7cbdb048bb244f96ffaa5082eb99b8b81eff3e0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/activation-trigger
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/send-checklist
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance/send-checklist
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6175a6c109ed9e9698a6f1b050bf9c26da6bf82c853950ed93730cdfbf248382
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/send-checklist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance-claim-detail
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance-claim-detail
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7862c646f86a496608f688be7f5ba511d41adf98e6cfcd1e46245073221f2ded
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance-claim-detail
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance-products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance-products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b493367eb9dcaaebf7c6d7ccc2c7581d23ab5a73c0b4dd1c38cee48565465e18
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance-products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/extra-card/upgrade-trigger
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /extra-card/upgrade-trigger
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3240143804450c7786c7c68d80aee06351e9a302321b048d0a81faacdc05ae0a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/extra-card/upgrade-trigger
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/extra-card
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /extra-card
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cadf340c0052e7ec98e837752edc879780e4204c563755664064832e1ea1fc57
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/extra-card
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/eligibility/trial
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /eligibility/trial
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fa6ac50e3c87651b1d4a8dbfa238a73053d63034fe85d38781ca530ee282cd85
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/eligibility/trial
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/membership-payment
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-payment
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7a1dc44b5b064c88433457086e4e9d595ef47af21d71be5a51c07b2e8f3bf529
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-payment
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/explore
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bad691601aacd21664f35536e27beccae08c4bc04f07de254e2d0979cd63ef3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/explore
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/product-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/product-selection
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 601f1a842cc9e209b670f9ff0fefb54bf9d1a587cf9178cea0bbed5dd2fc5967
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/product-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/product-selection/review
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /product-selection/review
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bffca6d50bf696c2385819173d829728b03c97c795897538df95adce5dd944b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/product-selection/review
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/product-selection/billing-faq
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /product-selection/billing-faq
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d42a6eabefdea8e42f5f93c0c296799a62148bad6fbaae21702cce6d16793e15
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/product-selection/billing-faq
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/v2/product-selection/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/product-selection/preferences
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 408dbaa97f24695e77af33601a7151e8a068e8e19f8b201177ca6d71a0db0666
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/product-selection/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fefd11bf683da893d7fb3b52f71b9c405ddd6e70e97746a7743f490b70f27c63
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/billing-options/edit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/edit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 26ced1cb28052693e8d969594f6d56492e4ef840c1d84a00db1a1bc90b0e5fde
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/edit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/revert
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9e8a8539d5afe57c76d53c5227aec3dacf59db214264d83fb50b94d2aa1de9ec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/revert
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08b80986d52f70f802693d0b8ffa2441287a6e6b9ab4da7e8687fb390efae964
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/payment-faq
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/payment-faq
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d0a7d045aa491aecdc2b6ccd776d8cc8403f91a5960d0aa3ebb74f9d9a5b94a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/payment-faq
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/campaign/redeem
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaign/redeem
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: be4f71d79746a2a4ae77c0f072c7646e0f1a4b9a19e6ec79e7778f419f467148
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/campaign/redeem
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/campaign/redeem/feedback
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaign/redeem/feedback
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fb9441ed27c4740798c6967cf68740e05659953027b1149e8e2535c7c5739ec2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/campaign/redeem/feedback
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-modify
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-modify
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eab047b6897adade61020d40fee292a10432332a1c5f9fd273c747e05077158c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-modify
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b172fe0f93f2d1f3482c1272e5d234b602c718b163835ef2ee5d713aeb6ba2f9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/signup
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a72489e6fa954d8dea22ab09bad9f575a49939c760dfda09bea0dc89f8b2782a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection/update
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/update
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d5275388345e925fa26ae8d44596b2338f984fd560ed5426514395e509afb654
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/update
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/campaigns-landings/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/campaigns-landings/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /campaigns-landings/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c128c11fa9cb5e61a19360eb3bcdfd91f73fb0bf218ab845f9fe2e58d363811
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/campaigns-landings/{contextId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /seasonal-cashback/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5bfec8435dcb65e145ad37f9a900485c7709652b4eff85fc310931a01b0e5b0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/seasonal-cashback/{campaignId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)/activate"
                      google_re2: {}
                    substitution: /seasonal-cashback/\1/activate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b0f6281441228059ac1c5f922f5054a0b03bafcd6454b4f3af9421a0bf81805
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/seasonal-cashback/{campaignId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/fee-statement/available-intervals
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/available-intervals
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b0d3e55e8cd69520bd743f927bf4d16feac6ba0b5c56886630598b6e3fbf095c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/available-intervals
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/app-icons
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /app-icons
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 74857f8a66bbdfa870bc4af01168223dd280901a3444bdc8e706d6ca3d33f4cc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/app-icons
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/membership-selection/trial/details/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/membership-selection/trial/details/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /membership-selection/trial/details/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6781e2555d29329b5e8934cf8410af2b21c500d217c84bfea20b2166d3d628f2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/membership-selection/trial/details/{accountPurpose}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/membership-selection/trial/optional-cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/trial/optional-cards
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b1be705f7912fc0c9c734edcaee96c950f334f2154ee4a327ee999b22e1bddba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/trial/optional-cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/migration/membership-details/french-iban
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /migration/membership-details/french-iban
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fbd67f91f4f6cb10a078e9e7214abbd2c8b0c94828988f2d7f468969d3407a3f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/migration/membership-details/french-iban
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/tax/flow/country/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1814b2e964d4ecb170ed500192cac68e08760633cf58112dc3e7d4c662180f25
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/flow/country/{taxCountry}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/country/([a-zA-Z0-9-_]+)/tax-id"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/country/([a-zA-Z0-9-_]+)/tax-id"
                      google_re2: {}
                    substitution: /api/presentation/tax/country/\1/tax-id
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f653263c9893ad2ebd86b4494c92ca487d09a61fcfe43df6ee4f0d7711b271aa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/country/{taxCountry}/tax-id"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)/tax-id/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)/tax-id/confirm"
                      google_re2: {}
                    substitution: /api/presentation/tax/flow/country/\1/tax-id/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aaf4e72929ae8cded00b4f2a01d2916c30d4bea500a5a2ff5bfe1cdb573d74ac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/flow/country/{taxCountry}/tax-id/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/openbanking/bank-authorization
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /bank-authorization
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7acb060d6157ca564dd815cd7e05ad64dc84d91c46b75d02990e5a49faf2baba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/terms-conditions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /terms-conditions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b6bafd94ac1d64089b5ada4d2fd45537664b55f3794c9b7bd60fcb9b44f5ab15
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/recovery-authorization
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /recovery-authorization
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da3de8d520f48db94ca00c97d14cc03ec5f5e1f477cc8220fc109aaaa04abeef
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/alias-verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /alias-verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e9f21a3a58144d55aa5be34ae8a7d726bf0a0641a845d396a296e37c661fe4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/certifications
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01f77488a3a8732f237525bdcb3bf756b789f3f185d0b7b9d14a9712ccc2d3a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/certifications
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 76377aa6479f308e9cc24fec247deb8c0ffb246385bd76dafe560e83d498d7ed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/account-linking
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/account-linking
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c6f2aea0ee7080ac666c53324bf50c8d575637f250a5e708ec6d88eb4337959b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/account-linking
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/account-linking
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4b5430792d1f8b2217fa0b52ddb67c8cc98488d8920d0c4b0f3a6897f9bb7cb0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/sepa
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/sepa
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0f13ffea6a4737877daeb504209d41b4a00c699dd8a7062e85b6d36433b03932
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/standingorders
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/standingorders
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 39c0f7af53c9364dbed43a5d027b16700afa3594d3ba76933cf03908e1c2a4a7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/standingorders
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/standingorders
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 446ee7c891d5a9446ef7dc484957cd9dcf467bb4da4a6508dc732a27928a8a29
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0abd883bf007ed2e8ef0bfb7fb653c68f4f565e44e98089bba8cd7589e2bccf8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/v3/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/v3/spaces
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 739ed7c8ce011ad5b9dc8abc5a6fa5f21358b23743d7fa4084173943a7a070d3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/directdebit/reprocessed
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tps
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ba06850234e6deff8f6f1d34673b1b719e8f6ba0bdf8aa5493a0f128c54e2f56
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/directdebit/reprocessed
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/transactions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/transactions
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8331356a446e1bcd1112f23088f3fb3e2bf6fea05ccf3bc8338e11f6580b9c3d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      route_path_match: /api/smrt/transactions
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/categories
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/categories
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 277d06fee984d68cd10fd2c66c622d81a48e2220a142cb6a340056c3824035e9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/categories
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/statistics/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/statistics/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec54f4720541e83bb31ed819af267e6e543115a3f4d6e77b65f21edf7dbf33ae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/statistics/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/reports/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/reports/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ba7eb6c1b997a9356f7f838db1436869bd99eb87f1ac961607e0b1faf134dbb3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/reports/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/transferwise/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/statuses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7a7e60e37a7aed8ca1e71e31b05316abde589767ae5be933ab6c2415213cbee6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/transferwise/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/transferwise/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/statuses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c2ece4043a24a3c17cd978ef84737df3f0426fad5201fd6b68a68fb9dd182df
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transferwise/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/transferwise/user
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6fde085a55f5d705dc2b5b0ba8fe95eec20e0107ee3f60b692b464e3cf816786
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transferwise/user
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/transferwise/transactions/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/v2/transferwise/transactions/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /transactions/\1/details
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ccb67cab88a1abac6b245514937ab3c7312a4134329aea6af90609d7898e907
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/transferwise/transactions/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/transferwise/transactions/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/transferwise/transactions/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /transactions/\1
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 301a9414ee2dbf3473214d29615b4b3dea8437c914e33047ed1d4ca6851bee4d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/transferwise/transactions/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)/fieldsets/([a-zA-Z0-9-_]+)/validation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)/fieldsets/([a-zA-Z0-9-_]+)/validation"
                      google_re2: {}
                    substitution: /countries/\1/currencies/\2/fieldsets/\3/validation
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4ddd4c0e23a808cda433b35629b30aaf4aa0cf6407f09f7bc333a29fe12a49f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/hub/transferwise/countries/{country}/currencies/{currency}/fieldsets/{fieldset}/validation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/hub/transferwise/countries/([a-zA-Z0-9-_]+)/currencies/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /countries/\1/currencies/\2
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 37fe06081bec34478fa157855a620b90fa4bf851d3d9429a4c9aa082db6b131c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/hub/transferwise/countries/{country}/currencies/{currency}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/transferwise/countries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transferwise
                  auto_host_rewrite: true
                  timeout: 30s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /countries
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6defd47184b7fc3fde9240ed1b60795ff4287302a97f26f351dea8d8a5e85d3d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/transferwise/countries
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/translations
                route:
                  cluster: babel
                  auto_host_rewrite: true
                  prefix_rewrite: /translations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1dde1c67c4b592ecf2393ed05fc88164cbb7e17b16497f50b216bb41ac5c97ec
              - match:
                  prefix: /api/v2/translations
                route:
                  cluster: babel
                  auto_host_rewrite: true
                  prefix_rewrite: /v2/translations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 75ce1e0bf05294658f22be074948a476297dda4745f1d330ceafd43d2020aa57
              - match:
                  prefix: /api/referrals/code
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /referral-codes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2a9423eca3b5c5b7131c549c959aaa978783a8ee4cb547c123bd85c2320bdd46
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/referrals/code
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/referrals
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /referrals
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ff443f60b302a8ebe09236a98e657cd1f8c835fd60437defc4a22fb3d269722
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/coupons/validate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /codes/validate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d92e0f94f5f979a379c62daae3000e9b0ace40c2cd088d0ddd29e1bd9ab532f8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/coupons/validate
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/campaigns
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaigns
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 37d9bad6aed4be1e9e8de680274f0b28b933e7dbfe721b9af6372251171de877
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/coupons/campaigns
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/:consume
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/coupons
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 64e69d0265cf59544e95acc0309b2b28b7caa32e4286905a4a4f102553be13cd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/coupons/:consume
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/users/external
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/coupons/external
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bccb4d0e7b0b6cb156d40c388ee511b515ca463a700c2fbd8621aa83280d160b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/coupons/users/external
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/rate-limit-me
                route:
                  cluster: vanadium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1b1e41172f2a5bd77262d61685dc462690ce211a9710ef3bc52f7d6af24cd051
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/rate-limit-me
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=10,precision=1,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=200000,window=3600,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/spaces/([a-zA-Z0-9-_]+)/lock"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a75d11ed693f6c6ac98f995ec53126912a95d7527989698442d4ba0a1d84344c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/spaces/{spaceId}/lock"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/spaces/([a-zA-Z0-9-_]+)/unlock"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0f7d37cefabd03ea40b0af8876de2643a6dcbe19e86a2fae23962d3dc09cc448
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/spaces/{spaceId}/unlock"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/spaces/([a-zA-Z0-9-_]+)/externalId"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b232201350fbbadd0ba044df2bc5c99d02a4a692baac7be04b975aad85609ed2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/spaces/{spaceId}/externalId"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces/terms/upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 453132db571dafd73344b09a1cea0bf76c567270ab9d1e6501498dbac0cc22dd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/spaces/terms/upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 3
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dbdfe7660e535e00f49eb93e4859fec390942e8d51ad18569364e2650333115d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 3
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a23481153164a0c20acc4285d1d87c969621db41b41a45f2916ed2fb974643e3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/v2/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/spaces
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c55737d8bc80de90aad82fedf885213a58f320066399792dcf75ad7ad11cc5a1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94870ee9e93568244289d86a9f672f5067cec84dd147995d3a7f19dee96c67bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/v2/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/category"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d37376c562c38530b5a159e5bc7a106d0a357b392fa1993fc68f5666453a179
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/category"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/tags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 43a4f8672b8467d2fb4dfd3bdab139ec955abc08676b701cc8ad7749fa7fb181
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/tags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 112da67747fc5313f5315d3c55ec2d52ada1ad54a5682b24adcc2cdff33d3ae0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/tags/delete"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ca0bd2afccdd12701327ba24d7097808f4be572921c8e45b33e55b7d769f78a9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags/delete"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/per-account/\1/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f4f6ad95e1f6c05be3eddac09184cb41310b21891eee781a01e11ccfa0d6f426
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/per-account/{accountId}/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f9ca3a0974a04f66527f73c37af2e0a84a86d8b0a613b27e9cbcbe3d06e829bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/balance-statements/period
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements/period
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: be4b2df94c20628c1ccc56b867329a2fb2bb3451bc583e94fd7aceb08885b3c8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/balance-statements/period
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/per-account/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c9ebb29c6a2ae1228bbf7d949042bd33509ee7f73eac507e2276cb85b318cb5c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/per-account/{accountId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/balance-statements
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a51e5efe6604a387421c24d184c2c2bd93512aa5a3833350d40b27f79ff79973
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/balance-statements
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/average-annual-balance/statement/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/average-annual-balance/statement/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /average-annual-balance/statement/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e59da9bb2da00279a48db2ad29f1fe67dde70ef25870eb9ad1d931b311f1723a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/average-annual-balance/statement/{year}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/statements/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/statements/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8489350f4b5e040c938ffab76f4f1f269bc0e21080900288b0885552453ca8c9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/statements/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/statements
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 731a4e93cf2ff9fe16f163735ee25a6058f4ddf44b697bdf2b91402ed879806d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /
                route:
                  cluster: api
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0f461a5c96bafad10d55a959d12cf12bd558862e9e7b60863ab95def3234de8e
          http_filters:
          - name: envoy.filters.http.health_check
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.health_check.v3.HealthCheck
              pass_through_mode: false
              headers:
              - name: :path
                string_match:
                  exact: /management/health
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  -- remove auth headers coming from downstream
                  request_handle:headers():remove("x-n26-userid")
                  request_handle:headers():remove("x-n26-scopes")
                  request_handle:headers():remove("x-session-id")

                  local authserver = require "authserver"
                  local os = require "os"
                  local metrics = require "metrics"
                  if (not pcall(authserver.run_authentication, request_handle, os, metrics)) then
                    request_handle:respond({ [":status"] = "403" }, "")
                  end

                  local cerium = require "cerium"
                  cerium.validate_pin(request_handle)
                end
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  local metadata = request_handle:metadata()
                  local routePathMatch = metadata and metadata:get("route_path_match")

                  if (routePathMatch ~= nil) then
                    request_handle:headers():add("x-n26-path-match", routePathMatch)
                  end
                end
          - name: envoy.filters.http.ratelimit
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.ratelimit.v3.RateLimit
              domain: ruthenium
              stage: 0
              timeout: 1s
              failure_mode_deny: false
              rate_limit_service:
                grpc_service:
                  envoy_grpc:
                    cluster_name: vanadium
                    authority: vanadium.service.consul
                transport_api_version: V3
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  local decorator = require "decorator"
                  local metrics = require "metrics"

                  decorator.decorate_request(metrics, request_handle)
                end
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  -- remove headers coming from downstream
                  request_handle:headers():remove("x-open-banking-secret")
                  request_handle:headers():remove("x-prod-sec-secret")
                  request_handle:headers():remove("x-n26-path-match")
                end
          - name: envoy.filters.http.router
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              start_child_span: true
    traffic_direction: OUTBOUND
  clusters:
  - name: adrenaline
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: adrenaline
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: adrenaline.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: adrenaline.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: aether
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: aether
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: aether.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: aether.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: api
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: api
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: api.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: api.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: babel
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: babel
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: babel.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: babel.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: barium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: barium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: barium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: barium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: boron
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: boron
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: boron.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: boron.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: bromine
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: bromine
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: bromine.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: bromine.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: caesium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: caesium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: caesium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: caesium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: caffeine
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: caffeine
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: caffeine.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: caffeine.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cerium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cerium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cerium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cerium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: charizard
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: charizard
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: charizard.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: charizard.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: chronoton
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: chronoton
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: chronoton.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: chronoton.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cmd
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cmd
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cmd.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cmd.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cobalt
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cobalt
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cobalt.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cobalt.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: consumercredit
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: consumercredit
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: consumercredit.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: consumercredit.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: curium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: curium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: curium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: curium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: datadog_agent
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: datadog_agent
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: "${DD_AGENT_HOST}"
                port_value: 8126
    dns_refresh_rate: 5s
  - name: datadog_agent_http_proxy
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: datadog_agent_http_proxy
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: "${DD_AGENT_PROXY_HOST}"
                port_value: 5001
    dns_refresh_rate: 5s
  - name: diamond
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: diamond
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: diamond.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: diamond.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: diglett
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: diglett
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: diglett.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: diglett.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: ditto
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ditto
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: ditto.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: ditto.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: dubnium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: dubnium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: dubnium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: dubnium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: einsteinium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: einsteinium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: einsteinium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: einsteinium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: flerovium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: flerovium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: flerovium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: flerovium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: fluorium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: fluorium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: fluorium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: fluorium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: gadolinium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: gadolinium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: gadolinium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: gadolinium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hassium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hassium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hassium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hassium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: holmium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: holmium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: holmium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: holmium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hydrargyrum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hydrargyrum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hydrargyrum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hydrargyrum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hyperalloy
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hyperalloy
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hyperalloy.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hyperalloy.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: ibuprofen
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ibuprofen
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: ibuprofen.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: ibuprofen.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: idnow
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: idnow
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: idnow.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: idnow.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: kalium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: kalium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: kalium.service.consul
                port_value: 443
    per_connection_buffer_limit_bytes: 20971520
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: kalium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: kerosene
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: kerosene
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: kerosene.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: kerosene.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: magneton
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: magneton
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: magneton.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: magneton.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: methanol
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: methanol
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: methanol.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: methanol.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: miglitol
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: miglitol
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: miglitol.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: miglitol.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: molybdenum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: molybdenum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: molybdenum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: molybdenum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: moscovium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: moscovium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: moscovium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: moscovium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: natrium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: natrium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: natrium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: natrium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: neodymium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: neodymium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: neodymium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: neodymium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: neptunium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: neptunium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: neptunium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: neptunium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: nihonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: nihonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: nihonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: nihonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: notificator
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: notificator
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: notificator.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: notificator.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: onboardium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: onboardium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: onboardium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: onboardium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: osmium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: osmium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: osmium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: osmium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: oxygenium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: oxygenium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: oxygenium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: oxygenium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: peppermint
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: peppermint
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: peppermint.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: peppermint.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: pikachu
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: pikachu
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: pikachu.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: pikachu.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: platinum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: platinum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: platinum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: platinum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: plutonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: plutonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: plutonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: plutonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: polonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: polonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: polonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: polonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: postidentkyc
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: postidentkyc
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: postidentkyc.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: postidentkyc.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: praseodymium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: praseodymium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: praseodymium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: praseodymium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: product
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: product
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: product.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: product.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: protectedaccounts
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: protectedaccounts
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: protectedaccounts.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: protectedaccounts.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: psyduck
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: psyduck
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: psyduck.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: psyduck.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: radon
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: radon
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: radon.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: radon.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: rubidium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: rubidium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: rubidium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: rubidium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: rutherfordium
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: rutherfordium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: rutherfordium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: rutherfordium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: samarium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: samarium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: samarium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: samarium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: scandium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: scandium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: scandium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: scandium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: silane
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: silane
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: silane.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: silane.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: silicon
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: silicon
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: silicon.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: silicon.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: snorlax
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: snorlax
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: snorlax.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: snorlax.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: squirtle
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: squirtle
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: squirtle.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: squirtle.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: stannum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: stannum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: stannum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: stannum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: stibium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: stibium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: stibium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: stibium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: sulfur
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: sulfur
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: sulfur.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: sulfur.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: tantalum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: tantalum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: tantalum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: tantalum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: taxadiene
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: taxadiene
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: taxadiene.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: taxadiene.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: technetium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: technetium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: technetium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: technetium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: tps
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: tps
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: tps.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: tps.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: transactor
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: transactor
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: transactor.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: transactor.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: transferwise
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: transferwise
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: transferwise.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: transferwise.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: uranium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: uranium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: uranium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: uranium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: vanadium
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: vanadium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: vanadium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: vanadium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: wolframium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: wolframium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: wolframium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: wolframium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: zincum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: zincum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: zincum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: zincum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: zirconium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: zirconium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: zirconium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: zirconium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
admin:
  access_log:
    name: envoy.access_loggers.file
    typed_config:
      '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
      path: /dev/null
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 8001
stats_sinks:
  name: envoy.stat_sinks.dog_statsd
  typed_config:
    '@type': type.googleapis.com/envoy.config.metrics.v3.DogStatsdSink
    address:
      socket_address:
        address: "${DD_AGENT_HOST}"
        port_value: 8125
        protocol: udp
stats_config:
  stats_matcher:
    exclusion_list:
      patterns:
      - prefix: cluster.datadog_agent.
  stats_tags:
  - tag_name: group
    fixed_value: ruthenium
  - tag_name: service
    fixed_value: ruthenium
  - tag_name: component
    fixed_value: service
  use_all_default_tags: true
layered_runtime:
  layers:
  - name: static_layer
    static_layer:
      re2.max_program_size.error_level: 200
stats_flush_interval: 5s
