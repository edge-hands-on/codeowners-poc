static_resources:
  listeners:
  - name: ingress_http
    address:
      socket_address:
        address: 0.0.0.0
        port_value: 8080
    per_connection_buffer_limit_bytes: 20971520
    filter_chains:
      filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          stat_prefix: ruthenium_ingress_http
          codec_type: AUTO
          generate_request_id: true
          tracing:
            custom_tags:
            - tag: x-request-id
              request_header:
                name: x-request-id
            provider:
              name: envoy.tracers.datadog
              typed_config:
                '@type': type.googleapis.com/envoy.config.trace.v3.DatadogConfig
                collector_cluster: datadog_agent
                service_name: ruthenium
          add_user_agent: true
          access_log:
          - name: envoy.access_loggers.file
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
              path: /dev/stdout
              log_format:
                text_format_source:
                  inline_string: |
                    [n26/ruthenium] [%START_TIME(%Y-%m-%dT%H:%M:%S,%3fZ)%] [INFO] [0] [http-manager] url.path=%REQ(:PATH)% http.protocol=%PROTOCOL% http.request.bytes=%BYTES_RECEIVED% http.request.method=%REQ(:METHOD)% http.request.headers.host=%REQ(:AUTHORITY)% http.request.headers.user-agent=%REQ(USER-AGENT)% http.request.headers.x-original-path=%REQ(X-ENVOY-ORIGINAL-PATH)% http.request.headers.x-amzn-trace-id=%REQ(X-AMZN-TRACE-ID)% http.request.headers.x-forwarded-for=%REQ(X-FORWARDED-FOR)% http.request.headers.x-forwarded-port=%REQ(X-FORWARDED-PORT)% http.request.headers.x-forwarded-proto=%REQ(X-FORWARDED-PROTO)% http.request.headers.x-envoy-external-address=%REQ(X-ENVOY-EXTERNAL-ADDRESS)% http.request.headers.x-request-id=%REQ(X-REQUEST-ID)% http.response.bytes=%BYTES_SENT% http.response.status_code=%RESPONSE_CODE% downstream.tls.version=%DOWNSTREAM_TLS_VERSION% duration=%DURATION%
          route_config:
            name: local_route
            virtual_hosts:
            - name: api
              response_headers_to_add:
              - header:
                  key: x-content-type-options
                  value: nosniff
              - header:
                  key: x-frame-options
                  value: DENY
              - header:
                  key: x-xss-protection
                  value: 1; mode=block
              - header:
                  key: x-request-id
                  value: '%REQ(x-request-id)%'
              domains:
              - '*'
              routes:
              - match:
                  prefix: /api/me
                  query_parameters:
                  - name: full
                    string_match:
                      exact: "true"
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: ddc6382d-7d61-4c2f-b331-51e26cb8464d
              - match:
                  prefix: /api/transactions/p2p/internal/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: api
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4e55b39f799d0f622f6bc8d21f127c7e2daca86d9ce5e002be1e3caefe4b041f
              - match:
                  safe_regex:
                    regex: "^.*[^%23]internal[^-]*$"
                    google_re2: {}
                  headers:
                  - name: x-n26-internal
                    present_match: true
                    invert_match: true
                direct_response:
                  status: 404
              - match:
                  prefix: /api/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                  - name: x-n26-ping-secret
                    string_match:
                      exact: Vnx81QkXnw5L2AdB46WyHAdQBITznfsY
                direct_response:
                  status: 200
                  body:
                    inline_string: pong
              - match:
                  path: /api/reverification/unpaired-device
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/reverification/unpaired-device
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d8d5faed06897e29df0cda5be87e87ea4589c65bca449c0312298fe5653a72a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reverification/unpaired-device
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-correct-user-data"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-correct-user-data"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/user-answer/confirm-correct-user-data
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 399770e56a7a911d4c4070d2699973330f453826cf734e4c8a4948e2650ae445
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm-correct-user-data"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-incorrect-user-data"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-incorrect-user-data"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/user-answer/confirm-incorrect-user-data
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 646c3b9b515753250bb3d9dd0d15107c5712b15a594212b571422610622431f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm-incorrect-user-data"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/personal-information
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ae375d882e01c872091c08e06d1010377c213f35b1b20c0a5e089090c1b533e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/personal-information"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/personal-information/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/personal-information/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e88a9554c9e6c4e8b6574f7e38189dc806a6b4dc1e083f8751687e7794abf240
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/personal-information/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/addresses/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b35f3f4ebb435e81ed32ed2cf871d445ecfb7492a4e1eea4a5970cfbb9503f7c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/addresses/{addressId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/addresses/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/addresses/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e1b2f092f772f865a4c5c1f9884275fe466fd97b9a17aacefefb576f0ec5f7f2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/addresses/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce7f7b1e0c202f7dae83d465fb481ef7270fbef97f49aa1405c803e2a5d9ee45
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/vat"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/vat"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/vat
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e9d7548d9bdbf3b539f946577cda474e05227ec9230c61aed836ce8dae6a106b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/vat"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/ateco"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/ateco"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 558fe2c5ecce0c2c20fb3c422e9c61073dfe9617c88281c89b050f33be018427
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/ateco"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/business/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/business/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9067e2b48556403af5e3402cb371a72ed2021fb1641c7024578aa27f307b793d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/business/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/tax
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 11799b6831c2506f1afaef881a8d33a3fd0e94aa0ff85cf9f28ca8934914b5a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/tax"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/module/tax/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/module/tax/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c68f7da32dcf4a8dee974ceca2109188f772710871edce86bdb3a67013099529
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/module/tax/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/reverification/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                      google_re2: {}
                    substitution: /api/presentation/reverification-process/\1/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 711988f7a55a9adb655de92f89709adaf9ea8c8384eedb4c0bb9a6ca67fc76dc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/reverification/{id:uuid}/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/reverification
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: adrenaline
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/reverification-process/current-flow
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 039553afd37f108a41d74686cf8925e9b167ac0ec3de0eb59bd21c9fd0f0ab07
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reverification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/reports
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: aether
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v1/customer-report
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 45da3c0d8415b987591233af58fe78ec94c35ac3363257739f9bfe1b24ed0ad8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/reports
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/openbanking/institutions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: aspartame
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/institutions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c7187b1ea34c3b9dba203d9c98af404d821c058fe52ba3994a5e5322e62b796
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/openbanking/institutions
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/openbanking/link
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: aspartame
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/link
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 350ddf5f801460ed3083594c3829337cd1dc55e75d1983ac3a5a4270f0beeffe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/openbanking/link
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/openbanking/link/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: aspartame
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/openbanking/link/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/link/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d026c94a864abaf9415498c257d668fa23f1d2f2eac00a78af5b34739713a641
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/openbanking/link/{linkId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/openbanking/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: aspartame
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eaa8d2c9324951d67316bb2df1478432e9e3b5d5ddae1a3275baf4b1bad5b43b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/openbanking/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/openbanking/accounts/([a-zA-Z0-9-_]+)/transactions"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: aspartame
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/openbanking/accounts/([a-zA-Z0-9-_]+)/transactions"
                      google_re2: {}
                    substitution: /api/presentation/accounts/\1/transactions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 34fcb23091ceef3e1c75af03587844f8cc02d787f64cee69acb71bcba460068f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/openbanking/accounts/{accountId}/transactions"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/fee-statement/request-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/request-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a7cf707c1ddbd24aee6eb5c303aa7ddfaaab17d98a5085a0ea3ae87f9088afed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/fee-statement/request-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/fee-statement/export-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/export-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9b34df120ed159c1d94e438e8b6b2554f4cc04b6f9707912a334d74d97566bc2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/fee-statement/export-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/fee-statement/request
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/request
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 44d54ee23c65d39b5765b054240648b9b533ad9356b25752d7d79a518d204a6d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/request
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/fee-statement/export
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: barium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/export
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fd50475652cd04051f0bfb1176b15c15a85aebe998a8e930e414de4d44fdd05a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/export
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/multicurrency/presentation/onboardings
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: boron
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/onboardings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5b5a2f97df9255b448918e9a8a757541155b2261bb8ee844460c88ba48c14037
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/multicurrency/presentation/onboardings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/search
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: bromine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3af382eb739c114df2a95db9b280cbd03e3bfa563c0f195111c8e70cc14c9d8f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/search
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/chat-providers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dad92cada11ed6f8b799d04df605d98248a7fc6476e3f2ee17e30daeba088033
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chat-providers
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/chat-providers/guest
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f848e17e5283080941091ebd35b765b95a39e33bc652f296c76002806996e4a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/chat-providers/guest
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/customer-support-chats
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c59bfeee3d666188555c755a9d3bd46915998a483514fc32c0390982513a80ed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-support-chats
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/customer-support-chats/guest
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6f795ca4fbd38fa7ebf0a010a05c07210af666e0bb7a4c0c9afa1a4b7ca0f7a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/customer-support-chats/guest
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=200,window=60,precision=60,backoff=0"
              - match:
                  path: /api/customer-support-chats/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 09b8520357b4a474eb2de180d5797807d4e735b03b5fcaa929420fcfce8ac441
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-support-chats/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=100,window=60,precision=60,backoff=0"
              - match:
                  prefix: /partners/twilio
                route:
                  cluster: caesium
                  auto_host_rewrite: true
                  prefix_rewrite: /twilio
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5acfb8cd772a2bcae6bc1931035390df3ec1550937698dded6dcf0c585fe201b
              - match:
                  prefix: /api/cash26/barzahlen/notifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(46\\.231\\.176\\.(209|21[0-9]|22[0-2])|80\\.82\\\
                          .206\\.(129|1[3-8][0-9]|190)|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13c07c3488660c56501266fdafa09e3055c9299665c4f943efa9eb84061958bf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/cash26/barzahlen/notifications
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/cash26/barzahlen/notifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 13c07c3488660c56501266fdafa09e3055c9299665c4f943efa9eb84061958bf
              - match:
                  prefix: /api/cash26
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 98975521fcd8011d70f16f84acc65552d5e6f452a825e0e805bd83279a525bd1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/cash26/check
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: de437da1092e30d2ab3701425ab748c15ed887a1800086554e7da5c67b0d6896
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/check
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/transaction/([a-zA-Z0-9-_]+)/barcode"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8855a8d97da80ebec611182a3ff20e93011e254152b9414a1826e8b13a8b182a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/transaction/{transactionId}/barcode"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/resendtan/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cash26/resendtan/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/cash26/resend-certification/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6a87be6253bcbcc41ce279c1350fdd547551f150f24d3144d74b77f687ce3d7a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/resendtan/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bd478c36e4024db188d18d44f67c80585e83744e808f02cb281495b5069e4b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cash26/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: caffeine
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bd478c36e4024db188d18d44f67c80585e83744e808f02cb281495b5069e4b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cash26/{transactionId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/encryption/key
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 81d97a77d6938759193bd2f8d9ffdd052c97808f26d73f306dad5fa05ce69486
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\",\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\",\"THIRD_PARTY_DEDICATED_AISP\"\
                        ,\"THIRD_PARTY_DEDICATED_PISP\",\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      route_path_match: /api/encryption/key
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  path: /api/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ede34aa50dd099d7d3758638a45423219ea95053db62a9b138c794ded3aa6519
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certifications
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89e6fab755b59c331f07a2e77174b0cd1a2d57c6800257cb09133d8ce4a7a941
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: de47ad3ca5e56b76d82e171b0eeb4431b7eaede6414424954d96978da8d328dd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/certifications/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20c8f4f666ae70c710548b141084ee3c6ccc4c9c0468823c22461f003883a3e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/certifications/{certificationId}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=5,precision=5,backoff=0"
              - match:
                  path: /api/pairing/send-code
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ad23abaf8243e8a246de13fa9c51a9f77ac9731107cdab91df94925a4fca338
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/send-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=3600,precision=3600,backoff=0"
              - match:
                  path: /api/pairing/sms-codes
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 48f7c693ae20286013c9d788112271500fe47793915e82f8aeec2c844a7211e9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/sms-codes
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pairing/complete
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ee49d55a5ad416a30006a907e6803a4b3ca0ce54cca8ec495643daa0e8ef518
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/complete
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/repairing/send-code
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ae94c1a6a4e4687fb517a6d7bce86dbb2ca0b263f88059c51119c1cd4466f2b5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/send-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/sms-codes
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4bd5de19dcf03e4f6af8d45356962ca9756e9e5be00bdb2fb46ca12451cd1d03
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/sms-codes
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/sms-codes/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f0d54120aa8a2ecee9ca4f45636458b3da84f55573f53359700c3edec2355adf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing/sms-codes/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/card/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da81868ad3b1cdd5a7cf6806ff47342c39f231ce202205a875036cf1be376de2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/card/{cardToken}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/code/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3e9cea84cce3146af16dff240556961e29470cf996f9d45bb93f09f6918e7a21
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/code/{code}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/cards/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 15d77a513c6824986d562ce59e5dedc036315c765184ec01aeb64093c1a7dd0d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pairing
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d737a81edfcd6b6ebf346146c495de67223a559c8209094eb4d8256d53d720b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/repairing
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d77b1f3eaef432db2ab9e10712b4f257b9b4dcf827eb89c956e1c4f87eda8b6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/repairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/pins
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ee89a6696bcd358f253e410246ce40c741d415c14fbf9f421b32d9cc8b0bdfa1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pins
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/repairing/recovery
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1ce7d697077ad1e1ab4520a06d9a7e700fc41b7192ffe6fc27a76c9c6e1c3e7f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/recovery
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/repairing/verify/recovery/card/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5eed4c40ac299ae4e1ccb2655aea9ce681a13af79f1e5872c9ba357f5f22dcc1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/repairing/verify/recovery/card/{cardToken}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/recovery/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cda0e0093c947c5f02c01e84ed6bcd88f4928707ceba81507289ee2998662a3a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/recovery/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/pin/validation
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b10c04fb1b0c539fa449547d20870eb09a96f21abf9a45203062d137a27a1f0c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/pin/validation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/accounts/resetpin
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/pin/reset
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4605eda059926c03894d073689797b969ed0503d7ac2cf7963f7cd41fcd3384f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts/resetpin
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/accounts/setpin
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/pins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6efc637585bd57a8eec4b2f896570e7b1f170c317076b150e0e8e2f65fb33511
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts/setpin
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/email-links/([a-zA-Z0-9-_]+)/resend"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4d794443740307383379a96647a36505d46505f45e7e163f2c528479f6b77e7c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/email-links/{publicId}/resend"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  safe_regex:
                    regex: "/api/email-links/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 611ad97de12e647689b7a4f5a275d42f02ad9fa550ca033294bb2b6d9573d7fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/email-links/{publicId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/repairing/recovery/email-link/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bedc8505f65b7eb9b1697936d3236229a1ee8a3d1e257351adf0219fc1ae987c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/recovery/email-link/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  prefix: /api/repairing/email-link/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 55844d3f74ec4286eb2e5e7f5d85a84c7c0b7ca96cd8e77df04788f732d88e21
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/email-link/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=3600"
              - match:
                  prefix: /api/repairing/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cerium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 67173019ed771c9521ade73eab5ee424ec17e8626618ef8086de745d8d8aa1ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repairing/initiate
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2806e053651f4dfb9b41f967f8d5b627c440319de9ec21b7d88a2a79b5419d8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 889396094a0d5d538015260a0bd031a1d3caa2acbd35662dc87a27a94488b26a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/international-transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /international-transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c8eb48481ad4f6cc8b8c1927d9d3f22a43e599f887c0fd022408d0a04ce5a790
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/international-transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/account/primary
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5cfee67b904a231e8c13eba4065cf959342fb91f4535d37598604473a36f02cc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/account/primary
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7a13556309b7a056cb68e096ca535c880a8558520931ccefc797044c7a175deb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/balances
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/balances
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2aa0cd2a23cb84aeb5c1acfd096113a231ba58983545a961e71fc5933e125590
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/transfers/balances
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 79549c0537d705f71388d45b190c7f39bcb4b1dbeef4077404d279c6c5444d9b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c8ffecd13655810df6c00956e3d8f73493926722258aeafc193f834115734266
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/sepa/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/sepa/journey
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 39ba32f907c68f34aaa3f77b99102705d355276adfaa055ca39da66018327406
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers/sepa/journey
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/transfers/iban-info/financial-relationship
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/iban-info/financial-relationship
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ab8e14984b3663aa29b51aa7aedfca7bf99f681ac303519a56f2a511696a6f5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers/iban-info/financial-relationship
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers/local-payments/pagopa/verify
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/local-payments/pagopa/verify
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d79660ddc51fce303b5eb0f6c09ad51f1dd0c4710686acfaff62195daa5c79a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/transfers/local-payments/pagopa/verify
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transfers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 541cfa2e7cd4677e58c9091d82ed7cde6d4d461e622a401bd18fdc2c60328e43
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f20e21f0ca25f2d16e325d29bb4f44061cc67832434ae6de0c5dfba8c369d93d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f1b7df29677047095f1546aa606993145e588be11203146f5133f769efbcae72
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7de61bb352f93231ad0844bb20fc34a11997cb605bba29c9a70913f55bf5a3fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2b61312d89e015d740b1a98beae160ac9f52a8686dd7c2bbe80f130fa1b174d2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9287e23259d8ab0b1858e6cdf90623fb45acfaa91fd823ca0db6c1151d9c6f06
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a210128892d6390498dc52b9c397025a2007e96fe708ed94ca862a2a5171f605
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/certified/recurring-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 14063a8e4feee6d0a7f85d5fff5f8d506d3c07e82d642819ec3aaddb61d3aea3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/certified/recurring-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e40874a35e8aab35f52a4780b72d473e00494526424d7ee2e8e83b0a29174293
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fda2ac550fb375d5a8396cacb84cafe642ff654a966c5b8eedf1a58d9015be5d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ac78d40eec6a864fb5fec96d3ce29e8fae0779a693afa9eb6f736d1638416e6c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/rules/dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/recurring-payments/spaces
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 01dbd7b470bc434f47bd53757c5bd8069fdd181b0f080b2d36ed40073696d0ea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/rules/dashboard
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/aggregation/split-bill/limits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /aggregation/split-bill/limits
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 87da663c4df18555ccf16e742c7d0f74396cea1b1908550008396cdbd45c323a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/split-bill/limits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/split-bill
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /split-bill
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33a4423956360b13db9acc15f9419261a0d06be9b1adbce57f66e07565131b79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/split-bill
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/aggregation/split-bill/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /aggregation/split-bill/config
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2418473e5122db77c5f82b0c7f4a942e3e7e91a827e9c210907bdafd262d28a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/split-bill/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/iban
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/iban-info
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ad659da1b4cd48bdb85354279ac90bb423ffbd9f32d3209adb4f13cc9a8c7330
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/iban
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ac64ec75a125dd349a6e2bcc1772d2cf24029079ace75cb0f3a1c4d7e5755a6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/bizum/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c0446c627024e09a308f273a484d586f27376ead94994a8556c5a1eb8ea94582
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/payments/verified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8f9686af314195c3ee5bbc4962a7580bfc9089c4a05d0703a6885b9bc9c20f50
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/payments/verified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/requests-to-pay/incoming
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 28afa7b201b27a849b1a6d39cad580cf3e3490347eddf659fb0d95fbf7cbe61d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/requests-to-pay/incoming
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1977eda1866f4dbe41dff05a647334afcf1a2b06ee180f3ce42624d4c5b87ac6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 78ef7bfbd57480b58c47f4a5e48a2e9cd6e3c2e4acdec088cd925df3b8ecc958
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/bizum/requests-to-pay/incoming/verified
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/v2/bizum/requests-to-pay/incoming
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 780b0f94b611161b0b3ceaa7c421be405d5f429fbfee6fc19529356db5c26802
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/bizum/requests-to-pay/incoming/verified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum/signup/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fe1d0dab8352dd0e11f9bfe9595b13af0c35bf400ac90ba96ea84113f7a14dd0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=90,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/signup/portability
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/portability
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 55c77e058d66673f35be410f31fe2f518dea12be200117243d0918948e7a4a00
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/portability
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/signup/portability
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup/portability
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b52a6fe1949b48d9ff3b655847eb50be1803c24cec1c7b229c9945e194b9835a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup/portability
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d65cf2ec2bde4d34409d80536048bc74a6087626162255e21a1e8aabea5a542a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=200,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/valid
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/valid
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d13bc0b608503ec8c3659c37ef7d23b7dc7568f8be20a67d387401ca48ef9506
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/valid
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=500,window=86400,precision=86400,backoff=0"
              - match:
                  path: /api/bizum/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/signup
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a94cc8bd268d6e70ee5f2d1e6785d5fdf056c5c85895bebd81070b6a5ff6a52
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/bizum/deactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum/deactivate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ca38ab2a99c647a9aea602b656c86860bf7b6a39b795f8fcbb60447b7038c304
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum/deactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb88168df1fc1a4e9858a1d07df4ea2468a150cbcd9c7d32dcaa5e7b49c48913
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 35217d2ef53fd03857551563d7c12ab85778bfbfd487ab8f441b21a8f7070888
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c07b67d71f55b8a522c78c8056ed8fbc3e13819effdff6ecc605429662c31be
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/bizum
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfers/bizum
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 80fcf7615902c10785bd52a449c776c06781c60900f3720d97d604fe90870d1a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/bizum
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /financial-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e109b778bda819b063f893fe1c64be0f29ad06896a474535f4a859ac5789053b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /financial-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cffc4b3f94c43e14727ad20adf0f2c5febf2289024b0da02430a33198741baa8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/eligible-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /eligible-relationships
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce752886aa97b8b60ecc39255f42a5ad5f8004cd8912807357ec7d87cc0631f0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/eligible-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/customercare/threshold/check
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /customercare/threshold/check
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f90466fef376f8c287a66e62b0d3f99aa7315f8c9282fc72bd02abb876b81bac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customercare/threshold/check
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/donations
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /donations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 49d06e7baedff622a9887085e6ce1c6045a1f16b3665a612532c91d7fad79085
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/donations
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cd826d1a3ed72435a87faae9731e0c15fb6e9f367461ded30d92da94901e693d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/direct-debit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 792adb6eca8b2bf12fdef47f8d6cc1405e25e2c4af48a62766c9c64772b560ec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/direct-debit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/standing-order
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 81bc66841250534354d03c583ba9c7cda23141881465798b355b99e284c5b158
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/standing-order
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/automation-hub
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c3e33cbd93a75138b1d6cf521a64eb3d9167632f30bdc0eb78dc11372e368c58
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/automation-hub
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/automations/spaces-rules/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb8f2f83281c615a91b41b66c06abc180dcceb7e3d37043c0c510dcb6623f97f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/automations/spaces-rules/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/scheduled-payments/upcoming-payments
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 10954419bc4dea0a79ada4da110f559c2d9423a004fef35ad72669154ac5f602
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/scheduled-payments/upcoming-payments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/payment-methods
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/payment-methods
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f7dfbde7710649357e503545b471fce5ed40cc0a0559e0b0401b6e1b0e334496
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/payment-methods
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/directory
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a007fac8d64f4509237cd969f1c9c95a4e8e604a0444d6522994334adfb425a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contacts/directory/attributes/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contacts/directory/attributes/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /contacts/directory/attributes/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 99c56364d972505d7e29f3cf18f52122f31b2645a4c65661200198d8114e0485
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contacts/directory/attributes/{id}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=9,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/contacts/directory/sync
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory/sync
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2b21433b0a58c48acb08f9cc8ea61fd6fcc3886c61c35fd39b5d49d5c60f913
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory/sync
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/contacts/directory/partial-sync
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contacts/directory/partial-sync
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e1c7cc5f9fac99f9dfef9fc76d66ffda2b5bc8f6acac50e94c25fb153ee1b235
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contacts/directory/partial-sync
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=99,window=14400,precision=14400,backoff=0"
              - match:
                  prefix: /api/moneybeam
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 99667de4559b2e05cb08df0c10094ec4645d917dde3d1dfac21fabe53c581339
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/moneybeam
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/([a-zA-Z0-9-_]+)/cancellation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dd77c8ac59a0f1de402fb0abfe946af1964c0580f880a0f38aab7c1222fee4f1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}/cancellation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/aggregation/moneybeam/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 522c37c3b9958a3fa6ab69c511cb9d1e65a2d11aad09ee1bfd5c2affe7e793ce
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/moneybeam/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/moneybeam/send
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 707e1ff3a886912cbec7bd7c482b77f019a4dfaa23b8d7db1e83f0ea30dee3e4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/moneybeam/send
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/moneybeam/send/verified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/moneybeam/send
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 20ee1582855556b2ac70eec1a1162101e66bd062214ebfc8a4fcd5423f1c5a4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/moneybeam/send/verified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/transfer/inner/config
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfer/internal/config
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1c6e4ee53ea5385f236d9d449d19c0c2a42915172ac54819794f66950d9ec5b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfer/inner/config
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/transfer/inner/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /transfer/internal/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c2d3f3ed5e5c747ceba3673b47cc939b8fe0e5fb76ce25c31f67e27908a7732
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transfer/inner/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/ideal/payments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f9ef22d1b8b1cca850c16ead23a1a644342a1e23a565cecfb520a931aecc38a0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/ideal/payments
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-useraccount-legalentity
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-useraccount-legalentity
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/ideal/payments/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d6542bb3d80595c49b9ab599efc9cf8ef80fa8fa84215569db360d3a58f2e462
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/ideal/payments/{paymentId:uuid}/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/ideal/payments/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: charizard
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66ae2379555d9dd014bceae2be643f408976a91f4f31970e6c22c0d8f208b055
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/ideal/payments/{paymentId:uuid}/cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /presentation/flows/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2f9f37cfeff1a95e325e81e7d4ed6f85327c0e51048138281460990212266cc2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/contract
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 139f4b3bb3f7db436da50c96c10d88cc5b0f277e2b1b6f3c1a5f2184c6c9b482
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dc6277c1bfe31f014aadfc4f2328cf1b7e459bbaff50c06710be6c64cd482760
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /contracts/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3a91400352bf06b9e7e6e1ba6e5c3921c550ff2c988c3dd1b9d01c311b05275
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/{contractId:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/contracts/download
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/contract/download
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9e05f2271d958890dccbcbb82510f6feb0f5ee77f88d7b94bb20a49535c532fc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/contracts/download
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation/legal-documents
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts/presentation/legal-documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8e9b753a2aafa49d9f0a99ddfa25c223ea251b15cf955d3d178128aaa3c76e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation/legal-documents
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/legal-documents/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/legal-documents/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})"
                      google_re2: {}
                    substitution: /contracts/presentation/legal-documents/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 233ba9225c10691b82dd3e263c1021d3710716b73a6be9ad8c6e7309dc942881
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/legal-documents/{id:uuid}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/presentation/device-not-paired
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/flows/device-not-paired
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc01d29472a414a3f1451b96f07f71d7cceedcfaa0caf81b155c02a1d8595f37
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/presentation/device-not-paired
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/contracts/reset-pairing-and-kyc
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/flows/reset-pairing-and-kyc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d89ca922af35e0baf8d6a3bf3300a3c505697d4958fe2ff0dd19674f25de148d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/reset-pairing-and-kyc
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                      google_re2: {}
                    substitution: /presentation/acceptance/\1/contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a12ed67d384895c37c4de417f7f6d38bea6b583d8859634b7d6f0543599d9c12
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/acceptance/{flowType}/contracts"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/acceptance/([a-zA-Z0-9-_]+)/contracts"
                      google_re2: {}
                    substitution: /presentation/acceptance/\1/contracts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4c6e05850908a22356d6e57117026c965911da0ab708a6155c9b5cdec0c5850
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/acceptance/{flowType}/contracts"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/send-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/send-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/send-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 92a3dfd295241b260403c1c72accc0932d95366ea7bcfbd9ca3d1f0e9e80cf07
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/send-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/confirm-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/confirm-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2dcabd48f9fd112d8cb4fde3dbac1ea40a536230a99ba025d58bc3d5f341d874
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/confirm-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/resend-otp"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/resend-otp"
                      google_re2: {}
                    substitution: /presentation/flows/\1/resend-otp
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 001aeffdfe6036eebd7960e9141dd54677d6caa104ac86574cd7086f0dc14f7a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/contracts/presentation/flows/{flowId:uuid}/resend-otp"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/contracts/presentation/contract-flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/full-screen"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: chronoton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/contracts/presentation/contract-flows/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/full-screen"
                      google_re2: {}
                    substitution: /presentation/flows/\1/fullscreen
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b765fa1e1ae9c6523e611a32015251ecf741840f6a17171cba618c7214ff586
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/contracts/presentation/contract-flows/{flowId:uuid}/full-screen"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/pairing/restart
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 40e53a0830c08c9be1fd94ec9d3253735716b428b0c06be6ec66ed47f9b6793c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/pairing/restart
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/email
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/email
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aad4739a06a9112af237d0bfd417c6c3c9d619015849814e4088b5a5d68424d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/email
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/phone
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/phone
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c28d1fb5cbec08057ce7158a06e02d384a94bbbeaeb7c67dd35d8fb62c87ad1c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/phone
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/validations/all
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signup/validations/all
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 84bcf090358b384fdeafb06fa59305f69e54b0d2e57ebe9dfd2c164d7905b75e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/validations/all
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/v2
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bb96ba121a6bbe0f706688bc3c334c57a31c9d4f46f4bfb9fc337978708ba8b0
              - match:
                  path: /api/signups/account-purposes
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/account-purposes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ae74f294d8f6410968ae1a1244b9b20be0999a26c5661c37899a5fabb60f0493
              - match:
                  path: /api/signups/occupations
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/occupations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 41ff04bb386e272300743c53e606315d92774463c54b3976723d48894e3960be
              - match:
                  path: /api/signups/industries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/industries
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e233cf239d34b04b5a159b3beac780645f1a666cd03e50d6e8b9f095dfc831cb
              - match:
                  path: /api/signups/regions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/regions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 74a0ecf5013e0d8d76f2f6e9bd4f8288f8285857ae9da8ca308ebddd8c27b24e
              - match:
                  path: /api/signups/employment-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/employment-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 866c3bfbe100799349a044225eb9b3be16d4958b8924f8cccba3fd7484f4f214
              - match:
                  path: /api/signups/income-sources
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/income-sources
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb0892710b12d66589cad2af1742ddfa3386969cd26c196fd6f4a9cb3f2b4451
              - match:
                  path: /api/signups/income-ranges
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/income-ranges
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4cc75177cb99922a3f63391f03cdf02879141bfd3fe505602f6c923bec606026
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/income-ranges
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/funds-origins
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/funds-origins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 951e633159db02fc514c3ae58a07628cf6e2f14bb21f007c86f52b695671943d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/funds-origins
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/total-wealth
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/total-wealth
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7490a260b42bd7bb4604356f166f8f74863dd0699e9b1a6429d64f02f5572620
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/total-wealth
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/determine-legal-entity
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c164ef8cf1a3eb2e1e73c6d91c581c4a2caed9819c79ac419b888b29c25398df
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/determine-legal-entity
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/resend-user-confirmation-email
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9da81c9517cdced28b7ee222c299d89efe0bb19e4d50e9687d0b98c704a1dcd9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/resend-user-confirmation-email
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/shadow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 54d0c6daaa8fb6eff46af4a93cb4b6337a2c58b70858c13a145837558c8d1526
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/shadow
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/shadow
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f42e1f8250528c7163fba4d647e86d516b7d89026e185d758548313f849e02fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/shadow
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ae64289de3b020b01b9db0292de9ecf33015ffc2b83b848f4e98f01082a0314b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3466eeb096e4ec2d1b65d8c54ea62714e73580dc4d50da901b1f76ed424064c1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/aggregated
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1835b67c368f292e9f69f91f38359fea7ffb327242a0d8416d3b8762f388f2bd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/aggregated
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/phone-pairing/details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7cb08a0f5147951d7b270da3270f89b69df27c588e2dc1ab144c7dd856624a67
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/phone-pairing/details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/phone-number
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1b95780376f57f4171b0bd638b26d5715b62275f30a13cecb9f0c2cfdf3dc6d2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/phone-number
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/users/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c270d23781d5fca32cf40570e964f4fead411c0e1685f1f8ac3663a5024aa39e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/users/signup
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/addresses
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /addresses/paged
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3f61858507f753289a909fb1951019bd24e8223efedde9bb8ef881d011bd9638
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/addresses
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/addresses
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /addresses
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e89ffeb151d0b524836867c441d052ace399ce1885be921ef84a7e1be5a74516
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/addresses
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/addresses/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/v2/addresses/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /addresses/\1
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a9ad7eec00f9564cfaa5a2cdfe0e5957b634e72e6060e921d0da43c3bf94353f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/addresses/{addressId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/forgot
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/forgot
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cd8961190d60df2fccaa54a2729160c43ffcca1b6eff56c66cb42bbaf8f2d764
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/me/password/forgot
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/:validate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/validate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e920457bdd3c198c30efbd15a9fe1d86145a0be07fb3c88edfe6dd24f4625ec6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/me/password/:validate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/me/password/change
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/update
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8765fb4b8b37e60275b8ffb7598c19b1e71576875d3a6f8d2f8e85d5dd45a199
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/me/password/change
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/password/reset
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /passwords/reset
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da8fc9bfb163453340a26e99d1c84f8984b597907daa89ebefd6482f1213a431
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/actions/password/reset
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=20,window=3600,precision=3600,backoff=0"
              - match:
                  prefix: /api/actions/downloadAppMessage/send
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fd0ba6035d75cac87b2b996604d72688de9e33b83b4e241418fb84941d2cd1d9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/actions/downloadAppMessage/send
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/users/\1/emails/codes/\2/:verify
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 46f569cbcd1f653af195ef6986749a8540aa0d5c32d99e9d1b41a809611de2c2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/email/validate/{userId}/{code}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/email/validate/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/users/\1/emails/codes/\2/:verify
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7bb0783861bc8568dcf7761505004cd5fc0cbffe49f9a927e95f820dc2a213eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/email/validate/{userId}/{code}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ps/email/resendvalidation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/resend-confirmation-email
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2d274c92b6bddde7a873c8c630c27be112d2337776c48e908d4fef24efb426e1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/email/resendvalidation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ref
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/waitinglists
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 787d7adf56837f5d7ca254f997fdf6b0729eb092b3573634e0458ad1d95b23b9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/ref
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/waitinglist/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/waitinglist/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e59b3c6d97561cc556b46455d8b60235f9618797e9ab914033dae4323c5f1605
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/waitinglist/confirm/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/actions/waitinglist/unsubscribe/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/actions/waitinglist/unsubscribe/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/unsubscribe/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e95aeebbb7a25aacda84b3f2e6da9c07a79402def8ffd23f18eb0e46750b323d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/actions/waitinglist/unsubscribe/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ae1172905f284c544228a54a4000a80a26214d199b5dd55ffc88f27ec13fec87
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23e61b271be85e9a93d54919bb0ea3612009d5330dba63cd2c74e5a1384da3e8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/settings/custom
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5659c3d71938eff3b928a4d983168ebea7824794b16a6f55b847475e0b7fd38b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/settings/custom
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c5766189ffbd3b923a85823a33faa0bf781dfa5524e0e0ae9654abc410c04dcd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e40becb6ff84e2285afeaf0aff39190c1f5b38c031c4687fd1ab0a6ea7788f1f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/contacts
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/contacts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb2211ed741370a3c427c0f3035a3751add5db78ad3710881d4c9c11bd1e91b9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/contacts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/countries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  prefix_rewrite: /api/countries
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b6bdd86c648ba0e302d98cd86dd4b459e4e16c93c71ca566257409a0dfbac8cd
              - match:
                  path: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c0f138ec943bf66336f20870f324be43dcc0945457700f3d29e5239a2a3ecdc6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a7a0cf9ec4b770f88732a875c499481cda697a77ccdae029add475c213c1faea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/taxes/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/taxes/taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0aca6417b9d0f8d52ea74e9006def4342be3477c9ad2997e9c54c3d5bca3275b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/smrt/taxes/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/taxInformation
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /taxInformation
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4f921f7a60eee5a5d8f382b4c961174e7ee98387e956b45847e1d864af66e374
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/taxInformation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e57931e91470ceb5f8f26d131be4ebdb2c0c5eba0d14e6a428824ff613f4e50b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/prospects/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 409fc5675c719d5b8e1c1f538ddc221e5509981eb205b7baadc92cb953214ca6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/prospects/ateco
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/ateco
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d78ac28a4ecfeeff169b617cbdf1a122870d015740ac8487e58ee4882d15ec2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/ateco
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/prospects/vatnumbers
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /prospects/vatnumbers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9337e392ce3f88b89763f5d440185335ee441034206c7ff41156be6f0413deff
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/prospects/vatnumbers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/prospects/vatnumbers/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cmd
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/prospects/vatnumbers/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /prospects/vatnumbers/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a049b66f2704e345351597184c2abdf716a2515751c7a7579a3ffc8e963b9ab4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/prospects/vatnumbers/{country}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/users/qr-code
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cobalt
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8731002ca9dad78fa21af835bba8c8c2895961fd2bffd97bbf95b25904bfa403
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/qr-code
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/credit/v1/
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fea853f30041754289a6268daa99d5496bf987d95428db4bb8b0f098fe228ec0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/credit/v1/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /consumercredit/test-resources/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  prefix_rewrite: /test-resources/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2d41085280b301c889091f9c1288ca21bb0c43cc3fdfcd6981ab0380fa8da691
              - match:
                  path: /consumercredit/flow/questionnaire/payload
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit/flow/questionnaire/payload
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 41ece10e43494c327ff338f047c3ea5da7f09e109628ee22d1977dd030586d25
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /consumercredit/flow/questionnaire/payload
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/hub/credit/auxmoney/webhook
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  prefix_rewrite: /hub/credit/auxmoney/webhook
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4a1e43b24735809a10226b8d22cbecc0daaba1b00c5571e6f239c37e7b090741
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a9c5781887b3aa685f0bbbedced827797b918403c3bc46e0a11d94a456463daa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 57644a1d606f15d6942652ac4213e8d98a7ca90f98e17250bc7617ea0e364a06
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4aa40837b582dea4c9f98d9b569936eb8b8fe2d122f39aa8dca71caa08d95810
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/credit
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: consumercredit
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/credit
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c328b0d8da3199c9af3d5c33b5e9090aa6dfa0d8920ea1f682cb021b3519f79b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/credit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/crypto/buy
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cryptonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /crypto/buy
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1f82d26175e349d51aebf525fd812a160a4b82fe9d6d58a0938f0089be981a0f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/crypto/buy
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/crypto/sell
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: cryptonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /crypto/sell
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aa3daabab375be5c701ab3360e79ec484e01b34e8a08f3265f5b3874a01c0916
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/crypto/sell
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/crypto/balance
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cryptonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /crypto/balance
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8afacc1885d8527cf0b9471afaeaddca916fc168c942e77519668ab17f69ef3f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/crypto/balance
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/crypto/txs
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cryptonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /crypto/txs
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 19bfce01f5d148f2a40d8c4ec479076a53789468dfdb0e568b93e29c13f46b78
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/crypto/txs
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/crypto/price
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: cryptonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /crypto/price
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 906bf4fe56295132455e35f4e12db1347f02a4e6b2464502ce77f6104adffb62
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/crypto/price
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/expiring-card/([a-zA-Z0-9-_]+)/reorder"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: curium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b2aa0ae1bd893ac8e1e5bba6364938971a7a0aefdf22e84b36e407aab567dbdd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/expiring-card/{cardId}/reorder"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/savings/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/signup
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d6e00dca5140393395676263c2163f5553c57935929c80d4ec019268d17924f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/signup
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/savings/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/signup
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5fd1561d804c5d78d18ca68a7898df9ebcf49aa7cd24d8137d5f010630bde641
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/signup
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/savings/contract
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diamond
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/savings/contract
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2609df743fcc05628f075849c5ea750121da9822098f1fc9490e5ef5cd880b43
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/savings/contract
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0feab604607533ddbd45723db86f028be88b2c60e9b7f4d2bdf5c39fd953c91a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8149b56ebc18d712286e74daa906062f0e2dfc5eda669df671a0ddd69d774add
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1342ea4ab0bcd1a3a6efc49a4d3b6bacd43fe292ee75f2359f5c4f31b5b0395d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/settings"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/settings"
                      google_re2: {}
                    substitution: /api/cards/\1/settings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 652ffe9178c486180b04f25e870156273f9275387cf47f0adcd044b4bc9e833b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/settings"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/card_settings/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/card_settings/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/cards/\1/settings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a56ade5115a6ce5d05063959314962350656db0bf316bd9826383b2d7accab5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/card_settings/{cardId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/confirm-address
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 382ecd13d99877dc041d14e7e4dd202ad704196c7a1537966dafb4e5ba239e89
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/confirm-address
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cash26/stores/within_bounds
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d4cf44fbb5787147f2919dee882739d9cba5f0edf582640de6b0cd73d8f7f69
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/stores/within_bounds
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cash26/balance
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 39049687c8801c3f2526ee4e05389d12e6e761573655bbbe49c113e11c2b4946
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cash26/balance
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards4spaces/([a-zA-Z0-9-_]+)/space-selection"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 836fc82e35da9f0b397210b8d32f2835585ff440f1069637d7291d517374f72b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards4spaces/{cardId}/space-selection"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards4spaces/([a-zA-Z0-9-_]+)/card-selection"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c3f41865c0e4dc84f7e756dd5dd4ca998a6d309d81b6d7eb7916ad170ee98e4b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards4spaces/{accountId}/card-selection"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/cards/([a-zA-Z0-9-_]+)/flags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2973dc041322f4d0a007d543235b57c54ddfd4fb58e9a73578ba07eb448364ba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/cards/{cardId}/flags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cards4spaces/tncs
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ba562064d6a0ecb6634f7c9c7efba67875b2e23ef4bb4cf4aa6029162345143
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards4spaces/tncs
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5f6e4709b4a7a87913d579ab07263d2e21f57177002ebff76183c37f92fd1a90
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/set"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 59b7a213158440aa0de50783577fc5d408c643f7207e6ac186ddc81a2aae195e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/set"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/set/secured"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/set/secured"
                      google_re2: {}
                    substitution: /api/cards/\1/limits/monthly-limit/set
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5228287fc9ff840237cb8b3a8803820f825d34d230a6669b6197507c7b1884b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/set/secured"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/disable"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d12971419aa6622f4fb98c8bea8e3c239258eb031119e51f831bcf867026c68
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/disable"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/disable/secured"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: diglett
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/monthly-limit/disable/secured"
                      google_re2: {}
                    substitution: /api/cards/\1/limits/monthly-limit/disable
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e6cba31c986772fd927318337a28375e6aedb0386234b9b2242262110e83e091
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/limits/monthly-limit/disable/secured"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/myaccount/home/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/myaccount/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: de7654a6f755e247ef9c8d158acccdc23b9ac018c37038958a1bf2318f643941
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/myaccount/home/mobile
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/myaccount/home/web
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/myaccount/web
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66e77075a3d44645b215c6f979096e27ec0a32824118c6f30a1e82fc7bfcc876
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/myaccount/home/web
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/statements-presentation
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/balance-statements
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fc145efb3c6b864972d2de95ab64cadfc33b035a45a424981106646acb80b98d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements-presentation
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/statements-presentation/web
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/balance-statements/web
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fdec2467bc0418d1b8618a2dff591734a7c0d003456086b524302e9685ccbf00
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements-presentation/web
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/statements-presentation/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/statements-presentation/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/balance-statements/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 953be77ef13ce4bb37035f4b4d5af9166b8e13b54140ec464e8b7b11e6c9b3a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/statements-presentation/{accountId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/myaccount/account-details/([a-zA-Z0-9-_]+)/mobile"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/myaccount/account-details/([a-zA-Z0-9-_]+)/mobile"
                      google_re2: {}
                    substitution: /api/presentation/myaccount/account-details/\1/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4711b91172ead95af4a057ec6aa9f84556e73c349617b8d99787f521917fc2f9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/myaccount/account-details/{accountId}/mobile"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/v2/myaccount/home/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: ditto
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/presentation/myaccount/mobile
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4750c37ffa94e325bbf1f0eb334869c912d32990916e825a6293172b24f5b284
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/myaccount/home/mobile
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/checkrisk
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/checkrisk
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4feedda09f7aabdafe3454b634d4abc7ac977fcf8bf472b492a24773dbb50b9a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/checkrisk
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/checkrisk
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4feedda09f7aabdafe3454b634d4abc7ac977fcf8bf472b492a24773dbb50b9a
              - match:
                  prefix: /api/v2/securetransactions/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/challenge
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 12d37231a22ff9d45c9d5a90e7d33cb2d9e6fe8afc1fc4aa335959eb61f05e53
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/challenge
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 12d37231a22ff9d45c9d5a90e7d33cb2d9e6fe8afc1fc4aa335959eb61f05e53
              - match:
                  prefix: /api/v2/securetransactions/cancel
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1f1cf249420d8cd14df4a9f175d6b572d8b166bdabc71806e5c2440f6b3508ec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/cancel
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/cancel
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1f1cf249420d8cd14df4a9f175d6b572d8b166bdabc71806e5c2440f6b3508ec
              - match:
                  prefix: /api/v2/securetransactions/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/ping
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b57d5b7e7c97d198679cbb9655df107aee2517735053cdc700c36adde703eea8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/ping
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/securetransactions/ping
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b57d5b7e7c97d198679cbb9655df107aee2517735053cdc700c36adde703eea8
              - match:
                  path: /api/v2/securetransactions/transaction-notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: dubnium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/securetransactions/notification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6be83ca0f4cde29b919aa53d762367a3eca5283d6a1308096a335a044e08fffb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/securetransactions/transaction-notification
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=15,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/securetransactions/transaction-notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6be83ca0f4cde29b919aa53d762367a3eca5283d6a1308096a335a044e08fffb
              - match:
                  path: /api/v4/credit-score/provider/tnc
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/tnc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 081b6ae1e828dbd88f36a60da383feb6787018f5eb5e4afbd4e987fc6f82eea9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/credit-score/provider/tnc
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/overdraft/terms
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/tnc
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e904e7ff81c21c1e8cfd69b7dffd9f49c4b76009e414a61251169f6928dfe92e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/overdraft/terms
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v4/credit-score/provider/consent
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: einsteinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/credit-score/provider/consent
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9e739231f483e34806f1e0c8051741204196a510e8e2ef8445ae8650af3024e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/credit-score/provider/consent
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/accounts
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 17effabe3d4400419f3f8a40b95b8e9ff04b14994f9b3563a5091bb86c39107f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_AISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/consents/confirmation-of-funds
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/consents/confirmation-of-funds
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 771ae9e1375b316cab2fd84d294d4eee26d9c82e58d00dd960f65a4fc65b3ed7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c139795bdafe50c5df652bf91312d056cd3bc250685aed522eb1df07872314c3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_AISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 31d99452a792f3f48f27645325587154892caec3089640297dda3ab355975e45
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/periodic-payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/periodic-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a550f5afbc1cba4a3e3903dacb716ab80dad76c05066cc10a2f578dfa667eee5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/v1/berlin-group/v1/funds-confirmations
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /v1/berlin-group/v1/funds-confirmations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 082f3d53465827ffb05982faefc3f5a07df5eaa2598b681490f5fde2d8a6a911
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /xs2a/api/sandbox/alive
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/alive
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3777466e142f76e708f3935e359b439b0083b1d882b2380217bbe57c6997490
              - match:
                  prefix: /xs2a/api/sandbox/oauth2
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/oauth2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b492c55d49e84d887f1225d8e98aaf18008ec4decac45818adce21445992bde3
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/accounts
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 676084d9b4c7501a643a7d955cdcea01fc0bb972e5819410a8f1b1383ce17327
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/consents/confirmation-of-funds
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/consents/confirmation-of-funds
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 509cafeb0be644fd2ae1c319ed3b9bd410dd47b2d7efc594e02ee8b459055a8f
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a0167d4841de2950d792aa584fe2b42fe45e8c15b7f62f0215f9de0bf303f16e
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 619d7c14ccf171e2a2437986a262de647b11fbcba5f17c768697c72a2e0e9c18
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/periodic-payments
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/periodic-payments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 52905e04602522b93d6f0863186864eb99b8876814b11f24554c53890b5cfa5d
              - match:
                  prefix: /xs2a/api/sandbox/psu-interaction/confirmation-of-funds-consents
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/psu-interaction/confirmation-of-funds-consents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6df10b3a7fa1417563e12896db4a20a3e52efadbdefaba99a72d8737c62d072a
              - match:
                  prefix: /xs2a/api/sandbox/psu-interaction
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/psu-interaction
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e9b8c8154e2f222f00f88f1ca8259ac4dcd76b5cec976674bff3e522dd4c092
              - match:
                  prefix: /xs2a/api/sandbox/v1/berlin-group/v1/funds-confirmations
                route:
                  cluster: flerovium
                  auto_host_rewrite: true
                  prefix_rewrite: /sandbox/v1/berlin-group/v1/funds-confirmations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2cb06e2550ea3341a13809b068bfd9b391403734e97025938da576642015b421
              - match:
                  path: /api/personal-data/user/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/user/eligibility
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b8765cd3a182fb3ec9f90222de3a8fbc9ccd6d769cbfd57af22ee8fa4a08f68
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/user/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/phonenumber
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d8964c7170934912a12bbf95f0faf29a973a88eb0d310110b8fdbcb1f4c9415
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/phonenumber/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber/eligibility
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66e2ed198e36bbffb569f50de05fed967487f376762a412ffe033e5f14aef2b6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber/eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/personal-data/phonenumber/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/phonenumber/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bcf324ba044fb1dd8400ffd1648259794d74c2b97af01ff5a8b58edb904e0f75
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/phonenumber/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/notification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/notification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 43cb749428e1c71fca46de8b70981a52b4fe1583a80828611137c2f5b23d70de
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/notification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  path: /api/personal-data/email-address/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/email-address/verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3ec2020cea26293eb9c642cda04058cb02364c571c4b57d7651d758d4838bb4e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/personal-data/email-address/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/email-address/verification/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 807a2c6557cc7ec40fe287f68c87db140961cdb589bdde09428df7aeb213071a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/personal-data/email-address/verification/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: fluorium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/personal-data/email-address/verification/([a-zA-Z0-9-_]+)/cancel"
                      google_re2: {}
                    substitution: /api/email-address/verification/\1/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e9aa0c3f04914482feb440c637e499d1cff01871bf34cd759d918f7d76474d7c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/personal-data/email-address/verification/{verificationId}/cancel"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a94e63715e6b7467adc970dc786a9701dd4e310fab50f4f213d6341730d5fa28
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bbc189aba24afe68618f2ea4a5b672ff8a221f1a4815a58105a183767d507f01
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/chargeback/requests
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/api/v1/chargeback-requests
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 258a47b23f782212dcbd05501b2334a0f4d7e18926a1ceff139444b1ee448277
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/chargeback/requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/file-upload
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2589bb1bc733219ef2ea878796749d592f13aa83aac3f7024d1e3bc208eb9a79
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/file-upload
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/public/api/v1/file-upload/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da58e217779cf56605aa30e54f2411c39dabc5d0cca938e06584961cbbbec789
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/public/api/v1/file-upload/{id}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/public/api/v1/file-upload/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cdb4489e1e7cbb8ec4c6786592bc113635f0a26b0622579b379f40a82c7c1c56
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/public/api/v1/file-upload/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/transactions/disputable
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eefc21abf78469ac98adfe17c1b785571dc18f6244e5eafde4b7c32d1b6299fa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/transactions/disputable
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 62b3d77d34abda800bc2b999d9ba8404347eff902d484714e9b615f161607a36
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d163a8910826ccdf3574c44a72316f96c8d2224e77040bfdf1474e676dfcadba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /public/api/v1/chargeback-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: gadolinium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c2ca25a42b178aa2abeb49b1a7eaeb50c09889340511fd8d16cf0f87dee5ded5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /public/api/v1/chargeback-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/feed/widget
                route:
                  cluster: holmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 96c7a63e33ccbb567d8758a44601e8c04eed3057d382c71f38203500df213c4e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/feed/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/feed/
                route:
                  cluster: holmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c77a048406f247e18ac8b157c05e988fedd2641375023c55a1674086929102c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/feed/
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=200,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/token/validate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f1abfe3244db425854a5bdf6116b2d1bacd50d52546eb637e45e5cb8ba116285
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/token/validate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/pin"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1495a9b997fca423c23a5b37ff152d02fe4336602566e8bc0ccaef2c607a8786
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/pin"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a33ca23b1f537177d8fa4ca6893e4baf5635966a815daded2e879090572215e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/flags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 578998e50b66d87435418a1607d353a957328c54fc2448e0e4a7590259520318
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/flags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/flags/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f8861d21a62b30d948c9be03918cb3c9ead43cbf4c312fd31a8f3bdfa64afd88
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/flags/{key}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7f25baebe346c6385a4b1aba527750383744a306c18f3159be9c58668454918d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/limits"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/limits/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 183d5bd7ea949ca099f182bd992ace01686a22d2583b72c22d1223c655d9e0e0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/cards/{cardId}/limits/{key}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)/get-details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 852b95874e40afdf4c89a480792ad6396f90c92eae54b0dda68df5f4d7caed31
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}/get-details"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/cards/name/generate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  prefix_rewrite: /api/cards/preference/embossed-name/generate
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89142bd645e2a55079c09a94444f65a815d65b1e51c630a0764752f571703bf0
              - match:
                  path: /api/presentation/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 04471440b8ed2f8572e532cef8067d742b9e6fab191838c3cd5896cc65f4c756
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/presentation/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/presentation/cards/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c6e4951251e2b77f388c753d053d3f735e036c4047e69a481b5c484f732f6701
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/presentation/cards/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2c13c4078a3fceb18e4dd0f46a8d74e6f2e4321b741fe648cec7c748ed4c42b7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PATCH
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d5ec7bef79f42af2c852d0fad0830075578df4dfa3040836f8156524a8ee03d3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/presentation/cards/([a-zA-Z0-9-_]+)/get-pin"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 433cdce1846be20ea4b12ac2eb715e25a3b330ec854a0d56432e1764f9bfad5d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/presentation/cards/{cardId}/get-pin"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/pin-secure"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d7281d80797950dc797488f3254bff6d2c6d1112221eafbf69c6459450a5b5d4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/pin-secure"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/security/cards/([a-zA-Z0-9-_]+)/key-pair"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 263f64f4ea60ae9be0a9287e318554f64e763879582cf4864c8c8d6a5ff2c11e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/security/cards/{cardId}/key-pair"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/apple/provisioning
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2b477edaee55bd47d8dbfd9089069047d841bcf65ee4513d7679f708bf31bb2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/apple/provisioning
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/apple/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e835a0f03856e26b98e718a3fc5fc217f2828f378d4226bedfa1e2a405cba939
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/apple/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/google/provisioning
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b4992a06ecaf40fc47d5c1026257dac736dee5b27b68b39b6c3029032ca819d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/google/provisioning
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cards/tokens/google/verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4e346c1a097158c854459faabc5078674081101742741deb3f05e56fe35f924a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens/google/verification
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/tokens/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a26d4690754e57971505b946b0aad6ca3732fcff95f247377fbd817bffd40947
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/tokens/{tokenId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/tokens/([a-zA-Z0-9-_]+)/terminate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 850acf329be4850b55887738a25d7aee967af49d804c5aa3ea9bd1d57b611d4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/tokens/{tokenId}/terminate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/tokens/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23f7f3019fcce63e4f24df45499b09888750d3054906f684fe8ca30ce5a8e023
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/tokens/{tokenId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/tokens
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d34c671a1624a22a01d774f7e36a99c083152e2e2050a88ead90edb0650f39d6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/tokens
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/terminate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f47ddc8226c72e2722fd6a5d334ff349dc891712b57ed3e58d008e0dc4ee4224
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/terminate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/notifications/retention
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ea635dfa5c6952e99710d346580b94a5adc5e569012edf63ba4b333830a530f5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notifications/retention
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/notifications/retention
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5a7e296a6dfc392c5085bb8a6c7dd1d8157027bc39dc8efe87adb608c6efb370
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notifications/retention
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/cards/([a-zA-Z0-9-_]+)/link-to-space"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3b34ee51387e2421a858d616df5a76033f141f9edc64c02da14218690a8e776b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/cards/{cardId}/link-to-space"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/cards/link-to-space
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hydrargyrum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4ed49a6fab4b7a392f19c64f4047d2026c62a03f66c4996be4e9f71d16329c25
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cards/link-to-space
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/spotlight
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/insurance/spotlight
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 437a08d9cbe2bc24605d9c7638f1c8dd81214acb70b33afebf059f7c44fb2ef0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/spotlight
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/product/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/product/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/product/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 04664229b5e41b272cebd3df53f5a3e531d852c4e1e35e9047116077cc0654cb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/product/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/order/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/order/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/order/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d8fb698fea6ff75ec298b783ac5ce6cf3d105c8ed0a35b089001fa74a314271b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/order/confirm/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/purchase/order/confirm
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/insurance/purchase/order/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9d45ceb9239a28b8f6418bd0e3fab8b41f18df272a6492eefd280324908ad4c2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/purchase/order/confirm
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/order/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/order/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/order/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5158af54a661fcf1703dad636fd24634d19ac9edb00ac353011b22ecdb19e78a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/order/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/order/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/order/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/order/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ae8f4c3f26f557362fdf4b8d12983229cf0a50a98948e763086b839b99f63d4a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/order/{orderId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 012d75dbb195cc268aeefa42f41003b92f31103adec144d4434fc356d657a43e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a687f60c1fe662cf470fbd9f6f8699245c81f662b0215326e64a17425a9edd1f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a10ca06edb2510018dc3c41d8c1fc807a0d67491d26d67caef56951cde69f098
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/purchase/MEL/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/purchase/MEL/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d52f2c53bdbc41e8eee256ac10895e3ccfa29926a9c9c936952c0cc7affa010
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/purchase/MEL/{productType}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/policy/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8f436ad63eb6e53760fb72bca5a487012adc694c826f3308dbf72aa85e3d3c76
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)/cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([a-zA-Z0-9-_]+)/cancel"
                      google_re2: {}
                    substitution: /api/presentation/insurance/policy/\1/cancel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5da4300d16716df5475f58ddcbfc2572a157ec4834be87de9b31474983d1e394
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId}/cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/policy/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/download"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/policy/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/download"
                      google_re2: {}
                    substitution: /api/presentation/policy/\1/download
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6fe37bdc009ed9c1c574c42f24af85b8706a280165c9261b0211845c77db1359
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/policy/{insurancePolicyId:uuid}/download"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/user/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/v1/insurance/user/products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08b89786e136076be3aaa6836a626f8d6620a63e3b6bb310a58e36596fe8cb8e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/user/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/flight-delay/user/list
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/get-flight-delay
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e0c9de972effe0d010f9c7a0ddf3af048e2678bd10790cd2a9cf2d200b8e5122
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/flight-delay/user/list
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/flight-delay/user
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: hyperalloy
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/flight-delay
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bf0731c603a56129c36c76f6159057d606dacea7f5c26a5093f82ecd66c1182d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/flight-delay/user
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/repayment-plan
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: ibuprofen
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 08b029e84c25e1c4ad9ddf82ace09e1de461f387e4359de302df634a79e082cb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repayment-plan
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/ps/kyc/idnow/initiate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/video/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e930703a86fcbd4eca21a7409d1c32e1f4d5d8ee4be11f9193423d085d1788c4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/idnow/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/ps/kyc/idnow/submit
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/video/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d3191085d6e878061c7cefe1ba12f9aa468c36d552169ede74d2fd5022810c01
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/idnow/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=60,precision=60,backoff=0"
              - match:
                  path: /api/hub/idnow/queue
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/queue
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b98043e18786167cf2501cb0873148d37d4cb1751ccfae51814377103dbfd24
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/idnow/queue
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/hub/idnow/queue/users
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/idnow/queue/users
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0fcad940dcf49331b28bba8b53d132e444a635aafda5f4650a826c4a25165f4d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/idnow/queue/users
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /hub/idnow/identifications/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 177fc77e723088ae9071891b53b4904fbe4f92093be33ab572bffdc2523aa3a8
              - match:
                  safe_regex:
                    regex: "/api/idnow/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 177fc77e723088ae9071891b53b4904fbe4f92093be33ab572bffdc2523aa3a8
              - match:
                  path: /api/idnow/identification/esign
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(127\\.0\\.0\\.1|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: idnow
                  auto_host_rewrite: true
                  prefix_rewrite: /hub/idnow/identification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d6d917aef85651e58dd10500429fa7dd0d0e61e2f893b8e86ef66c0cfc559eb
              - match:
                  path: /api/idnow/identification/esign
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d6d917aef85651e58dd10500429fa7dd0d0e61e2f893b8e86ef66c0cfc559eb
              - match:
                  prefix: /api/kycmaster/processes/initiate
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b31c288b1a6f3fca81452173ba609c8b57b14f0200861097af328d52baecefb6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/submit
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 19d381d098dd6b729348a423fe49c588b77d16fdc73893634015a774b9f072fa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/v2/initiate
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/v2/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5748f25f1e14b0b8b52b23c85dec6e536142562763b0593edcf52f81929be8d2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/v2/initiate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/v2/submit
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/v2/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bcacd7015b9c1dcdad1d535ff6d7d6db3c116ee860b933c1445f62597c558d6f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/v2/submit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/processes/status
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/processes/status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e03778d70334d3e03bdf0a9600c8b6dbd7987aee302c1fd8f855f64527b8239b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/processes/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/routings
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/routings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 31e850546582400881bbd876e76f6c1e676894ce87f6466fcb5142eb623f3fad
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/routings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/v2/routings
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/v2/routings
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6c6480ee5ee564ec8d7f279ff8b37e7d9ff63c420b5fff074a25c80035016097
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/v2/routings
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/kycmaster/documents/store
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/documents/store
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 724a645c0ae109ceb149ee39ee4f316287f352c701455bb20892b5083e296416
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/documents/store
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=30,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/kycmaster/
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a2d59c3f00e2055eab21863b6459f04f8fd121c21a9789ad678e0c8a1ea166f9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/kycmaster/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signups/signup-limit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/signup-limit
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cad520ae9d1f595f307c886e487630f7c8d0934849509fb369bc5a2850ae883e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signups/signup-limit
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/initialize"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/initialize"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/initialize
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 62804925d659a12bee35b4be7e75b6c2ecb89900891d4d321ef1fa68d46dcf49
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/initialize"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/documents/store"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/documents/store"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/documents/store
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 763908cc989de20aeff7e47374d994eccc6e5ad41c42cd879d7338aa21b13c7d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/documents/store"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/submit"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/submit"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/submit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fbd687fb26b905e280f8eda5946199213dd66028b44c7908fc71f07b3edf753f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/submit"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/user/biometric-consent"
                    google_re2: {}
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/selfie-verification/([a-zA-Z0-9-_]+)/user/biometric-consent"
                      google_re2: {}
                    substitution: /public/selfie-verification/\1/user/biometric-consent
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 43ac64e9cd5e26fbf0b63592b4cf46dd8bea74c55490c55edee499e7b47ceddf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: "/api/selfie-verification/{publicId}/user/biometric-consent"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/selfie-verification/
                route:
                  cluster: kalium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/selfie-verification/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9a57609e20d67ab3a970a501aa277a0930c3ca843ada94fccad1613ee0a98e06
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"SCA_RECOVERY\"],\"\
                        pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"\
                        FIRST_PARTY\"]}"
                      route_path_match: /api/selfie-verification/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: unauthenticated
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: UajgFJr6LrGkwiWTw4cEs
                - header:
                    key: x-n26-envoy-route-id
                    value: ac1a7183d7e209f74fcf74744fee9b56082ffb585c53a28c69e86458d8b54f4c
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: shadow_user_id
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: PxSMACEpxNHU4R9YybQZe
                - header:
                    key: x-n26-envoy-route-id
                    value: 1bb65626a50751006ba7c4d2135f0e86180e5ca635a882c775c610bbb8f91145
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/v1/decide
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: x-optimizely-project-id
                    string_match:
                      exact: user_id
                route:
                  cluster: kerosene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/decide
                request_headers_to_add:
                - header:
                    key: x-optimizely-sdk-key
                    value: QtZvHbD1QNMd2NYrvZUcN
                - header:
                    key: x-n26-envoy-route-id
                    value: d591ae0ce3bb9516c109b688723c739712a4543f85392fbc42fa54f4b552d3be
                request_headers_to_remove:
                - x-forwarded-host
                - x-optimizely-project-id
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v1/decide
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  path: /v1/crypto/signup-flow/tax-id
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 78b64f55bdc73902f6b6bf2417a160e723432348fbfe4cd2d98cb5a0ec0fbf40
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/signup-flow/tax-id
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /v2/crypto/signup-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9916f23238d8be13cf26c9746326bf729a082c2d30e121d20ae178a68b65a70f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/signup-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  path: /v1/crypto/portfolio/info
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d7bb55cf18fdc2deb25bde604412f4fe35633775f0c27223ab44476492beb7a8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/portfolio/info
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/portfolio/info
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8beed390deb9f071dc554bf1c7c37eee28e0213cd9ec11ff5e55682b9e17b072
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/portfolio/info
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/spotlight
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ef1e96a8303b5f46ef1e1fa65c97698f77db3f498bbe16d99590573ade13b680
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/spotlight
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce38ada8f424059b24c02eb7a06f61e97ec033e9f09f44c0bed1ff6c0ffc2599
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 61197d9b1de56d8cb975abaf0f7f5c77684dca46ebdc1520034e894cbb4fb257
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v2/crypto/signup-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7059d4b87057f79256672d93eebcf2a4840ae7c4e793b4f9c0c3f915f2a89304
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/signup-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /v1/crypto/users/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 92d7f360bf9cdfd8eb20ad0fa123f5613f672d30458ff45aa2a1c0f4b67f50a3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/users/assets
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/users/status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 80bc2ddb9437972db0c2829d7e7981731282053646e060ea8d960869a4d9a8f5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/users/status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/assets/topMovers
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b2e6b138c4899a233e82977d83c520cae0774f6db871e6d02d7356658020aaa3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/assets/topMovers
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 34d826a4efaab4b1702376549b93da5fbd39080c782f0545cd50ee401f1794e6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v2/crypto/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8be7d1a646eeaf12fbb702b403847795dfeba8e33b22719b17325b66b1f220b8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v2/crypto/assets
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/assets
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 03c310885f1055e62efb703a4bc18a99807c37690ed5949a31b80b2c208ddcc8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/assets
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/offers
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 996eb3cae7d9d8e050d28063f5bdde837f1185b6b6bd93be801eb06a84fe88e4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/offers
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/offers
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bf8c431cc66958d0feccf2f480db396beb350819c498583622145f52d966bf2d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/offers
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3cf10ca208be4a5440f351c065a62e67d3de3761ae1d5eac0f101fc6f51c7aa7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /v1/crypto/watchlist
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 038a1ff83d5892d36ea17705257e2a6cccf7acf853350559616dbc4eadcc318d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /v1/crypto/watchlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v1/crypto/cdr-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/crypto/cdr-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 07a9eb72e108bf034141fec9c73ae05f8846d4f582c3af8669e4c1fe518ca089
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v1/crypto/cdr-status
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v1/crypto/portfolio/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v1/crypto/portfolio/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e4035ef8f06ba9a0fd94c6f7f50d4fdc904370849f064cd164ed8874d23c6836
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/v1/crypto/portfolio/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v3/crypto/portfolio
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: magneton
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v3/crypto/portfolio
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 83a4a610eb8ddceb61f3a191699ae29881d7172360a525cdf2359944f24c1bc9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/crypto/portfolio
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f0d806712a1a69ed01aaf9c3fdf33852720ce07eb76024e937c630a45b6b0e99
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/claim-steps"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/claim-steps"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1/claim-steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ac009ac1cee58f2320ebedd15fa3f0b76ed9c139af0d7a28105e11ba86b71a7d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}/claim-steps"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/documents"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: methanol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/insurance/premium/coverage/([a-zA-Z0-9-_]+)/documents"
                      google_re2: {}
                    substitution: /api/presentation/insurance/premium/coverage/\1/documents
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9b62bd5248ed90bd8bbfd4290e15ba6eff628ef52116b2152bfebbc230bb047e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/insurance/premium/coverage/{coverageId}/documents"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  path: /api/iban-migration/steps
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: miglitol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 674e7021422a0ee9f87baa66323e7647072702efd88515438a78d245283802b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/iban-migration/steps
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/iban-migration/confirmation
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: miglitol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/confirmation/steps
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 360fbf33a0ba1446e5dafcf12e30cc607e0bbb8b8115cbac2587456ccf9af0f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/iban-migration/confirmation
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/iban-migration/address-review
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: miglitol
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /public/address-review
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0e1ef8e06b6173d3ba60a36703ec493c883a5162e781b656de3471b74c5569d6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/iban-migration/address-review
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/transactions/request/
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/legacy/moneybeam/confirm/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cee23666b9791a0410a9ab5d02d96e334bbc725a1f89a5db314a6dd2cf52a03f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transactions/request/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/([a-zA-Z0-9-_]+)/confirmation"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c8ceadee2d7da62198e7cfc93f92bffdc55d8b21facfd48b09d64b9f83ce7582
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}/confirmation"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/moneybeam/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1972bfb9e7d491b353fc6fff7f2f66d3eca01ec0acaaee65b3ba7ab881df6f01
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/moneybeam/{id}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/moneybeam/limits/currencies/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: molybdenum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/limits/currencies/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 05eef48fd95d0264c5a5355e975f6098172b674ddc2954a91c423a91476ca1f2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/moneybeam/limits/currencies/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/salesforce/user/contact-key
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 36a164ba955b215d9ed0f21fa6c1e2b07875279bf1d966d90f6c505d573a59d8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/salesforce/user/contact-key
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/infocards/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7efc39a45c4756b3ee6715666f682030aa5ceebac99aef8a8d8dc0ba0f8df618
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/infocards/{infoCardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/infocard/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b3dd5b41c22dbfb8dfb2e100903e0c958cae6660bab1f43b1d9a7cadfea058da
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/v2/infocard/{infocardId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  path: /api/infocards
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: moscovium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: efae705344452c4434669a476b951d104e3ee2118ff42a228efa1705c16fd052
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/infocards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/closure-requests
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: natrium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d66cec1ffa5ec1712831a82f09266c2ee1ebb9e8495ba853406b2a970894d10
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/closure-requests
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: neodymium
                  auto_host_rewrite: true
                  timeout: 300s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0db6476c08a48f6095bf7b85155166d418fadfa39ce2bdda6f117baaee8daaae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/garnishments/attachments
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0db6476c08a48f6095bf7b85155166d418fadfa39ce2bdda6f117baaee8daaae
              - match:
                  prefix: /api/abbyy/v1/garnishments/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: neodymium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4f27ee524af68035bde70809bbdf5c93ef0feaa9fc25ce5bfe9e86c9669e46da
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/garnishments/documents
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/garnishments/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4f27ee524af68035bde70809bbdf5c93ef0feaa9fc25ce5bfe9e86c9669e46da
              - match:
                  prefix: /api/transactions/directdebit/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: neptunium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /refund-collection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 98d0af0478ba4b5396905430bcd877fe70ba524d8aa9edbb319205d5e18486b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/transactions/directdebit/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 25e30e994b84bebc3054a97c82397b3228166836cd066467f782dc3dd2fb0711
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f9a9f55177a13ecb8b654e5e7a35b80ca6880f3dac6a3ee065a85c99eb262e84
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/til
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 52eebed9d341f1db21fe4510fe23ea2cd0a00c47899885ec1efa2d1522bcbdbe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/til
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: nihonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0335444411d134ac739e136ee30e4d74b45dcd2e3d9e155222a3db89f8a3ba8d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/til
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/notificator/twilio/status
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(174\\.129\\.222\\.33|174\\.129\\.222\\.200|184\\\
                          .73\\.170\\.150|23\\.21\\.226\\.67|3\\.80\\.20\\.([1-9]|[1-9][0-9]|1([0-1][0-9]|2[0-7]))|10(\\\
                          .\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 57cb47d8cc3225a4988d69065bebac852bf180430feb7c12a3ee885f5607f3b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/notificator/twilio/status
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /api/notificator/twilio/status
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 57cb47d8cc3225a4988d69065bebac852bf180430feb7c12a3ee885f5607f3b4
              - match:
                  prefix: /api/notificator
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c4dea2434302380e9af9a0c80215c461e11561d234cc3f8c5a8275863794e5e5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/notificator
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/notificator
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1f10b42431d6872564bd3432060da60e3d816f8e4e79bfe9b6b06f4924127d6a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/notificator
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/notificator/presentation/inbox
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: notificator
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /presentation/notificator/notification-inbox
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8ee78d4bf66a909ebcc35f29ae696dba6ce64b1a23204c2b3a51cbca2d8d8699
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/notificator/presentation/inbox
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/onboarding/hub
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e56d333da914981db7578e671fbc4b76e3753f2c36b1d14f4ebad60a390534f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/onboarding/hub
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/onboarding/hub
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9195e9f8da3d1ce468f7da3f1e1e3384a5fb654a67a96497c334db11e5ec8aba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/onboarding/hub
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/account-switching
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 491bdbc4dbedf7863f61d00dec8f7b516dcabd8f6d12f0beefa5586e23fce283
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/account-switching
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/account-switching
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c718750df92b361fa8e3b12fbdf7fca46510a1fe87b9759053a581f42de07ddb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/account-switching
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/account-switching/information
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3956966386e618e84af58139239ee157e877f268be28bb5334dfad44ef540f20
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/account-switching/information
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/product-stories
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: onboardium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 48681cb1dc1e2891dbc5a7e2198df71eda54d870135384e5ba439665757f758d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/product-stories
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6c506f23b3eb2e8c798f6d28c7f4ebcaca941e93fd557de7b3a794baaec81762
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/v2/features
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b271982c1bfb75a91af491ae03815fa615c8cef84920290c0bfb89b49f4658d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/features
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/features/countries/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3cec6fcd59a68c789163897dcbec6358a6edaed4155bf07062f1c05f92d1429a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/features/countries/{iso3CountryCode}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/features/([a-zA-Z0-9-_]+)/countries"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e611c2ad6dcc35e6e68599be33e606e626ee757bfc7df2f09820c8b88c324331
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/features/{featureName}/countries"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  path: /api/decorated/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/features
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6197ad1e49a8672b89599bab5be07049bf791f4b24b89f882476ba6a3ccebb28
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/decorated/features
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  path: /api/decorated/v2/features
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/features
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5162a56cc393045d12c37dda10f8884589bef6bc4c0846a558d0d64853b85e6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/decorated/v2/features
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/decorated/features/users/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/decorated/features/users/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/internal/features/users/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1e7aff0d4505dae7812d0d1cf49c5f9fa58092af0ab24f3d96e598573427245b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/decorated/features/users/{userId}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/decorated/internal/admin/users/([a-zA-Z0-9-_]+)/features/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: osmium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/decorated/internal/admin/users/([a-zA-Z0-9-_]+)/features/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/internal/admin/users/\1/features/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ad743df67a260631e6983ac7328202e2b5d632f62a04739e9c7427395ef75220
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/decorated/internal/admin/users/{userId}/features/{type}"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /oauth2/token
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9274736ebb8c6067171a4367d28e3d0f91fa6f36cb3281f3a22cff3b86489f10
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  prefix: /oauth/token
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  prefix_rewrite: /oauth2/token
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6799819bf08434f627f02b8bf1109eda421a84d589317d82c8666d301de2e6eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  prefix: /api/mfa/challenge
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a53dd82ce99df1b506dd3ef452bea50009be16aae2a65f763b6a973d60a88795
              - match:
                  prefix: /oauth2/authorize
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb993255053442712812fac7adfb7985adcfba53fdda0d4f461f0a09adab87a7
              - match:
                  prefix: /api/me/logout
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9b7e614261305c985c66237a1c459d525a1e8dceb9a563a2ba1f0c493025e601
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/me/logout
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  prefix: /authorize/generateAuthCode
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6457f46e907265a2b8720dd7c04af50a772a169c6308505c68c5fcf9983a7504
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"WEB_OAUTH\"\
                        ,\"FIRST_PARTY\"]}"
                      route_path_match: /authorize/generateAuthCode
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/feedback/login/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: oxygenium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 41cd54ae312a3d513c8052da431628a8fd4f2ee5bd48065ca8faf967193918f5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/feedback/login/{loginId}/{token}/{feedback}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=9,window=3,precision=1,backoff=900"
                      action_1:
                        descriptors: "method,path-variables"
                        policy: "requests=2,window=1,precision=1,backoff=60"
              - match:
                  prefix: /api/customer-data-questionnaire
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: peppermint
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/questionnaire
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5cef89d05a8d8e7f640346a52c48f3f7e09b01a92858e3f33f956893396b8a1c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/customer-data-questionnaire
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/customer-data-questionnaire/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/customer-answers"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: peppermint
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/customer-data-questionnaire/([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/customer-answers"
                      google_re2: {}
                    substitution: /api/presentation/questionnaire/\1/customer-answers
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4221874f279343a97b89a826f963a6db1971d9f7d482e7229a697714668583d0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/customer-data-questionnaire/{id:uuid}/customer-answers"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/referrals/your-invites
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/your-invites
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 396cd0a3cb6d318805dc9948846c05409e84d166e05c927588f5ea20870120b4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/your-invites
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/referrals/dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/dashboard
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 86971b444831493ed7b46538ba97dfd9af6d47231440b9a1b2ecc16259fbccb0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/dashboard
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/referrals/combined-dashboard
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: pikachu
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/referrals/combined-dashboard
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 64fa2f21822db42425206670f60e827e5ddacd2408b1f29d3720555025b63548
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals/combined-dashboard
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a23858b39d86545391435a15ecd4a6de262bc7506e0f8c6fcf56de7fec437382
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: abe7e13d70e8b13284f7de7f0c7d8a3dcda66b0d67de971d752825c02b5ec5a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/topups
                route:
                  cluster: platinum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e10dd908f9b7b47301a7fb96e49cd38105882c9d6e622a1fe6f946d248426baa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/topups
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e6fcfebf99d97b75bf815f43037976b123181412343c5b5eb0a20b29196f1aba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5dc30ce519fa40a5511362576e869b99e774de64aa55be3d944fb5b78c953733
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c11c5db531d898427cabcef926da02039118328112bc6281698ead41922148d1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c4a4cf18cd70401ac089c00b6898b9bfe5b6688c2e6dfc1d18c13644f3df3bec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 70ff1ebff8e77fcc8cb70df546ab0813b4005c83bb9a03f5b42835f874e69621
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: plutonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v2/overdraft
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d11374b9ab68c9709971cd3d1f0fe2d7bc621319f051d6a725d88e50a7417ad6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v3/spaces/([a-zA-Z0-9-_]+)/bottomsheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 83461b9ffcb1073d426b4477237fdac407dfba1abbf417b3275fe2e735b61dc1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v3/spaces/{spaceId}/bottomsheet"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v3/spaces/create-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c16eb91971ce77c7fa83a61e9a0945de6a219abb33601906397bce9d51809a8e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v3/spaces/create-flow
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v4/spaces/create-flow/available-types
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 10417e18f63b27cec7149beff99219a0a3c2707db9c8ebd968427e5a1e825005
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v4/spaces/create-flow/available-types
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v3/spaces-overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 72008241995be921e0c23645aa4e62cb33885d33515cc08639eac7ce246599d0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/v3/spaces-overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/v2/financialhome
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4e024ca06ab24647275b8d74bf949e98f012f368cc403b88866d8ab623ca575e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/financialhome
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/financialhome/available
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 23858c936951a4fb81a86f2914651d895ba047d6bc0c83c0267ab4923a464be9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financialhome/available
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/invitations/([a-zA-Z0-9-_]+)/accept"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e7e32dde639ec13dd39e4266baa313185456558803d80e044441d79a91ea5e85
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/invitations/{invitationId}/accept"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/([a-zA-Z0-9-_]+)/invitations/verify"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 19a695e635e4eee4ddb97e46dd8c1eb9f22302123c6f88cbe516da883b1f8c02
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/invitations/verify"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/([a-zA-Z0-9-_]+)/invitations"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4e4a326f0a765ab0fa676b69560cfc533c41d2f2953db3f86fd5092a6acfa9e4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/invitations"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/internal-accounts/([a-zA-Z0-9-_]+)/settings"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0cfd2e36903cef8e473cfd17f2b6dbf394b81d047eccfc937189d84d8b859e0c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/internal-accounts/{accountId}/settings"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/mobile/internal-accounts/([a-zA-Z0-9-_]+)/details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e1cf0554acd0bd03c5bc26d3d83e3d0017d54e46f0dd3b19f6ebeae755502a88
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/mobile/internal-accounts/{accountId}/details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/web/internal-accounts/([a-zA-Z0-9-_]+)/details"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c5c3f84812908e8dc7776781a5154de821c5c7a22f426185e7d5525b4db9614a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/web/internal-accounts/{accountId}/details"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/mobile/internal-accounts/([a-zA-Z0-9-_]+)/details/sheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2cb681fa13c0f029865d8ab809da506903eabf972f10eb777c1eba41635aea45
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/mobile/internal-accounts/{accountId}/details/sheet"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/web/internal-accounts/([a-zA-Z0-9-_]+)/details/sheet"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aee52129636d915694d14a50412d1f39f2e9e0c23bd90c552db3a1b355f7b517
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/web/internal-accounts/{accountId}/details/sheet"
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/internal-accounts
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f7145a13d42deeb717d6824711d8973b445b6bdaacd68d26cd672149e4170e5f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/internal-accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 00ed07e7dd4172a149c9ad5942c61859ee53d416f8758d70e5783a37eed5defa
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/eligibility
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/create-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 659c8942db1411484f232ac8503deb80ad1f438d12f9ac403aeab8b48d3bc57d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/create-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  path: /api/joint-accounts/create
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: polonium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d7478f4e41c692a6a73508602b6591a12c25613ceb4d8e1a218b8173f59c1dda
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/joint-accounts/create
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/ps/kyc/postident
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: postidentkyc
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/identifications/kyc/initiate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9a72bc61eaeb45039c46322682d5f025fed38970214c2cc01fd64f0d7852d390
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/ps/kyc/postident
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: praseodymium
                  auto_host_rewrite: true
                  timeout: 300s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a91ae7454ce4b4b156a3efe42aea7040598e32762f18924829848207b2d199cb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/authority-requests/attachments
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/attachments
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a91ae7454ce4b4b156a3efe42aea7040598e32762f18924829848207b2d199cb
              - match:
                  prefix: /api/abbyy/v1/authority-requests/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                  - name: X-n26-userip
                    string_match:
                      safe_regex:
                        regex: "^(212\\.144\\.21\\.37|40\\.68\\.186\\.124|52\\.166\\\
                          .141\\.128|168\\.63\\.4\\.64|40\\.68\\.57\\.67|40\\.74\\\
                          .39\\.185|52\\.149\\.110\\.115|10(\\.\\d{1,3}){3})"
                        google_re2: {}
                route:
                  cluster: praseodymium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/abbyy/v1/documents
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2b90f1d1c6291b864ffd4c2b5ddcbc083381f4cc9d76a2b079404923cac2e61c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/abbyy/v1/authority-requests/documents
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/abbyy/v1/authority-requests/documents
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                direct_response:
                  status: 404
                response_headers_to_add:
                - header:
                    key: x-response-id
                    value: b6630ef9-b26d-4bbc-95cf-b19e0046b0eb
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2b90f1d1c6291b864ffd4c2b5ddcbc083381f4cc9d76a2b079404923cac2e61c
              - match:
                  prefix: /api/users/membership
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c04cc5de2dcd29350b64060c6753cbb584e9948e85849d2f6a4ec0a60ba488b2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/current-membership
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8727f6be00b08402585149f5306b931174fb9fc1fb0de28cd9e00ecc73015dcd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/current-membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/current-membership
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fdfe1111efa7cdf9ab1005ead51553658b82d97d23a04c87638be7e9ed9a3900
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/current-membership
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/waitlist
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/waitlist
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 753785814c67dc8b58cb74f10bb2450a7920b6a298cc67ed18b85a6b6defb3c7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/waitlist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/billing-options/update
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/current-membership/billing-term
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b35c3a3d0972f8e0a9a69cec1a1e668f4753e535ecddc2020ade7c13834dcf1c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/billing-options/update
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/available-memberships
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /available-memberships
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dabdf4cc2a8e5e7c1b3e2fd971f7fe39510c7ce285ca95978f659ef088596f08
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/available-memberships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/shipping/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /shipping/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0a8fd8298bd08d442e6854ce95543ea6e54da68dffed7f3f5e229792be121d2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/shipping/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/additional
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/additional
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eb1f2e83ba56c6554c4dd7c959fdbdbecde50d7dc3d200499eee2934017a332a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/features/cards/additional
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/certified
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/certified
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 090cabeb014f965d0ded51613688a2c23e7431c0221d02c059a7f7611e20ee6a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards/certified
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards/selection
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards/selection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1de84addf35efcab04009c81f1ebfaea275854f8fab337c7f7143f9dd65bd51f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards/selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d831c16f443f0918161f4d8e687899cdeb77e2e472f25169490f17eaa282930e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/features/cards
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/features/cards
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f7fe9b186bada97029b9981bf26f2c2dfd44bba6db4a22df123c3c5c56b61ab0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products/features/cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e3934c3786f03963105170203f7835b13dd9fb7e28a92dc59be8018e092b4a68
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/certified/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/certified/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 789a901efa0730095b504419a16d372c6e4da24cf0f7cec6607e9a8d1357ccb5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/certified/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/users/products/:signup
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/:signup
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b765bdb5dd76f6fbc1fa192cbec2fb0fa006984bc4f0fd1aef70196ef20a00e8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/:signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/products/:upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products/:upgrade
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5106532ac6d2983817f55872107b1c32d2999cd87839630f7d481d316a8386af
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/users/products/:upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:reactivate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:reactivate"
                      google_re2: {}
                    substitution: /users/products/\1/countries/\2/:reactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5b683c25b2afd77f97756ba26d8d10b51d8af4e204e0cb3382ee62c18f381714
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/users/products/{productId}/countries/{country}/:reactivate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:cancel"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/users/products/([a-zA-Z0-9-_]+)/countries/([a-zA-Z0-9-_]+)/:cancel"
                      google_re2: {}
                    substitution: /users/products/\1/countries/\2/:cancel
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5d74853e4f84e2bc69193cd6a92553bbe542ff1a7853f86324699bc9ada727fe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/users/products/{productId}/countries/{country}/:cancel"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/users/products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/products
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 277a621e16cae16d9b9d9a8f4ea7fb5bfadd66cc4be38a665862227d76443fda
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA_RECOVERY\",\"NON_SCA\"\
                        ,\"SCA\"],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/confirm
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 53ba46d4ca5bafd8a96972366e6bc73cb98e588b088845e8fcaa07850b098ab7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/confirm
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/deactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/deactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 518f0a6c3c21c7c1d335b858d027511021cd2d635566a9546da6c99856871f88
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/deactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/reactivate
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: product
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/reactivate
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5452677f43c2dbe9d8fe8655b9eb0d2be945c19c4f6de25971fd53017cece547
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/reactivate
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/paccount/overview
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: protectedaccounts
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /paccount/overview
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 70c2559ac87bdf6485f05cd510ababd4aecebeee66ef6d2d5fa72ebcb35fee45
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/paccount/overview
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=1,window=3,precision=3,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 37f102f06da2f89acdca629abb818505ee008c4ef70ec6a9de4233c1915fdbd0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c5458c24b83484fcbcf5568c5accaf2a805aec51aa087a3f675f8b1a6e88c71a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 653ebbfa0c438e0bed7a63a16bfbee9d028748dca43db5c9d3f3ff9a6fddd790
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights/budget/monthly/widget
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights/budget/monthly/widget
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b984d794fa1f09b6478c50fe44ff4c008ab074b759f8b25b7b2b231a38542801
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"FIRST_PARTY_WIDGET\"\
                        ]}"
                      route_path_match: /api/insights/budget/monthly/widget
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 869f53257e81984b4f13850faff3a9c5ffd896e2850dce9b070b4b8f1567021d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9244878a08bc15ddabc8c4d7a68462acbecdc79fe318f1a15852b2afc005f54c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ffcdc51b4c4843d849666ad1e8614e30810460aac744489e6418edbc7c48b5f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/insights
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: psyduck
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insights
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 251c0cc49e9c5244c7079bae9ad0e313eaf93cc48d40ddee3b378aad4ba80a62
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insights
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=20,window=1,precision=1,backoff=0"
              - match:
                  path: /api/gdpr/export
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /export
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e2a5438fd16a99e7253c57d6732523a0e5af81fcdc78445487ae77126b4b3ea
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/gdpr/export
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/gdpr/export-closed
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /export-closed
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce413d15d129fb2e8b89f6ecba10d420406639ab6e28c17b64413e6ab4566e33
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/gdpr/export-closed
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/gdpr/export/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: radon
                  auto_host_rewrite: true
                  timeout: 10s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/gdpr/export/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /export/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: eeeefe8ab90174b8b63d5ce46fa7ef00f2252c6fc6a6ef30e4b8d5e7dc813893
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/gdpr/export/{operationId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=30,window=86400,precision=86400,backoff=0"
              - match:
                  prefix: /api/taskrouter/error
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3c81eada48d3fcbd4d11805b2f2efd300ace6e7f901a05f81b73ee696264ca29
              - match:
                  prefix: /api/taskrouter/assignment
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b0a704675de0f9bb29acfa7e67628efb387b4d3221e9c0e8b738dbcefe136fb
              - match:
                  prefix: /api/taskrouter/event
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rubidium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 69ad9a5eb51044e52cd30a28218ef65cbc4969a6732a8caf2f0d59353da60a1b
              - match:
                  prefix: /api/aggregation/moneybeam/limits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cedd6c107a5da9e1b49fb22bd51c392c8e2ada9ad7a31104f9310f9c5e5d2451
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/aggregation/moneybeam/limits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a3a29341633e532caca57b2cce611794d8bb42255ffab67554c4b1648fd05196
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a921407646d8fabada0d82404805b17d8541d553e2298db5524896970be05524
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v3/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c569b4d3ab4ed4d0e9c1ef2737eb1b2c03c935bd924ddf0c15fa32bd338a861e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v3/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v4/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4368345733def41b81bf47bfe6b40cc7bb80b6d88a9156e7981bdf7112a8c816
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v4/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v5/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b98db47ba58bb8caddf4ba90a632e639f95817250614da2ec9de62465ff9e591
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v5/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v6/onboarding/journey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f5de41b2d8e376989bdde838316dffafe072ee92c61357c0819a4be359bdbd60
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v6/onboarding/journey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c2275e7176216e75014495549a26df71f4daf3904d3a811a8ee7f2b17715886e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 358d29abe4dd31f0bb0617104606bd2c69d47e1c0fe2eb69039ff66e35e78ce3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 185c19036b58b0151de291b370fe493439adbcba079a9f44052634eace429cd0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/feed/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b22272b82a76e46646ea3a06d2814c7762f41f9af8185aec4d84dd3bf802ea3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/feed/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 89ff0a0ff58e1bc87f73a0635c0bf842b60d6e92879c650ac7bba85475bb0c9a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fab29faeb644a15b00490f151e7ad16bfbb6f5dacb930c6465822f9dda5947a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/topup/components
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3174a4a282004d852f1bba9e1c7b08f91d2876fad4de2916730c5f550b03738f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/topup/components
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=30,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/financial-relationships/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3ce634289e42d502b8bb269c4be1bf6c8525b37575fd4c644e509df36bd47423
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/financial-relationships/{relationshipId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/financial-relationships
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ea854c083c79c24eb83c84ba57f490ae6ac0e12cbd0c329f8ff92401e42444f0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/financial-relationships
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1774370a2cc666bf0a328556cedc41673d9d80438d92924f3002f418799f125e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 79812672a866c05cf0bbeb0f428172da95edf58ba3e8587205073d365f239cf4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/add-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 160db4763c6a8a9d9ac749f390553d39fb11318260a5f481cc623fc4356ee520
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/add-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c1df06cf8b518ca12155533cfea30e5ebffdb607fd7c81b458a35859a829935f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V2/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2bb399f3c64558d8e8f98faca4ccfe0fcd39d0cee1740fd66bcc8174eade8590
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V2/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/V3/actions/quick/send-money
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 55a8994592d84d579a261157f2ce3d9877d6d8a2af900dd066007c0503877a13
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/V3/actions/quick/send-money
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/cashfinder/search
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: be5418e2c6f3fdb3388f434229f3e83f5aa873f08653b168975bcdc35fe638d7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cashfinder/search
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /atmv2/_search
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: rutherfordium
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0c7c425188cd15774fae3798fa6d5fd8d0476f9e230e1329af7f24482fc52d69
              - match:
                  prefix: /atmv2/_search
                direct_response:
                  status: 404
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cb5d6aaf3a10b89a7568817fa06cfa801091154e3fc1b040c29cfa7bbd869fab
              - match:
                  prefix: /api/inbox/threads
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/threads
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: adfc3d46246788dec393d4edf59abd37a0d81ec84b667dbf249a3bcdb80a455e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/threads
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/messages
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/messages
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8aa73bdd4f6d1319716ecf350fa864cb8d8e42122ec3711865fc36559a46a95a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/messages
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/attachments/url
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/attachments/url
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9d1b66c61f4d41d2a86d464b234e7f76868dfb406148571b44bc4f04b65d9dc6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/attachments/url
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=5,window=30,precision=30,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=40,window=28800,precision=28800,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/inbox/attachments/([a-zA-Z0-9-_]+)/status"
                    google_re2: {}
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/inbox/attachments/([a-zA-Z0-9-_]+)/status"
                      google_re2: {}
                    substitution: /api/attachments/\1/status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9053726d703c12f5ac6c08493f885f8ae0c47b35cf11eb75d7299de5f4aa1045
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/inbox/attachments/{attachmentId}/status"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id,user-ip"
                        policy: "requests=200,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/inbox/attachments
                route:
                  cluster: samarium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/attachments
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5c8e28f131a8128a93422d829a14a40a00582260c2f68111a3c7e82c9f8622ac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/inbox/attachments
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/insurance/questionnaire/
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance/questionnaire/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bfdaebe1c4665dce41b500c1db312a863f9d67c4443f7124d1b999205dcc9328
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/questionnaire/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/precondition/
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /precondition/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2fdd5f45626a45c4b719e4752fa34810161b515607cf989a67e2c796ec049094
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/precondition/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/contracts/reset-pairing
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /contracts/reset-pairing
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a61a5f228ebfae6527266474348fd1f380acc72420b077f853183a4018adfd05
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/contracts/reset-pairing
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/users/membership/upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: scandium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/membership/upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3a1da9e65ae7a248e5a28d8be7568ac8ed83e07cc844cea3d37eb164e820a96a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/users/membership/upgrade
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/waitinglists
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/waitinglists
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d02d9a13e9d75046a8204bf7d15fc91cda267c2e3981d5e42356b16f80ce3b9f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/waitinglists
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/signup/waitinglists/confirm/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/signup/waitinglists/confirm/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/confirm/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9b82134675379dc76de66c1602345a9af9c6d872c357472297a55b5e63f810b7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/signup/waitinglists/confirm/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/signup/waitinglists/unsubscribe/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/signup/waitinglists/unsubscribe/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/signups/waitinglists/unsubscribe/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ae81e5ece35dee0fdfcfd865e7e379c826a6624995f4d9916738afcd38f8a57
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: "/api/signup/waitinglists/unsubscribe/{waitingUserId}"
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/account-purposes
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/account-purposes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 68ab06f137af7de16f0cdf5a9738c49c0ab70bff279c2f3227df54408a693394
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/account-purposes
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/funds-origins
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/funds-origins
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fe2152350c33ad4a83559d5ca032a99f1e404ddf81ebb60087755062ec1103d8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/funds-origins
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/regions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/regions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9e2149806df8a75b49835ddf230db4925763d6c187dfbb47508784f1a2181f44
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/regions
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/income-ranges
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/income-ranges
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7b1772476856b5ddcf644be6232022950584a13dc278c82daac0d1f2db4f0a8b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/income-ranges
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/income-sources
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/income-sources
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7445ef74d445e061128f6e96e5ae35ba9d96865c02d6597b6264ca60a36debe1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/income-sources
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/total-wealth
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/total-wealth
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9715c177591d22b9c2b7e82f4cf1346ca8f58ce6afbe9c803ec6438caee5259b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/total-wealth
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/industries
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/industries
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8a330b94055aacac0dd9d83e2fd4e83dd5105ef8ff248b14ee96160197efc8d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/industries
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/employment-status
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/employment-status
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 055941894619649df63f16cb433244bb12633e92d26c377cbabb2b254289e513
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/employment-status
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/expected-transaction-types
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/expected-transaction-types
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 69a191e11cbfaec970aa0fedb30d239edf3959346407e5ac2687e1fcd73dfb56
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/expected-transaction-types
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/signup/options/positions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silane
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/signups/options/positions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3082ff7a8c65708b9cb246c356f4353e682bb953c36f5a11b8ef46134bda33e4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/signup/options/positions
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1000,window=60,precision=60,backoff=0"
              - match:
                  path: /api/user-survey/results
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: silicon
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/user-survey/results
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8e06b6d7c4c84e1b8a38f7314510e1f13c01054d473407f282304359ecf0ba71
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/user-survey/results
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/user-survey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: silicon
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/presentation/user-survey
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e49de0ff505c8e69321b15ac250d7dfc9b0e208d680aef0f2894ac981b6f7e4c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/user-survey
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5e34c4116ab6285f4947f010a4f62aaede399495b8585e833c70c7840cc6a511
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/flow
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/instalment
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7497999aef2c26d77fadb95353bd53df876015fe31ae32a77258c1fd272784b6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/instalment
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5bfddae88eb83c27cab67b8b601f3fbca9d716844ea95704a1188614993154bc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/overdraft
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 553e6093a0bd299bdee843c419656df6c77be41c8c80bd33510d818931bd3a15
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/overdraft
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/repayment-plan
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: snorlax
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f290217a1b5ba74c287602a0ee8d33a38ca1591fca74663e119e9b324f71a2a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/repayment-plan
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/cardordering/card-type-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 00b046e32e6ebbf3ad65d1d648bfe351e660efff6ff2c39eabb8ada9029b1d17
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering/card-type-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cardordering
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0b6d3719417d981084663dc39996948f61b0d285e337a52be3973beb385d2ef4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cardordering/card-order-flow
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f6b53d80278c83fb279e69b822fe57a938e52375ae516f3e223b1581a958d29b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering/card-order-flow
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry;x-n26-useraccount-legalentity
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                        - header: x-n26-useraccount-legalentity
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  path: /api/cardordering/wallet-eligibility
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: squirtle
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e83e24433521bc37ad6a32d481c210bf6fd88316ff19d6f87e14e66af4ea1408
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/cardordering/wallet-eligibility
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v2/savings/fixedterms/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/v2/savings/fixedterms/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5ace5c7afaa95c7c4c52c43e086f180d30bd918d6d2f107821ddf5963883d8d1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v2/savings/fixedterms/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v3/savings/fixedterms/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/v3/savings/fixedterms/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e4528fe1f7d5fc9ec0fa551aeeb78bc1c812d93fdab381a39e97d17c88b39f37
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v3/savings/fixedterms/accounts
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/v2/savings/overnight/flow/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/flow/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 013288061aff5b6d5287d602e09db55ff1cefbc88737d720156305d94132730d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/v2/savings/overnight/flow/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/flow/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/flow/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2caa59ac215382a4848d71f78fd2a5c3f955f3eee14d72e5b0d844ce5e7ead40
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/flow/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/savings/documents/legal/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/hub/savings/raisin/proxy/app-exposed/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d68dea67b95857f443b96efead9186669fa8f3b790f5bd1ce25acabc90a34a78
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/hub/savings/documents/legal/
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/documents/legal/
                  headers:
                  - name: :method
                    string_match:
                      exact: HEAD
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /internal/hub/savings/raisin/proxy/app-exposed/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6104538db0aea61954a43ed8ded512df0e6d22940b9987e8c02942d058213ebf
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/hub/savings/documents/legal/
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/offer/
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/offer/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ca7bbdbe60f3366a04debf76e03f425e494e72207e77dc92c5f07f3a3d7a5881
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/offer/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/accounts/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/accounts/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6656a3745e3e0d6b549aad21e0c203bf473ec2bb601fd5c1b5bb9936366ee3ed
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/accounts/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/overnight/v2/accounts/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/overnight/v2/accounts/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 04103bed631ef215665ab979370a2715165d3b6445983222027d7d6187465e2f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/hub/savings/overnight/v2/accounts/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/fixedterms/
                route:
                  cluster: stannum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /hub/savings/fixedterms/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 621fe6742a420ea59d222075883e764cd136a7cee7a809beb91279a706bb69ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/hub/savings/fixedterms/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/hub/savings/accounts
                direct_response:
                  status: 200
                  body:
                    inline_string: "{\"totalBalance\":0,\"canOpenMore\":false,\"accounts\"\
                      :[],\"pendingAccounts\":[]}"
                response_headers_to_add:
                - header:
                    key: Content-Type
                    value: application/json;charset=UTF-8
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e311b210ee7963e7f435973d6518a89cb54efdb624e3c8b07e0a800fcaee77ae
              - match:
                  safe_regex:
                    regex: "/api/kyc/face-detection-data/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: stibium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e673fd3d8cd2dbc6e0a8b40c6228cb5d32cb592c9c37663ecf37c213433ff393
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/kyc/face-detection-data/{platform}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/login
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 16c4a25a824d45bdf7e9557d377154aeb229640a32f71f0ef6f9af8eb4a92a3c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/login
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=2,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/version
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /api/v1/version
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dc1dd2512d179d1cee9eea4db14e6b0e883820550a04265cb91fe22e553edf26
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/version
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/v2/version/mobile
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: sulfur
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ce75b0d96916b45fd3ade2f040d2d02d86510fe9ec74ee92b693c56e5bfbf46b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/v2/version/mobile
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=50,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/explore/stories/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore/stories/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8fbff7aabc6652db8de587dcbd0607445600929e543df258243ee98bcf76a55a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/explore/stories/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/explore_detail
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore_detail
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2dcaa4f0d5f71c12ae90164b66461a7e7f391997442cf8adc46efbbdfc6e41ca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/explore_detail
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/partner-benefits/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /partner-benefits/
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 691c9da9a0c21a191acc0931bf725fc7a427a627768cd8e17ae27702d2057b9c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/partner-benefits/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/membership-benefits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-benefits
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b90de9d4996fa315f0c729d20028ac1aa615ec45161da1992c0aae90088fe6a4
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-benefits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/membership-benefits
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/membership-benefits
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0828099bca41e8942bf06f6308ca756bee857e2baec9086009e00cfc60b714a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/membership-benefits
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 574f4a609bc480e482abdddb4f66bdd20266ec6740549f6af33ca87fcc710de5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 57b7bf8ad4f8f629ce164b580cf55d8faf5c5596c98ecaa616e9ea849bf88d50
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/web/membership-details
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /web/membership-details
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a93a65c4b0f4f8aa28c56b08a1642316c848a0a1d2413540ecf42e29bbad63ac
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/web/membership-details
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/premium-upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /premium-upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 74688eff3b17ba985fe31c069d3424507fca09f0d8612fc872d3359d88d53b20
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/premium-upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/atm-policy
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /atm-policy
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ecee5be473872139dfb77d4df1686f0cd2d8ac3141f02074249ffc4b3acef9f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/atm-policy
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/survey
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /survey
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ebf48ec068154ba694df486de8d3a7929757850ab3b87b6d30a3fd3c8c3f54f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/survey
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/marketing-carousel
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /marketing-carousel
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 866189b2cdf0d6de00a022abc966aef000bcf76f34bea3fab1646162935ab7c2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/marketing-carousel
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/activation-trigger
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /activation-trigger
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: fd0c94896aa57d063e5c8c4a815d66364f05c2e3d6120ee075ed93ad2b552a25
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/activation-trigger
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance/send-checklist
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance/send-checklist
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8b9842e5eaf36621f3a85545fb057d2e262526395adf2f6b5e371abfe9935bcd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance/send-checklist
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance-claim-detail
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance-claim-detail
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7bdcd0faff1ac17d31c5f01088720227a75ad1e75435f1e7f3c3cb86167a4816
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance-claim-detail
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/insurance-products
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /insurance-products
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c4b1450214507b8da1db83812594b71f2644e31b586d0bfdeb3bb79444dd5c5d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/insurance-products
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/extra-card/upgrade-trigger
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /extra-card/upgrade-trigger
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b0942caa47cf1006e941060b09970b621bf1ce043aeae5662953490b8fdf5ffd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/extra-card/upgrade-trigger
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/extra-card
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /extra-card
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aa23f7f4d3f18d79180d42fa9c45797291c0b54945ca229cfe11e125b240281c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/extra-card
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/eligibility/trial
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /eligibility/trial
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7ff0dbbf44d051a594c77fc117cf9ddba0289eb3fa081caf83c678478ad294ae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/eligibility/trial
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/membership-payment
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-payment
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a9cfe67a01cee13408c630e1a25d7edf6ab93093f903a8297ddce14834c5b7eb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-payment
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/explore
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /explore
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ff5c364df7194c851225348daf7b93f9a60674c60edd38978a0aa408a6f5e07d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/explore
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/v2/product-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/product-selection
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6cc2dd7a2c2e182dca994f3ac15507d12f3a9fcc8691bf70d7b67e416a01845a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/product-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/product-selection/review
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /product-selection/review
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: efdda1f3a378ab93650a7e2ca4c3499468d5eb6601d54558c59e03d6e95b0a35
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/product-selection/review
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/product-selection/billing-faq
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /product-selection/billing-faq
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 41239984504191ba5545a6be4e31c54e7bad2113210f3c5a6342a8b923dedc42
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/product-selection/billing-faq
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/v2/product-selection/preferences
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /v2/product-selection/preferences
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 38ddbe9393ab3e0fcbd6f2ef1b13c7092df20096c10d46d676aff8721707d2ba
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/v2/product-selection/preferences
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-upgrade
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 39f8289f4eca2a81818c492cdc87ff5f5aba0e23c9daaf0140c133ef619f4cec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/billing-options/edit
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/edit
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4f83290cd1ef218291f11164dc580bedc5f5a3c1382a83da03bdf9d96a382538
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/edit
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/revert
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d7e1658012f52f9b13407693780855b5cf07bdabc7b3f24adfe9d42febeb1ee
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/revert
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/revert
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 64448f2583fe5c6400b40f1833f3324971319e7a3ec54dc49e3100c1168e3313
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/revert
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/billing-options/payment-faq
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /billing-options/payment-faq
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ab08101279dfd3708e3e4f47018b632ce5171c56cc6e6a6d81de79413341ecc3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/billing-options/payment-faq
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/campaign/redeem
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaign/redeem
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1beafc8d4b32cc0b75ef4f253b6471ff8a4f0ef97854a3ce5d4f002c2fd67887
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/campaign/redeem
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/campaign/redeem/feedback
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaign/redeem/feedback
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: da2d1114c95d153868c741906d730cf87c7d86c49260cb131ef9d6630cc0dbfc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/campaign/redeem/feedback
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/membership-modify
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-modify
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f7d504a9712ffca636220db56907f0aaab2ba280a6be5a2d344d4798936e52a3
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-modify
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5bfa66724e3115295f6181de30a0239f8cb4c293be569676423568f456b64fec
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/membership-selection
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection/signup
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/signup
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ba61eb006c5aa5d24f5e13234c037a1e130400b4d14f85488fd505fb224bde7d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/signup
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/membership-selection/update
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/update
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bbee2637c96d8bec9ed6c7bc86e5244c1e8d27950650a801e46b33923920b28a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/update
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/campaigns-landings/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/campaigns-landings/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /campaigns-landings/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e247b3c829994f6b99e13df6615106be2b055826478cc62bd1dabbca04be352d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/campaigns-landings/{contextId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /seasonal-cashback/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0ac742987c979582f537413b72f2f72b6e3aa6ecc7adedd5cc0577a0bd755473
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/seasonal-cashback/{campaignId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)/activate"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/seasonal-cashback/([a-zA-Z0-9-_]+)/activate"
                      google_re2: {}
                    substitution: /seasonal-cashback/\1/activate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2766c6888ab92d6d9cb873e871572de64725e50b06f5586d556ccbcdb1bb3d6
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/seasonal-cashback/{campaignId}/activate"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  prefix: /api/fee-statement/available-intervals
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /fee-statement/available-intervals
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 07d585b0fb5b87f6fe30b574bf72422ac6e83a06dcd10d5db647492a4645d390
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/fee-statement/available-intervals
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  path: /api/app-icons
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /app-icons
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7bdace4428b0d64ee3c9edb8e8d59b14071db8e389138e951b3745e082acb571
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/app-icons
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/membership-selection/trial/details/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/membership-selection/trial/details/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /membership-selection/trial/details/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f2db261bda672a801398276b3ed17039f5e8576011eadc600dfae7d583658ed8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: "/api/membership-selection/trial/details/{accountPurpose}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/membership-selection/trial/optional-cards
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /membership-selection/trial/optional-cards
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: c0fda08c5d3ab2fa1d479a260b5c3d44ff2e3846571c686dadb1e3c12bd9bb5d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/membership-selection/trial/optional-cards
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  path: /api/migration/membership-details/french-iban
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tantalum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /migration/membership-details/french-iban
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f74083ae5642bf0a58645074fd477beb87778b2075c4b5a44ea24d09a58e977f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/migration/membership-details/french-iban
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=5,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/presentation/tax/flow/country/\1
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 39119593372d605f4a354beb5e6b3f16d0acea0b861098577bc67cdaedbb73c8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/flow/country/{taxCountry}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=3,window=1,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/country/([a-zA-Z0-9-_]+)/tax-id"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/country/([a-zA-Z0-9-_]+)/tax-id"
                      google_re2: {}
                    substitution: /api/presentation/tax/country/\1/tax-id
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 40e97404562977c9cef22572c04c621324537a7bf48034884217d9f3717b6ad8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/country/{taxCountry}/tax-id"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)/tax-id/confirm"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: taxadiene
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/tax/flow/country/([a-zA-Z0-9-_]+)/tax-id/confirm"
                      google_re2: {}
                    substitution: /api/presentation/tax/flow/country/\1/tax-id/confirm
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6d52c5346dfd143a94ff1d051ad31fdbd34c3d614637700f31ab80f67910a07e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/tax/flow/country/{taxCountry}/tax-id/confirm"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=20,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/openbanking/bank-authorization
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /bank-authorization
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e29671437c99f3271de3e8576bb6062ddd29242bc74c470c68f911f45cdbddce
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/terms-conditions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /terms-conditions
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 87dc284b69a82037d3bb0427b0a121333d111497b1359752c0ba04d3ccee56c1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/recovery-authorization
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /recovery-authorization
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 442635e50c5f1c94253ab0cafc307f88e1786f8725993c947682f18dcd869f92
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/alias-verification
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /alias-verification
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8d661b03ee4569f3aa6a1cd0e63c137c19a85dcfb8d4b0ef2478e0ffbc26323
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/certifications
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bc6a4762a71806c264bcd2dc99cbd7fecb99a7fdd0658c1e5f77e6466b86c6f2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/certifications
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/certifications
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9ac479d82f9474cbe5a7f9cbf4aa6fab677827c74713216e078c1eddab743afb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/account-linking
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/account-linking
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8bd87f69e8a155291713c46c930ef5da0ec6853da0715786005a7708e4d2ecbb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/guest-checkout/account-linking
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /guest-checkout/account-linking
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4f2332a834825065d6c65c33d6992fc4310477dbc91f1e728de53660e8a4c170
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/sepa
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/sepa
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2a2599ff4f4cd2f47ed33999574d0d82f06634e841b4c4057ee0b923edb1ba35
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/standingorders
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/standingorders
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 19e59a341f2002ebefb5af43bb4e5125c43406284b768ec31d12e352547a1a9b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/standingorders
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/standingorders
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d3618ecc860d95ebad652216476245545243eeae140252542a12e4caf472700f
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\"]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/accounts
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/accounts
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d067a6e228c7bc116334de1638953a7ea5a0efdac613c48ed415558b0bb88fd5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  prefix: /api/openbanking/fallback/v3/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: technetium
                  auto_host_rewrite: true
                  prefix_rewrite: /fallback/v3/spaces
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6ebd3efffc7b893b33cf62fe1cb1853d28072cb4ca1743f156876c35b1de1916
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
              - match:
                  path: /api/testservice/internal/path
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 921026c507f4af8bf62c681bad8f49d269a37bb4b273b2cd9c57a55b9cf9bba6
              - match:
                  path: /api/testservice/internal/path
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9eeb7bfb061feb751eb1740f1e504c74fd125707e390659727c1a6c4dd153d7b
              - match:
                  path: /api/testservice/unauthenticated/endpoint
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9993442f4b924c508b3a7e00cc02b1e60852e99a5a9d9339db76768aa087b22a
              - match:
                  path: /api/testservice/unauthenticated/endpoint
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 88d511c795b96b15c245ac2799d9d9e64accdddcc99115dd9ef59e3aa484552b
              - match:
                  path: /api/testservice/scope/default
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a5d573e70efa1e237f89160ef330cd88808257a111701a4f825fa7b8dd73be6b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/scope/default
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/scope/authentication/override
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 558e68be71af2045375013960780ef31535b5bc59933d05c11c3f697f69948e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"NON_SCA\"],\"pairing\":[\"\
                        PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/testservice/scope/authentication/override
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/scope/pairing/override
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b8f8b7d21ea28cc1428a3e3ef4fe99d0c9ed0cc9709e217a697597b9053b7376
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/scope/pairing/override
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/scope/client/override
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d7411df2edade7b85cec663c185b1dc22a879fb2f37ad7b20269abafb7d70d94
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"THIRD_PARTY\"]}"
                      route_path_match: /api/testservice/scope/client/override
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/scope/authentication/all/pairing/all/client/all
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 43e200955981462283b90ef9569964ce71b1fea44e5e35fbc32d5b1245ce1aae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\",\"SCA_RECOVERY\"\
                        ],\"pairing\":[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\"\
                        :[\"WEB_OAUTH\",\"FIRST_PARTY\",\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\"\
                        ,\"THIRD_PARTY_FALLBACK_PISP\",\"THIRD_PARTY_DEDICATED_AISP\"\
                        ,\"THIRD_PARTY_DEDICATED_PISP\",\"THIRD_PARTY_DEDICATED_CBPII\"\
                        ,\"PARTNER\",\"FIRST_PARTY_WIDGET\"]}"
                      route_path_match: /api/testservice/scope/authentication/all/pairing/all/client/all
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/:colon
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5bc74374b7cbf646af1a988a770bbd2ab81b6cdce446d1f4b90d250a1bdc80fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/:colon
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/testservice/tags
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 9dbcf13bbd2fb910ed4de9c1332fba52038438d2f087f1acdc106ad0bfd28aca
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/tags
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/path/variable/rewrite/([a-zA-Z0-9-_]+)/(customRegex)"
                    google_re2: {}
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/path/variable/rewrite/([a-zA-Z0-9-_]+)/(customRegex)"
                      google_re2: {}
                    substitution: /api/\2/\1/rest
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7b76632e31f2e572d726e62a964417978e27b6c2c10117cef778cf8055def335
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/path/variable/rewrite/{first}/{second:customRegex}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/path/variable/rewrite/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/path/variable/rewrite/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /api/\2/\1/rest
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 637c84ac8a2a8e1686a36375b282689711bf71f37ee814425dfd0262d3776e7b
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/path/variable/rewrite/{first}/{second}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/regex/rewrite/([a-z]+)"
                    google_re2: {}
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/regex/rewrite/([a-z]+)"
                      google_re2: {}
                    substitution: /api/\1/rest
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: edd868f29270e37f22c6c865615e4b15987385837becafebfaa2ae4ae74d4d58
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/regex/rewrite/([a-z]+)"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/retry/test
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 2
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2f8888930a90cef7ae16c867fc1a264c7e823cdd634c503eeec5a803f5e68dcc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/retry/test
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/decorator/locale/en
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 7d8931266207eee81813703c7433ed4d76eaf8af23f2e3ef9b566f7837c56e14
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/decorator/locale/en
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/decorator/locale/de
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1a2558095f489eb8d7477b200f6a3746f3ff565322d7f35113c93cbcb174d3a9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/decorator/locale/de
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/decorator/both
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4fdf32fad7b6b9379c5df0c4a086185b46a354a2ab04430cbddee236737da301
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/decorator/both
                      decorator:
                        headers: x-n26-userlocale;x-n26-usertnccountry
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-usertnccountry
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/decorator/userAccount
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f3f6fca5423ee830c0e597424ec78986809182436fcb07361f9a653aaad9eb76
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/decorator/userAccount
                      decorator:
                        headers: x-n26-userlocale;x-n26-useraccount-currency;x-n26-useraccount-legalentity;x-n26-useraccount-openedat
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-useraccount-currency
                          optional: false
                        - header: x-n26-useraccount-legalentity
                          optional: false
                        - header: x-n26-useraccount-openedat
                          optional: false
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/decorator/userGeoLocation
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bb276ec9f68caf61230de16f4c34a739c33d480b9aa21832f775d3417eb2b29a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/decorator/userGeoLocation
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-city-name
                          optional: true
                        - header: x-n26-userlocation-country-name
                          optional: true
                        - header: x-n26-userlocation-country-code
                          optional: true
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/decorator/userGeoLocationCoordinates
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3ebca75782b9fe583b15ae1e9465eb84ba797137f1cdecd934201e953a13f7fd
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      decorator:
                        headers: x-n26-userlocale;x-n26-geo-location-headers
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                        - header: x-n26-userlocation-latitude
                          optional: true
                        - header: x-n26-userlocation-longitude
                          optional: true
              - match:
                  path: /api/testservice/pin/configured
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: abf784d854325193a685ac316c3ec32d0271076aa843eeb85b1c51e80cbb178a
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/pin/configured
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/pin/not-configured
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a526d3b9f6345f6caf4f3355af5149164555e58ba5dab1702d2df79dc295b6d5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/pin/not-configured
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/testservice/non-compliant-prefix-match-expectation
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cbeccb61563b87a9125705df15095fd78f4eee386ff35ff2a2dce99c7eb81f19
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/testservice/non-compliant-prefix-match-expectation
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/testservice/path-matching/exact
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  prefix_rewrite: /rewrite/exact
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 94cf21775a522d5bd69e2ffe623132e81f675eda798c7e1d316fd44b8b59b2a7
              - match:
                  safe_regex:
                    regex: "/api/testservice/path-matching/path-variables/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/testservice/path-matching/path-variables/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /rewrite/path-variables/value1/\1/value2/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: a23422a6fda0f41631c7b857f1d66699bc9bf1255025c347ec4ad1f9cf3663ff
              - match:
                  prefix: /api/testservice/path-matching/prefix
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  prefix_rewrite: /rewrite/prefix
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ab933d4b36bf9a9110e3fee3877d297e41c0b2e17dcaee5e01d41eaafa09a945
              - match:
                  safe_regex:
                    regex: /api/testservice/path-matching/regex-(\d+)-(\w+)
                    google_re2: {}
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  regex_rewrite:
                    pattern:
                      regex: /api/testservice/path-matching/regex-(\d+)-(\w+)
                      google_re2: {}
                    substitution: /rewrite/regex/\1/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 86aa21f2ab7ba1b2bcf60d012fda49a2c5faae5ec661a1d914624b71280be9d0
              - match:
                  path: /api/testservice/header-matching/exact
                  headers:
                  - name: matching-exact-header
                    string_match:
                      exact: matching-exact-value
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 1bb42ececb9afc09e5cdc44cb75c9b681553b7b769eaaeca7c5d43da69a14a2f
              - match:
                  path: /api/testservice/header-matching/inverted-exact
                  headers:
                  - name: matching-exact-header
                    string_match:
                      exact: matching-exact-value
                    invert_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2edc5afdbb6518921cdd83975a4ec042c69bbb3fc56b9d45c43ccba300b3fc6d
              - match:
                  prefix: /api/testservice/rate-limiting/dry-run
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: testservice
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 273e2595efc04267004c76967e612e44b6076bec46c593cdf050c9e1d58493d1
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/testservice/rate-limiting/dry-run
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=10000,window=1,precision=1,backoff=0"
                      action_1:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=1,window=86400,precision=86400,backoff=0,dry-run=true"
              - match:
                  path: /api/testservice/header-matching/prefix
                  headers:
                  - name: matching-prefix-header
                    string_match:
                      prefix: matching-prefix-value
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec1831fa7f78f83e4a5b8c6b9b6a4c1986bdc7f8d51a7b4c07bc7eb02c8b06ad
              - match:
                  path: /api/testservice/header-matching/inverted-prefix
                  headers:
                  - name: matching-prefix-header
                    string_match:
                      prefix: matching-prefix-value
                    invert_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 18569826fb0f75927f59e3964c827628abcf2a76efdc45fb0495ab0d4b98cf4b
              - match:
                  path: /api/testservice/header-matching/suffix
                  headers:
                  - name: matching-suffix-header
                    string_match:
                      suffix: matching-suffix-value
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 922ae899f8e0ed0b41ef7d1566668edd9971a1335ffb7a8bf8687110dd5c147f
              - match:
                  path: /api/testservice/header-matching/inverted-suffix
                  headers:
                  - name: matching-suffix-header
                    string_match:
                      suffix: matching-suffix-value
                    invert_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 30cbbb432b57ee6256bde68d77f247edfd412eef2ffb71799751a35cc703946b
              - match:
                  path: /api/testservice/header-matching/present
                  headers:
                  - name: matching-present-header
                    present_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 871673db1cf01b1eddbd8964cc501876e29eae39d5025d518d3ae3a7ba052c02
              - match:
                  path: /api/testservice/header-matching/inverted-present
                  headers:
                  - name: matching-present-header
                    present_match: true
                    invert_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 0e62fd26e941cd27265908b45c09cf8a0f45b6ac7702d1fca16037e7e0cb4587
              - match:
                  path: /api/testservice/header-matching/not-present
                  headers:
                  - name: matching-not-present-header
                    present_match: false
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ba632684f140ae87aef9571cb01798e962c89510f2be352099b6d1555b12da5b
              - match:
                  path: /api/testservice/header-matching/inverted-not-present
                  headers:
                  - name: matching-not-present-header
                    present_match: false
                    invert_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f8078f67e6c0cb06da814511377d3e78eb5f69fccf392bb19a3ba98884b696b5
              - match:
                  path: /api/testservice/header-matching/regex
                  headers:
                  - name: matching-regex-header
                    string_match:
                      safe_regex:
                        regex: matching-regex-value-\d+
                        google_re2: {}
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 58a6999d1fec2262f952dfc8e34507bf0c160af4a173a8a55745888735b0a54c
              - match:
                  path: /api/testservice/header-matching/inverted-regex
                  headers:
                  - name: matching-regex-header
                    string_match:
                      safe_regex:
                        regex: matching-regex-value-\d+
                        google_re2: {}
                    invert_match: true
                direct_response:
                  status: 200
                  body:
                    inline_string: OK
                response_headers_to_add:
                - header:
                    key: content-type
                    value: application/json
                - header:
                    key: x-response-status
                    value: OK
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 862cf6a4372772ed4d1f8e4b889c2da2c1260bc653dd5053ce1f86a742f6dd14
              - match:
                  path: /api/testservice2/example
                route:
                  cluster: testservice2
                  auto_host_rewrite: true
                  prefix_rewrite: /rewrite/example
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 66cb47bb04f19f25012bc7e2df3d18541fd80909e2d070e63fd0e3bdf98ff389
              - match:
                  prefix: /api/directdebit/reprocessed
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: tps
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 77f32e2e5d3d54390e38efa7d06fb860ff00cbb42793c53fe8a99533f4630cfb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/directdebit/reprocessed
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/transactions
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/transactions
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: f991382947d6b8fd81d9f7f00b96069d1b45947c8c6cf3fcfa73d0a58a222fe7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ,\"THIRD_PARTY\",\"THIRD_PARTY_FALLBACK_AISP\",\"THIRD_PARTY_FALLBACK_PISP\"\
                        ]}"
                      route_path_match: /api/smrt/transactions
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/categories
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/categories
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6f1b444f31cfb69ed5c23bed89cd9056cd34ca05f2d1f0c5409647ed9947764e
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/categories
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/statistics/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/statistics/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 445bff2b604c548d9c2848d7b58fc3732e7302c4975eda7524effdb661aa9cde
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/statistics/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/smrt/reports/
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: transactor
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /smrt/reports/
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                response_headers_to_remove:
                - etag
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ec22073e64e0385b2c064e72f4a0e2089c2700df6faf4647d172c5380456b189
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/smrt/reports/
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/translations
                route:
                  cluster: babel
                  auto_host_rewrite: true
                  prefix_rewrite: /translations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4b37b1f980e021ca4d95a1061fbaac799880dcb9c22500975d3461d22ef78ff4
              - match:
                  prefix: /api/v2/translations
                route:
                  cluster: babel
                  auto_host_rewrite: true
                  prefix_rewrite: /v2/translations
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 4e90d9946b57505b77768aed9645d723903744f07fa5a8034724c64fe35d34f1
              - match:
                  prefix: /api/referrals/code
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /referral-codes
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 33f41b00771f598d8626c59f1eaf245a1a1cd6d22981558a3cfed8f5a7f53502
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/referrals/code
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=5,window=300,precision=300,backoff=0"
              - match:
                  prefix: /api/referrals
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /referrals
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6e957dcef98b5912a6f969ada82f9a3ff38d196de0450098f55e70c75e9b0196
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/referrals
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  path: /api/coupons/validate
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /codes/validate
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bf51657fd5150c33b24df27932e30bbc4ce9a5a20945c1127d8a3835e59cdad0
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/coupons/validate
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/campaigns
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /campaigns
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 96e81b10a006153f1c0a8cfbfab38595dbe28e97d94df1b3a26439729088ecfe
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      route_path_match: /api/coupons/campaigns
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-ip"
                        policy: "requests=100,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/:consume
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/coupons
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b08939db41e724e6a859d59dda2e432884b7008d1ffb9db94a5ed96cc35a90b8
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/coupons/:consume
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=1800,precision=1800,backoff=0"
              - match:
                  path: /api/coupons/users/external
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: uranium
                  auto_host_rewrite: true
                  timeout: 5s
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /users/coupons/external
                response_headers_to_add:
                - header:
                    key: pragma
                    value: no-cache
                - header:
                    key: cache-control
                    value: "no-cache, no-store, max-age=0, must-revalidate"
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d1525a1c9499f55ff585f35eab9009234b8e74757075726d66e2765c560b0787
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\",\"NON_SCA\"],\"pairing\"\
                        :[\"PAIRED\",\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"\
                        ]}"
                      route_path_match: /api/coupons/users/external
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/rate-limit-me
                route:
                  cluster: vanadium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_1
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3ea8762d4b1d420a9932e46d60c0b2e73b34106583bddce727762fafe83da4d9
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/rate-limit-me
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-variables,user-id"
                        policy: "requests=3,window=10,precision=1,backoff=0"
                      action_1:
                        descriptors: "method,path-variables,user-ip"
                        policy: "requests=200000,window=3600,precision=1,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/spaces/([a-zA-Z0-9-_]+)/lock"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 00b2a35ffb9064c3799f9bbeb38d7e6ce6dcf07dd1753f3ee2a10468d52ff0a5
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/spaces/{spaceId}/lock"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/spaces/([a-zA-Z0-9-_]+)/unlock"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 6e61b4388a7ada7d38fa399cfef37c6bf130aa82c7baa96abf07ee7d8ba7e7f7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/spaces/{spaceId}/unlock"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/v2/spaces/([a-zA-Z0-9-_]+)/externalId"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 2dc4e4fb86c1cf1abf0fce10810002d0461f65487c03887ba795463d80a9fa53
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      - PIN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/v2/spaces/{spaceId}/externalId"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces/terms/upgrade
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 78f840092f46269b712d9fed61a1f01d0b2b9d131486271eb9bff7ca275ec47d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/v2/spaces/terms/upgrade
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 3
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: d39cdde1355e42062b01f99fece4d2f28f5eced0d5b8300c06c7307e3d86f265
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  retry_policy:
                    retry_on: gateway-error
                    num_retries: 3
                    retry_host_predicate:
                    - name: envoy.retry_host_predicates.previous_hosts
                      typed_config:
                        '@type': type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate
                    host_selection_retry_max_attempts: 3
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: cae55767aa0ad112d974d8840661827ef8bdfc8b87887ff9d9e02000325622fb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/v2/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/spaces
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e95bf862b6ad54f02d0f787212ed52b124983dcb3a39c8ac1f94e1306399bf77
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  prefix: /api/v2/spaces
                route:
                  cluster: wolframium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - generic_key:
                        descriptor_value: "true"
                        descriptor_key: default-policy
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: ba10c684d39e6b0b7039d6ff00fb70dd2ff888a6c0d4e69a7ee0c7a87a3cc51c
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\",\"THIRD_PARTY\"\
                        ,\"THIRD_PARTY_FALLBACK_AISP\"]}"
                      route_path_match: /api/v2/spaces
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=1000,window=3600,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/category"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: PUT
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 92ed5108a322f9ee09379aab3f31e90468cd2681f845a119df8aa24508f2dfcb
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/category"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/tags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 132b2095b30ca4f869e72f4f04736969049f6c50aafeeade780f89671c1a6b53
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/tags"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: DELETE
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 5155c66cdc5070e8f45dfeb60ea1eedd57df7f53b294ce3b2454dc74adeae7a2
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/accounts/([a-zA-Z0-9-_]+)/transactions/([a-zA-Z0-9-_]+)/tags/delete"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: POST
                route:
                  cluster: zincum
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: b7c6392b1b3c65b5bc49c82f5ef181532ad2b997e2fb24a648ac42728ad0c67d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/accounts/{accountId}/transactions/{transactionId}/tags/delete"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=100,window=300,precision=300,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/per-account/\1/\2
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 3fde2e99aaf05a4fba4e1f01b9cdec528cfc369201938fcf0c58b0eb174ab12d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/per-account/{accountId}/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 286223accd0836e0e741721020aaaac3cb5e8e20a9a93543ace653204aa5b4e7
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/balance-statements/period
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements/period
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 527ac7ac907e68fa22cc67b5c38aeb2043a36704120f7ee25e7e10d1392222af
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/balance-statements/period
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/balance-statements/per-account/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/per-account/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: dfb34319eed1945eb878490e52753c4bc9797287e6bd09fad0436d04fce3568d
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/balance-statements/per-account/{accountId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /api/balance-statements
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 8a0a276fcfa5944c6e2dd89c52e1d96fd1b779c30a7de6f214186c8fbd881edc
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/balance-statements
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/average-annual-balance/statement/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/average-annual-balance/statement/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /average-annual-balance/statement/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: bf4a7132851fc2dbddde9a50cbdf810ccbf41b923fa9fdcddba46e9a5f04bc64
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/average-annual-balance/statement/{year}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=60,precision=60,backoff=0"
              - match:
                  safe_regex:
                    regex: "/api/statements/([a-zA-Z0-9-_]+)"
                    google_re2: {}
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  regex_rewrite:
                    pattern:
                      regex: "/api/statements/([a-zA-Z0-9-_]+)"
                      google_re2: {}
                    substitution: /balance-statements/\1
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: e634c4a389a76a5a7b6136389e9fd50edea15efcf37ca783e3bece5ca1c7e7ae
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: "/api/statements/{statementId}"
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=10,window=30,precision=30,backoff=0"
              - match:
                  prefix: /api/statements
                  headers:
                  - name: :method
                    string_match:
                      exact: GET
                route:
                  cluster: zirconium
                  auto_host_rewrite: true
                  rate_limits:
                  - actions:
                    - metadata:
                        descriptor_key: rate-limit-descriptors
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: descriptors
                    - metadata:
                        descriptor_key: rate-limit-policy
                        source: ROUTE_ENTRY
                        metadata_key:
                          key: rate.limit
                          path:
                          - key: action_0
                          - key: policy
                    - request_headers:
                        descriptor_key: user-id
                        header_name: x-n26-userid
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: user-ip
                        header_name: x-n26-userip
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: open-banking-secret
                        header_name: x-open-banking-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: prod-sec-secret
                        header_name: x-prod-sec-secret
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: request-id
                        header_name: x-request-id
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: method
                        header_name: :method
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path
                        header_name: :path
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-match
                        header_name: x-n26-path-match
                        skip_if_absent: true
                    - request_headers:
                        descriptor_key: path-variables
                        header_name: :path
                        skip_if_absent: true
                  prefix_rewrite: /balance-statements
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: aa9836c1496c4cad221b2558244bb5977bcd04334e7fac5e5f4332cb147c4005
                metadata:
                  filter_metadata:
                    envoy.filters.http.lua:
                      authorization:
                      - TOKEN
                      scopes: "{\"authenticationType\":[\"SCA\"],\"pairing\":[\"PAIRED\"\
                        ,\"UNPAIRED\"],\"clientTypeScopes\":[\"FIRST_PARTY\"]}"
                      route_path_match: /api/statements
                      decorator:
                        headers: x-n26-userlocale
                        config:
                        - header: x-n26-userlocale
                          optional: true
                          default: en
                    rate.limit:
                      action_0:
                        descriptors: "method,path-match,user-id"
                        policy: "requests=60,window=60,precision=60,backoff=0"
              - match:
                  prefix: /
                route:
                  cluster: api
                  auto_host_rewrite: true
                request_headers_to_add:
                - header:
                    key: x-n26-envoy-route-id
                    value: 32528a6a254459c647d5e42ddddff66a98170b4f1bbea55eac0bdd0f42536a37
          http_filters:
          - name: envoy.filters.http.health_check
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.health_check.v3.HealthCheck
              pass_through_mode: false
              headers:
              - name: :path
                string_match:
                  exact: /management/health
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  -- remove auth headers coming from downstream
                  request_handle:headers():remove("x-n26-userid")
                  request_handle:headers():remove("x-n26-scopes")
                  request_handle:headers():remove("x-session-id")

                  local authserver = require "authserver"
                  local os = require "os"
                  local metrics = require "metrics"
                  if (not pcall(authserver.run_authentication, request_handle, os, metrics)) then
                    request_handle:respond({ [":status"] = "403" }, "")
                  end

                  local cerium = require "cerium"
                  cerium.validate_pin(request_handle)
                end
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  local metadata = request_handle:metadata()
                  local routePathMatch = metadata and metadata:get("route_path_match")

                  if (routePathMatch ~= nil) then
                    request_handle:headers():add("x-n26-path-match", routePathMatch)
                  end
                end
          - name: envoy.filters.http.ratelimit
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.ratelimit.v3.RateLimit
              domain: ruthenium
              stage: 0
              timeout: 1s
              failure_mode_deny: false
              rate_limit_service:
                grpc_service:
                  envoy_grpc:
                    cluster_name: vanadium
                    authority: vanadium.service.consul
                transport_api_version: V3
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  local decorator = require "decorator"
                  local metrics = require "metrics"

                  decorator.decorate_request(metrics, request_handle)
                end
          - name: envoy.filters.http.lua
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.lua.v3.Lua
              inline_code: |2

                function envoy_on_request(request_handle)
                  -- remove headers coming from downstream
                  request_handle:headers():remove("x-open-banking-secret")
                  request_handle:headers():remove("x-prod-sec-secret")
                  request_handle:headers():remove("x-n26-path-match")
                end
          - name: envoy.filters.http.router
            typed_config:
              '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
              start_child_span: true
    traffic_direction: OUTBOUND
  clusters:
  - name: adrenaline
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: adrenaline
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: adrenaline.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: adrenaline.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: aether
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: aether
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: aether.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: aether.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: api
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: api
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: api.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: api.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: aspartame
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: aspartame
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: aspartame.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: aspartame.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: babel
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: babel
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: babel.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: babel.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: barium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: barium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: barium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: barium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: boron
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: boron
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: boron.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: boron.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: bromine
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: bromine
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: bromine.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: bromine.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: caesium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: caesium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: caesium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: caesium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: caffeine
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: caffeine
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: caffeine.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: caffeine.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cerium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cerium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cerium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cerium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: charizard
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: charizard
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: charizard.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: charizard.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: chronoton
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: chronoton
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: chronoton.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: chronoton.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cmd
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cmd
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cmd.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cmd.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cobalt
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cobalt
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cobalt.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cobalt.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: consumercredit
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: consumercredit
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: consumercredit.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: consumercredit.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: cryptonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: cryptonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: cryptonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: cryptonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: curium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: curium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: curium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: curium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: datadog_agent
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: datadog_agent
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: "${DD_AGENT_HOST}"
                port_value: 8126
    dns_refresh_rate: 5s
  - name: datadog_agent_http_proxy
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: datadog_agent_http_proxy
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: "${DD_AGENT_PROXY_HOST}"
                port_value: 5001
    dns_refresh_rate: 5s
  - name: diamond
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: diamond
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: diamond.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: diamond.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: diglett
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: diglett
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: diglett.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: diglett.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: ditto
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ditto
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: ditto.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: ditto.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: dubnium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: dubnium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: dubnium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: dubnium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: einsteinium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: einsteinium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: einsteinium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: einsteinium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: flerovium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: flerovium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: flerovium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: flerovium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: fluorium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: fluorium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: fluorium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: fluorium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: gadolinium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: gadolinium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: gadolinium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: gadolinium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hassium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hassium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hassium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hassium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: holmium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: holmium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: holmium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: holmium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hydrargyrum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hydrargyrum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hydrargyrum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hydrargyrum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: hyperalloy
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: hyperalloy
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: hyperalloy.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: hyperalloy.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: ibuprofen
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: ibuprofen
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: ibuprofen.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: ibuprofen.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: idnow
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: idnow
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: idnow.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: idnow.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: kalium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: kalium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: kalium.service.consul
                port_value: 443
    per_connection_buffer_limit_bytes: 20971520
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: kalium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: kerosene
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: kerosene
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: kerosene.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: kerosene.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: magneton
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: magneton
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: magneton.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: magneton.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: methanol
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: methanol
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: methanol.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: methanol.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: miglitol
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: miglitol
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: miglitol.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: miglitol.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: molybdenum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: molybdenum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: molybdenum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: molybdenum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: moscovium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: moscovium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: moscovium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: moscovium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: natrium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: natrium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: natrium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: natrium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: neodymium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: neodymium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: neodymium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: neodymium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: neptunium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: neptunium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: neptunium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: neptunium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: nihonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: nihonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: nihonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: nihonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: notificator
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: notificator
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: notificator.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: notificator.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: onboardium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: onboardium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: onboardium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: onboardium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: osmium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: osmium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: osmium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: osmium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: oxygenium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: oxygenium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: oxygenium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: oxygenium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: peppermint
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: peppermint
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: peppermint.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: peppermint.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: pikachu
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: pikachu
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: pikachu.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: pikachu.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: platinum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: platinum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: platinum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: platinum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: plutonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: plutonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: plutonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: plutonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: polonium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: polonium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: polonium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: polonium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: postidentkyc
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: postidentkyc
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: postidentkyc.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: postidentkyc.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: praseodymium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: praseodymium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: praseodymium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: praseodymium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: product
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: product
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: product.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: product.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: protectedaccounts
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: protectedaccounts
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: protectedaccounts.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: protectedaccounts.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: psyduck
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: psyduck
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: psyduck.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: psyduck.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: radon
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: radon
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: radon.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: radon.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: rubidium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: rubidium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: rubidium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: rubidium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: rutherfordium
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: rutherfordium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: rutherfordium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: rutherfordium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: samarium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: samarium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: samarium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: samarium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: scandium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: scandium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: scandium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: scandium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: silane
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: silane
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: silane.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: silane.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: silicon
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: silicon
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: silicon.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: silicon.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: snorlax
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: snorlax
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: snorlax.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: snorlax.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: squirtle
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: squirtle
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: squirtle.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: squirtle.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: stannum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: stannum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: stannum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: stannum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: stibium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: stibium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: stibium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: stibium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: sulfur
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: sulfur
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: sulfur.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: sulfur.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: tantalum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: tantalum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: tantalum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: tantalum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: taxadiene
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: taxadiene
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: taxadiene.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: taxadiene.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: technetium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: technetium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: technetium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: technetium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: testservice
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: testservice
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: testservice.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: testservice.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: testservice2
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: testservice2
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: testservice2.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: testservice2.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: tps
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: tps
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: tps.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: tps.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: transactor
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: transactor
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: transactor.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: transactor.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: uranium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: uranium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: uranium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: uranium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: vanadium
    connect_timeout: 1s
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: vanadium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: vanadium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: vanadium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: wolframium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: wolframium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: wolframium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: wolframium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: zincum
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: zincum
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: zincum.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: zincum.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
  - name: zirconium
    connect_timeout: 1s
    type: strict_dns
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: zirconium
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: zirconium.service.consul
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: zirconium.service.consul
        common_tls_context:
          validation_context:
            trusted_ca:
              filename: /ca.crt
    dns_refresh_rate: 5s
admin:
  access_log:
    name: envoy.access_loggers.file
    typed_config:
      '@type': type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
      path: /dev/null
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 8001
stats_sinks:
  name: envoy.stat_sinks.dog_statsd
  typed_config:
    '@type': type.googleapis.com/envoy.config.metrics.v3.DogStatsdSink
    address:
      socket_address:
        address: "${DD_AGENT_HOST}"
        port_value: 8125
        protocol: udp
stats_config:
  stats_matcher:
    exclusion_list:
      patterns:
      - prefix: cluster.datadog_agent.
  stats_tags:
  - tag_name: group
    fixed_value: ruthenium
  - tag_name: service
    fixed_value: ruthenium
  - tag_name: component
    fixed_value: service
  use_all_default_tags: true
layered_runtime:
  layers:
  - name: static_layer
    static_layer:
      re2.max_program_size.error_level: 200
stats_flush_interval: 5s
